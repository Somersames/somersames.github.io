<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[SpringbootÁöÑmavenÈó¥Êé•‰æùËµñ]]></title>
    <url>%2F2020%2F05%2F19%2Fspringboot-indirect-maven-rely%2F</url>
    <content type="text"><![CDATA[Âú®È°πÁõÆ‰∏≠ÁªèÂ∏∏‰ΩøÁî® maven Êù•ÁÆ°ÁêÜÈ°πÁõÆÔºå‰ΩÜÊòØÊúâÊó∂ÂÄôÂØπ‰∫é maven ÁöÑÁªÜËäÇËøòÊòØ‰∫ÜËß£ÁöÑ‰∏çÊòØÂæàÊ∏ÖÊ•öÔºåÂõ†Ê≠§‰ªäÂ§©Â§ç‰π†‰∏ã„ÄÇ mavenÈ°πÁõÆÈ¶ñÂÖàÂºÄÂßãÂª∫Á´ã‰∏Ä‰∏™ÊúÄÁÆÄÂçïÁöÑ maven È°πÁõÆÔºåÂÖ∂ÈÖçÁΩÆÂ¶Ç‰∏ãÂõæÔºö ÂèØ‰ª•ÁúãÂà∞ÊúÄ‰∏äÈù¢‰∏ÄË°åÊòØ xml ÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶ÔºåÁÑ∂ÂêéÂÜçÊòØ projectÔºåÂú®ËøôÈáåÂºïÂÖ• xsd Êñá‰ª∂„ÄÇ XSD(XML Schemas Definition)XML SchemaÔºåÊèèËø∞‰∫Ü xml ÊñáÊ°£ÁöÑÁªìÊûÑÔºåÁî®‰∫éÂà§Êñ≠ÂÖ∂ÊòØÂê¶Á¨¶Âêà xml ÁöÑÊ†ºÂºèË¶ÅÊ±Ç ÁÑ∂Âêé‰∏ãÈù¢Â∞±ÊòØ groupIdÔºåÈÄöÂ∏∏ÊòØÂÖ¨Âè∏ÁöÑÂüüÂêçÔºåartifactId ÈÄöÂ∏∏ÊåáÁöÑÊòØÈ°πÁõÆÂêçÁß∞„ÄÇ SpringbootÈ°πÁõÆÊåâÁÖßÂÆòÊñπÁöÑÁõ¥Âà∞ÔºåÂú®È°πÁõÆ‰∏≠È¶ñÂÖàÂºïÁî® spring-boot-starter-parentÔºå‰øÆÊîπÂêéÁöÑ pom.xml Â¶Ç‰∏ãÔºö12345678910111213141516171819202122232425&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;org.example&lt;/groupId&gt; &lt;artifactId&gt;maven-test&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.2.2.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt;&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;finalName&gt;maven-test&lt;/finalName&gt;&lt;/build&gt;&lt;/project&gt; ÂΩìÂáÜÂ§áÂú®ÂêØÂä®Á±ª‰∏äÂä† @SpringBootApplication Ê≥®Ëß£ÁöÑÊó∂ÂÄôÔºåÊ≠§Êó∂ IDEA ‰ºöÊèêÁ§∫Êâæ‰∏çÂà∞Ëøô‰∏™Ê≥®Ëß£„ÄÇËøôÊòØÊ≠£Â∏∏ÁöÑÔºåÂõ†‰∏∫ parent Âè™ÊòØÊääËøô‰∏™È°πÁõÆÁöÑÈÖçÁΩÆÂíå‰æùËµñ‰ø°ÊÅØÁªü‰∏ÄÂåñ‰∫ÜÔºå‰ΩøÂæó Â≠êpom Â∞±‰∏çÁî®ÂÖ≥ÂøÉÁâàÊú¨ÈóÆÈ¢òÔºå‰æãÂ¶ÇÂú®È°πÁõÆ‰∏≠ÂºïÂÖ•spring-boot-starter-webÔºåÂΩìÈÖçÁΩÆ‰∫Ü parent ‰πãÂêéÔºåÂè™ÈúÄË¶ÅÂú® Â≠êpom ‰∏≠Â¶Ç‰∏ãÈÖçÁΩÆÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt; ÈÇ£‰πàÂÆÉÁöÑÈÖçÁΩÆ‰ø°ÊÅØÂ∞±‰ºöËá™Âä®ÁöÑ‰ªé parent ‰∏≠ËØªÂèñ„ÄÇ‰æãÂ¶ÇÂàöÂàöÁöÑspring-boot-starter-web‰ø°ÊÅØÔºåÂÆÉÁöÑÁâàÊú¨‰ø°ÊÅØÂ¶Ç‰∏ãÔºö tips:‰ΩøÁî®ÂëΩ‰ª§mvn -Dverbose dependency:treeÂ∞±ÂèØ‰ª•ÂÉèËøôÊ†∑ÊâìÂç∞ jar ÁöÑ‰æùËµñ ÈÇ£‰πà springboot ÂèàÊòØÊÄéÊ†∑Êù•Ëá™Âä®ËØÜÂà´ÁâàÊú¨Âè∑ÁöÑÂë¢ÔºåÊ≠§Êó∂Â∞±Â∞±Ê∂âÂèäÂà∞‰∫Üspring-boot-dependencies spring-boot-dependenciesspring-boot-dependencies ÊòØ spring-boot-starter-parent ÁöÑ‰∏Ä‰∏™ parentÔºåÂèØ‰ª•Âú® spring-boot-starter-parent ÁöÑ pom Êñá‰ª∂‰∏≠ÁúãÂà∞„ÄÇÊâìÂºÄ spring-boot-dependencies Êñá‰ª∂Ôºå‰Ω†‰ºöÂèëÁé∞ÂÆÉÈáåÈù¢Âá†‰πéÂÖ®ÈÉ®ÈÉΩÊòØ‰∏Ä‰∫õÈÖçÁΩÆ‰ø°ÊÅØÔºåËÄåÂàöÂàöÁöÑspring-boot-dependencies ÁâàÊú¨Âè∑Â∞±ÊòØÊù•Ëá™‰∫éÊ≠§„ÄÇ Âà∞ÁõÆÂâç‰∏∫Ê≠¢ÔºåÂèØ‰ª•Âü∫Êú¨ÁêÜÊ∏Ö springboot ÁöÑ‰æùËµñÂÖ≥Á≥ª‰∫Ü„ÄÇ ÊâìÂåÖÂú®Â∑•Á®ã‰∏≠ÔºåÈöè‰æøÂÜô‰∏Ä‰∏™ controllerÔºåÁÑ∂ÂêéÊâßË°åmvn packageÔºåÊ≠§Êó∂‰ºöÂú® target ÁõÆÂΩï‰∏ãÂá∫Áé∞‰∏Ä‰∏™ jar ÂåÖÔºåÁÑ∂ÂêéËøêË°å jar ÂåÖÔºåÊ≠£Â∏∏ÂêØÂä®OK„ÄÇ ÊõøÊç¢parentÊó¢ÁÑ∂ spring-boot-starter-parent ÊòØ‰æùËµñ‰∫é spring-boot-dependenciesÁöÑÔºåÈÇ£‰πàÂèØ‰∏çÂèØ‰ª•Áõ¥Êé•Â∞Üparent ËÆæÁΩÆ‰∏∫spring-boot-dependenciesÂë¢Ôºå‰øÆÊîπ pom Êñá‰ª∂Â¶Ç‰∏ã: ÁÑ∂ÂêéÊâßË°åmvn packageÔºåÊâßË°åÁöÑÊó∂ÂÄôÊòØÊàêÂäüÁöÑÔºå‰ΩÜÊòØÂΩì‰Ω†Áî® java -jar maven-test.jar ÁöÑÊó∂ÂÄôÔºå‰Ω†‰ºöÂèëÁé∞ÊèêÁ§∫Â¶Ç‰∏ãÔºö12target java -jar maven-test.jarmaven-test.jar‰∏≠Ê≤°Êúâ‰∏ªÊ∏ÖÂçïÂ±ûÊÄß ÂéüÂõ†È¶ñÂÖàÂàÜÊûê‰∏ã‰∏§‰∏™ÁöÑ maven log„ÄÇ spring-boot-starter-parent‰Ωú‰∏∫parent spring-boot-dependencies‰Ωú‰∏∫parent ÂèØ‰ª•ÁúãÂà∞Á¨¨‰∫åÊ¨°ÁöÑÊâìÂåÖÊèí‰ª∂ÊòØ maven-jar-pluginÔºå‰πüÂ∞±ÊòØËØ¥ springboot ÁöÑÈ°πÁõÆ‰∏Ä‰∫õËµÑÊ∫êÂπ∂Ê≤°ÊúâÊâìÂåÖËøõÊù•ÔºåÊü•Áúã spring-boot-maven-plugin Êèí‰ª∂ÔºåÂèëÁé∞ÂÆÉÊòØÊù•Ëá™‰∫é spring-boot-starter-parent ÈáåÈù¢ÁöÑÔºå‰ΩÜÊòØÂú®ÊñáÁ´†ÁöÑÂºÄÂ§¥ÈÉ®ÂàÜÔºåÊòØÂ∑≤ÁªèÊâãÂä®ÁöÑÂ∞ÜÂÖ∂ÂºïÂÖ•Âà∞‰∫Ü pom Êñá‰ª∂ÔºåÈÇ£‰πà‰øÆÊîπ parent ‰ª•ÂêéÊú™ÊâßË°åÁöÑËØùÔºåÊúÄÊúâÂèØËÉΩÂ∞±ÊòØÁâàÊú¨Âè∑ÁöÑÁº∫Â§±ÂØºËá¥ÁöÑÔºå‰∫éÊòØ‰øÆÊîπpomÔºö12345678 &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;version&gt;2.1.11.RELEASE&lt;/version&gt; &lt;/plugin&gt;&lt;/plugins&gt;&lt;finalName&gt;maven-test&lt;/finalName&gt; ÁÑ∂ÂêéËøêË°åmvn packageÔºö1234[INFO] --- spring-boot-maven-plugin:2.1.11.RELEASE:repackage (repackage) @ maven-test ---[INFO] Replacing main artifact with repackaged archive[INFO] ------------------------------------------------------------------------[INFO] BUILD SUCCESS ‰Ω†‰ºöÂèëÁé∞Ê≠§Êó∂ÊâìÂåÖÂá∫Êù•ÁöÑ jar Êñá‰ª∂Â∑≤ÁªèÂèØ‰ª•ËøêË°å‰∫Ü„ÄÇ ËøõÈò∂ÈÇ£‰πàÂÅáËÆæÈ°πÁõÆÂ∑≤ÁªèÊúâ‰∫ÜËá™Â∑±ÁöÑ parentÔºåÂ¶ÇÊûúËøòÊÉ≥Áî® spring-boot-dependencies Êù•ËøõË°åÁªü‰∏ÄÁöÑ‰∏Ä‰∏™ÂÖ®Â±ÄÁâàÊú¨ÊéßÂà∂ÔºåÈÇ£‰πàÊúâÂ¶Ç‰∏ãÁöÑËß£ÂÜ≥ÂäûÊ≥ï Âú®Ëá™Â∑±ÁöÑparent‰∏≠ËÆæÁΩÆparent‰∏∫ spring-boot-starter-parentÔºåÈÇ£‰πàÊ†πÊçÆ maven ÁöÑÁªßÊâøÂ±ûÊÄßÔºåÊâÄÊúâÁöÑ Â≠êpom ‰πüÂ∞±È°∫Â∏¶ÁªßÊâø‰∫Ü spring-boot-starter-parent]]></content>
  </entry>
  <entry>
    <title><![CDATA[ÈòøÈáå‰∫ëSDK‰ΩøÁî®‰ª£ÁêÜÁöÑ‰∏Ä‰∏™Âùë]]></title>
    <url>%2F2020%2F05%2F16%2F%E9%98%BF%E9%87%8C%E4%BA%91SDK%E4%BD%BF%E7%94%A8%E4%BB%A3%E7%90%86%E7%9A%84%E4%B8%80%E4%B8%AA%E5%9D%91%2F</url>
    <content type="text"><![CDATA[Áî±‰∫éÈ°πÁõÆ‰∏≠ÈúÄË¶Å‰ΩøÁî®ÈòøÈáå‰∫ëÁöÑÁü≠‰ø°Âπ≥Âè∞ÔºåÊâÄ‰ª•Áõ¥Êé•ÂºïÁî®‰∫ÜÊúÄÊñ∞ÁöÑSDKÔºåÁâàÊú¨Âè∑‰∏∫ 4.5.1„ÄÇ‰ΩÜÊòØÁî±‰∫éÊú∫Âô®Âú®ÂÜÖÁΩëÁéØÂ¢ÉÔºåÂ¶ÇÊûúÈúÄË¶ÅËÆøÈóÆÂ§ñÈÉ®ÁΩëÁªúÁöÑËØùÔºåÈúÄË¶Å‰ª£ÁêÜÊú∫Âô®„ÄÇ‰∫éÊòØÂéªÁúã‰∏ã ÈòøÈáåÁöÑSDK ÂÆòÊñπÊñáÊ°£ÔºåÂ¶Ç‰ΩïÊîØÊåÅ‰ª£ÁêÜËÆøÈóÆÔºå‰∫éÊòØÊâæÂà∞‰ª•‰∏ãÂÜÖÂÆπÔºö ÂùëÂ∞±ÂùëÂú®Ëøô‰∏™ÊñáÊ°£ÈáåÈù¢ÁöÑËÆæÁΩÆÊñπÊ≥ïÔºåËÆæÁΩÆ‰∫ÜÂπ∂Ê≤°Êúâ‰ªÄ‰πàÁî®„ÄÇ‰∫éÊòØËá™Â∑±Á†îÁ©∂‰∫Ü‰∏ãËøôÁßçËÆæÁΩÆ‰∏∫‰ªÄ‰πà‰∏çÁîüÊïà„ÄÇ System.setPropertyËøô‰∏™ÂëΩ‰ª§ÂíåÂú®ÂêØÂä®ÂèÇÊï∞‰∏≠Âä† -DXXX=XXX ÊòØ‰∏ÄÊ†∑ÁöÑÊïàÊûúÔºå‰æãÂ¶ÇÔºö12System.setProperty("http.proxyHost", "127.0.0.1"); System.setProperty("http.proxyPort", "8888"); Â∞±Á≠â‰ª∑‰∫é -Dhttp.proxyHost=127.0.0.1 -Dhttp.proxyPort = 8888Ôºå‰ΩÜÊòØËøôÁßçËÆæÁΩÆÊúâ‰∏Ä‰∏™ÈôêÂà∂ÔºåÈÇ£Â∞±ÊòØÂè™ÂØπ JDK Ëá™Â∏¶ÁöÑ HttpURLConnection ÊúâÊïàÔºåÂ¶Ç‰∏ãDemoÔºö ÂΩìÊàë‰ª¨ÊâßË°åËøôÊÆµ‰ª£Á†ÅÁöÑÊó∂ÂÄôÔºå‰Ω†‰ºöÂèëÁé∞Á°ÆÂÆûËµ∞‰∫Ü‰ª£ÁêÜÔºàÂèØ‰ª•Êú¨Âú∞Èöè‰æøËÆæÁΩÆ‰∏Ä‰∏™IPÂä†Á´ØÂè£Ôºå‰Ω†‰ºöÂèëÁé∞‰∏ÄÁõ¥Âç°Âú®ÈÇ£ÈáåÔºâÔºåÈÇ£‰πàÊó¢ÁÑ∂ËøôÊòØÊúâÊïàÁöÑÔºåÂ∞±ËØ¥Êòé‰∫ÜÈòøÈáå‰∫ëÁöÑ Http ËØ∑Ê±Ç‰∏ÄÂÆö‰∏çÊòØÈÄöËøá JDK ÁöÑ HttpURLConnection ÂèëÈÄÅÁöÑ„ÄÇ DebugÂú®ÈòøÈáå doCommonResponse ÁöÑË∞ÉÁî®ÈìæË∑Ø‰∏≠ÔºåÂèëÁé∞Êúâ‰∏ÄÂ§Ñ‰ª£Á†Å com.aliyuncs.DefaultAcsClient#doRealAction Â¶Ç‰∏ãÔºö Ê≠§Êó∂ÈòøÈáåÁöÑSDK‰ºöÈÄöËøá System.getenv(&quot;HTTPS_PROXY&quot;) Âíå System.getenv(&quot;HTTP_PROXY&quot;) Êù•Âà§Êñ≠Á≥ªÁªüÁöÑÁéØÂ¢É‰∏≠ÊòØÂê¶ÊúâÂ¶Ç‰∏ã‰∏§‰∏™ÂèòÈáè„ÄÇÊúâÁöÑËØùÂ∞±ËÆæÁΩÆÂà∞ HttpClientConfig ‰∏≠ÔºåÊ≤°ÊúâÁöÑËØùÂàôÁõ¥Êé• returnÔºåÊó¢ÁÑ∂Êàë‰ª¨Á≥ªÁªüÁéØÂ¢ÉÈáåÈù¢Ê≤°ÊúâËøô‰∏§‰∏™Â≠óÊÆµÔºåÈÇ£‰πàËÇØÂÆö‰∏ç‰ºöËÆæÁΩÆ‰ª£ÁêÜÔºå‰∫éÊòØÁªßÁª≠ÂæÄ‰∏ãË∑ü‰ª£Á†Å„ÄÇ ÊúÄÁªàÂèëÈÄÅ Http ËØ∑Ê±ÇÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö1234private IHttpClient httpClient;...ÁúÅÁï•Áõ∏ÂÖ≥‰ª£Á†Å// com.aliyuncs.DefaultAcsClient#doRealAction Á¨¨330Ë°åresponse = this.httpClient.syncInvoke(httpRequest); httpClient ÊúÄÁªàÂØπÂ∫îÁöÑÊòØ IHttpClientÔºåÂÆÉÊòØÈòøÈáå SDK ÈáåÈù¢ÁöÑ‰∏Ä‰∏™Á±ª„ÄÇ IHttpClientÈ¶ñÂÖàÁúã‰∏ãÂÆÉÁöÑÁªìÊûÑ„ÄÇ Âú®ËøôËæπÊúâ‰∏§‰∏™ÂÆûÁé∞Á±ªÔºåApacheHttpClient ÊòØ apache ‰∏ãÈù¢ÁöÑ‰∏Ä‰∏™ÂåÖÔºåËÄå CompatibleUrlConnClient ÂàôÊòØ JDK Ëá™Â∏¶ÁöÑ http ËØ∑Ê±ÇÁ±ªÔºåÈÇ£‰πàÈòøÈáåÁöÑSDKÂà∞Â∫ïÊòØÂàùÂßãÂåñÈÇ£‰∏Ä‰∏™SDKÂë¢Ôºü È¶ñÂÖàÊü•ÁúãÂÆòÊñπÁöÑÂèëÈÄÅÁü≠‰ø°DemoÔºö1234... ÁúÅÁï•Áõ∏ÂÖ≥‰ª£Á†ÅIClientProfile profile = DefaultProfile.getProfile("cn-hangzhou", accessKeyId,accessKeySecret);IAcsClient acsClient = new DefaultAcsClient(profile); new DefaultAcsClient(profile) ËøôË°å‰ª£Á†ÅÊúÄÁªà‰ºöË∞ÉÁî®com.aliyuncs.DefaultAcsClient#DefaultAcsClient(com.aliyuncs.profile.IClientProfile, com.aliyuncs.auth.AlibabaCloudCredentialsProvider) Ëøô‰∏™ÊûÑÈÄ†Âô®„ÄÇ ËÄå‰∏îÂú®Ëøô‰∏ÄË°å‰ª£Á†ÅÈáåÈù¢‰ºöËøõË°å HttpClientConfig ÁöÑÂàùÂßãÂåñÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö 12345public DefaultAcsClient(IClientProfile profile, AlibabaCloudCredentialsProvider credentialsProvider) &#123;... ÁúÅÁï•Áõ∏ÂÖ≥‰ª£Á†Å this.httpClient = HttpClientFactory.buildClient(this.clientProfile);... ÁúÅÁï•Áõ∏ÂÖ≥‰ª£Á†Å&#125; ËÄåÂú® HttpClientConfig.getDefault() ÈáåÈù¢ÔºåÊúÄÁªà‰ºöÈªòËÆ§ÂàùÂßãÂåñ‰∏Ä‰∏™ Apache ÁöÑ Httpclient„ÄÇ 12345public static HttpClientConfig getDefault() &#123; HttpClientConfig config = new HttpClientConfig(); config.setClientType(HttpClientType.ApacheHttpClient); return config;&#125; Ëá≥Ê≠§‰∏∫‰ªÄ‰πàÂÆòÊñπÊñáÊ°£‰∏äÂÜôÁöÑ System.setProperty ‰∏çÁîüÊïàÁöÑÂéüÂõ†Áªà‰∫éÊâæÂà∞‰∫Ü„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂ¶ÇÊûú‰Ω†ÊòØÊåâÁÖßÂÆòÊñπÊñáÊ°£Êù•ÂÜôÁöÑ‰ª£Á†ÅÔºåÈÇ£‰πà‰Ω†ÈÄöËøá System.setProperty Êù•ËÆæÁΩÆ‰ª£ÁêÜÊòØËÇØÂÆö‰∏çÊòØÁîüÊïàÁöÑ„ÄÇ Ëß£ÂÜ≥ÂäûÊ≥ï Â∞ÜHTTPS_PROXY ÊàñËÄÖ HTTP_PROXY ËÆæÁΩÆ‰∏∫Á≥ªÁªüÁéØÂ¢ÉÂèòÈáèÔºàÂèØ‰ª•ÁîüÊïàÔºå‰ΩÜÊòØ‰∏çÊé®ËçêÔºâ Âú® buildClient ÊñπÊ≥ïÈáåÈù¢ÔºåÂèØ‰ª•ÂèëÁé∞Âè™ÊúâÂΩì HttpClientConfig ‰∏∫Á©∫ÁöÑÊÉÖÂÜµ‰∏ãÊâç‰ºöÂàõÂª∫ÈªòËÆ§ÁöÑ configÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•Âú® IClientProfile ÈáåÈù¢ÔºåÊâãÂä®ÁöÑÂ∞Ü HttpClientConfig ËÆæÁΩÆËøõÂéªÔºå‰ªéËÄåÈÅøÂÖçÂàõÂª∫ÈªòËÆ§ÁöÑHttpClientConfig„ÄÇ Áî® JDK ÁöÑ HttpURLConnection ÂèëËØ∑Ê±ÇÔºåÈÄöËøá System.setProperty ËÆæÁΩÆ‰ª£ÁêÜ„ÄÇ]]></content>
      <categories>
        <category>ÈòøÈáå‰∫ë</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆ∞‰∏ÄÊ¨°parallelStreamÈîôËØØ‰ΩøÁî®ÂØºËá¥ÁöÑNullPointerException]]></title>
    <url>%2F2020%2F05%2F11%2F%E8%AE%B0%E4%B8%80%E6%AC%A1parallelStream%E9%94%99%E8%AF%AF%E4%BD%BF%E7%94%A8%E5%AF%BC%E8%87%B4%E7%9A%84NullPointerException%2F</url>
    <content type="text"><![CDATA[parallelStreamÂú® Java8 ‰∏≠ÔºåÊñ∞Â¢û‰∫Ü‰∏Ä‰∏™ÂæàÊúâÁî®ÁöÑÂäüËÉΩÂ∞±ÊòØ ÊµÅÔºåËøô‰∏™ÂäüËÉΩÂèØ‰ª•‰ΩøÊàë‰ª¨ÂèØ‰ª•Âø´ÈÄüÁöÑÂÜôÂá∫‰ºòÈõÖÁöÑ‰ª£Á†ÅÔºåÂÖ∂‰∏≠ stream ÊòØ‰∏Ä‰∏™‰∏≤Ë°åÊµÅÔºàËØ¥Ê≥ïÂèØËÉΩÊúâËØØ‚Ä¶Â∞±ÊòØ‰∏ç‰ºöÈááÂèñÂ§öÁ∫øÁ®ãÊù•ËøõË°åÂ§ÑÁêÜÔºâ„ÄÇËøòÊúâ‰∏ÄÁßçÂ∞±ÊòØ parallelStream ÈááÁî® ForkJoinPool Êù•ÂÆûÁé∞Âπ∂ÂèëÔºåÂä†Âø´ÊâßË°åÊïàÁéá„ÄÇ ÊâÄ‰ª•Âú®‰ΩøÁî® parallelStream ÁöÑÊó∂ÂÄô‰∏ÄÂÆöË¶ÅÊ≥®ÊÑèÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÈóÆÈ¢òÔºåÈ¶ñÂÖàÁúã‰∏ÄÊÆµ‰ª£Á†ÅÔºö Âú®ËøôÊÆµ‰ª£Á†Å‰∏≠ÔºåÊòØÈ¶ñÂÖàÂà§Êñ≠ dataListList ÈáåÈù¢ÂØπË±°ÁöÑ name Â±ûÊÄßÊòØÂê¶ÊòØÂÅ∂Êï∞ÔºåÊòØÁöÑËØùÂàôÊ∑ªÂä†Ëá≥ÂÅ∂Êï∞ListÔºåÂèç‰πãÂàôÊ∑ªÂä†Ëá≥Â•áÊï∞List„ÄÇ ÁÑ∂ÂêéÂºÄÂßãÊµãËØïËøôÊÆµ‰ª£Á†ÅÔºö12345public static void main(String[] args) &#123; for(;;)&#123; DataListTest.test(); &#125;&#125; ËøêË°å‰∏ÄÊÆµÊó∂Èó¥‰Ω†Â∞±‰ºöÂèëÁé∞Ôºå‰ºöÂá∫Áé∞ NullPointerExceptionÔºåËøôÊòØÂõ†‰∏∫Âú®‰πãÂâçÁöÑ forEach ÈáåÈù¢ ArrayList ÊòØ‰∏Ä‰∏™ÈùûÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÈõÜÂêàÔºåËÄå parallelStream ÊòØ‰∏Ä‰∏™Â§öÁ∫øÁ®ãÁöÑÊµÅÔºåÊâÄ‰ª•Â∞±‰ºöÂØºËá¥ ArrayList Âú®Âπ∂ÂèëÊèíÂÖ•ÁöÑÊó∂ÂÄôÔºå‰ºöÂá∫Áé∞ÈÉ®ÂàÜÂÖÉÁ¥†ÊòØnullÁöÑÊÉÖÂÜµ„ÄÇÂÖ∑‰ΩìÂéüÂõ†Â¶Ç‰∏ãÔºö ArrayListÂπ∂Âèë‰∏çÂÆâÂÖ®ArrayListÂπ∂Âèë‰∏çÂÆâÂÖ®ÁöÑÁÇπÂú®‰∫é add ÊñπÊ≥ïÈáåÈù¢Ê≤°Êúâ‰ΩøÁî®ÈîÅÊù•‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®Ôºå‰∏ãÈù¢ÊòØ add ÁöÑ‰ª£Á†ÅÔºö12345public boolean add(E e) &#123; ensureCapacityInternal(size + 1); // Increments modCount!! elementData[size++] = e; return true;&#125; ÂÅáËÆæ‰∏çÊÖéÂ∞Ü ArrayList Áî®‰∫éÂπ∂ÂèëÁöÑÁéØÂ¢ÉÔºåÈÇ£‰πàÂΩìÁ¨¨‰∏Ä‰∏™Á∫øÁ®ãËØªÂèñÂà∞ size ÊòØ 0ÔºåÁ¨¨‰∫å‰∏™Á∫øÁ®ã‰πüËØªÂèñÂà∞ËØ• size ‰πüÊòØ0ÔºåÁÑ∂ÂêéÈÉΩÊâßË°åÂÆå‰∫Ü ensureCapacityInternal ÊñπÊ≥ïÔºåÊ≠§Êó∂Á∫øÁ®ã‰∏ÄÊâßË°åÂÆå size++ ÂêéË¢´ÊåÇËµ∑ÔºåÁÑ∂ÂêéÁ∫øÁ®ã‰∫å‰πüÊâßË°å‰∫Ü size++ÔºåÈÇ£‰πàÊ≠§Êó∂Êó†ËÆ∫Âì™‰∏Ä‰∏™Á∫øÁ®ãÂÖàÊâßË°åÊï∞ÁªÑÁöÑËµãÂÄºÊìç‰ΩúÔºåÂÆÉÁöÑÂÄº‰∏ÄÂÆö‰ºöË¢´Âè¶‰∏Ä‰∏™Á∫øÁ®ãÊâÄË¶ÜÁõñ„ÄÇ ÂõûÂà∞‰∏äÈù¢Âπ∂ÂèëÊµÅÁ©∫ÊåáÈíàÈÇ£‰∏Ä‰∏™‰æãÂ≠ê Âá∫Áé∞ÂºÇÂ∏∏ÊÉÖÂÜµÁöÑ List Â¶Ç‰∏ãÔºö ÁÑ∂ÂêéÂú® Collectors.toMap() ÊñπÊ≥ïÈáåÈù¢ÊúÄÁªà‰ºöË∞ÉÁî®Âà∞ HashMap ÁöÑ merge ÊñπÊ≥ïÔºåËÄå HashMap ÁöÑ merge ÊñπÊ≥ïÁ¨¨‰∏ÄË°åÂ∞±ÊòØÂà§Êñ≠ value ÊòØÂê¶‰∏∫Á©∫ÔºåÊâÄ‰ª•Â∞±ÂØºËá¥‰∫Ü NullPointerException ÊÄªÁªìÂú®‰ΩøÁî® parallelStream ‰∏ÄÂÆöÈúÄË¶ÅÊ≥®ÊÑèÂπ∂ÂèëÁöÑÂÆâÂÖ®ÔºåÂêåÊó∂Ê≥®ÊÑèÂú®ÈáçÊûÑ‰ª£Á†ÅÁöÑÊó∂ÂÄôÂ¶ÇÊûúÊòØËøôÁßçÂπ∂ÂèëÊµÅÁöÑËØùÔºå‰∏ÄÂÆöË¶ÅÊ≥®ÊÑèÁ∫øÁ®ãÂÆâÂÖ®„ÄÇ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[WeakHashMapÁöÑÂÆûÁé∞ÂéüÁêÜ]]></title>
    <url>%2F2020%2F04%2F22%2FWeakHashMap%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%2F</url>
    <content type="text"><![CDATA[ÁÆÄ‰ªã‰ªÄ‰πàÊòØWeakHashMapWeakHashMapÂÆûÁé∞‰∫Ü Map Êé•Âè£ÔºåÂ±û‰∫é Java ÈõÜÂêà‰∏≠ÁöÑ‰∏ÄÂëòÔºåÂÖ∂Áî®Ê≥ïÂá†‰πéÂíå HashMap ‰∏ÄËá¥Ôºå‰ΩÜÊòØÁî±‰∫éÂÆÉÁöÑ Entry ËøòÁªßÊâø‰∫Ü WeakHashMap ÔºåÂõ†Ê≠§ÂØºËá¥ÂÆÉÁöÑËøô‰∏™ Entry Âú®Ëß¶Âèë FullGc ÁöÑÊó∂ÂÄôÊòØÊúâÂèØËÉΩÂèØ‰ª•Ë¢´ÂõûÊî∂ÁöÑ„ÄÇ ‰ª•‰∏ãÊµãËØïÔºåJVMÂèÇÊï∞Áªü‰∏Ä‰∏∫Ôºö-Xmx64M -Xms64M -XX:+PrintGCDetails È¶ñÂÖà‰∏ä‰∏ÄÊÆµ‰ª£Á†ÅÔºö123456HashMap&lt;byte[][],byte[][]&gt; map = new HashMap&lt;&gt;();for(;;)&#123; byte[][] b = new byte[1024][1024]; map.put(b,new byte[1024][1024]); System.gc();&#125; ÂæàÂø´Â∞±‰ºöÁúãÂà∞Á®ãÂ∫èÊäõÂá∫‰∫Ü OOMÂºÇÂ∏∏ ‰øÆÊîπÁ®ãÂ∫è‰∏∫ WeakHashMap123456WeakHashMap&lt;byte[][],byte[][]&gt; map = new WeakHashMap&lt;&gt;();for(;;)&#123; byte[][] b = new byte[1024][1024]; map.put(b,new byte[1024][1024]); System.gc();&#125; ‰Ω†‰ºöÁúãÂà∞Á®ãÂ∫èËøêË°å‰∫ÜÂæà‰πÖÈÉΩÊ≤°ÊúâÂÅú‰∏ãÔºåÈÇ£‰πàËØÅÊòé‰∫Ü WeakHashMap Á°ÆÂÆû‰ºöÂØπ‰∏Ä‰∫õÊ≤°ÊúâÂÖ∂‰ªñÂºïÁî®ÁöÑ key ËøõË°åÂà†Èô§‰∫ÜÔºåÈÇ£‰πàÊ≠§Êó∂Â¶ÇÊûúÂ∞ÜÁ®ãÂ∫èÁöÑ‰ª£Á†ÅÂÜçÊ¨°‰øÆÊîπ‰∏ãÔºö12345678List&lt;WeakHashMap&lt;byte[][],byte[][]&gt;&gt; list = new ArrayList&lt;&gt;();for(;;)&#123; WeakHashMap&lt;byte[][],byte[][]&gt; map = new WeakHashMap&lt;&gt;(); byte[][] b = new byte[1024][1024]; map.put(b,new byte[1024][1024]); list.add(map); System.gc();&#125; Ê≠§Êó∂‰πü‰ºöÂæàÂø´ÁöÑÂá∫Áé∞‰∫Ü OOMÂºÇÂ∏∏„ÄÇÊ≠§Êó∂‰Ω†ÂøÉÈáåÂèØËÉΩ‰ºöÊÉ≥ÁöÑÊòØ List Âê´Êúâ‰∫ÜÂØπ WeakReference ÁöÑÂº∫ÂºïÁî®ÔºåÂØºËá¥ GC Êó†Ê≥ïÂõûÊî∂ÂØπË±°Ôºå‰ΩÜÊòØËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåËôΩÁÑ∂ List Âê´ÊúâÂØπ WeakHashMap ÁöÑÂº∫ÂºïÁî®Ôºå‰ΩÜÊòØ WeakHashMap ÁöÑEntry ÊòØÁªßÊâø‰∫Ü WeakReference ÁöÑ„ÄÇÂõ†Ê≠§ÂΩì Ë∞ÉÁî® System.gc() ÁöÑÊó∂ÂÄôÔºåWeakHashMap ÁöÑ Entry Áî±‰∫éÊ≤°ÊúâÂú∞ÊñπÂºïÁî®ÔºåÂ∫îËØ•ÊòØË¶ÅË¢´ÂõûÊî∂ÁöÑ„ÄÇ ‰∏∫‰∫ÜËØÅÂÆû WeakHashMap ÁöÑ key Á°ÆÂÆûÊòØË¢´ GC ÂõûÊî∂‰∫ÜÔºå‰∏ãÈù¢ÂÜçÊù•Áúã‰∏Ä‰∏™‰æãÂ≠êÔºö12345678List&lt;WeakHashMap&lt;byte[][],Object&gt;&gt; list = new ArrayList&lt;&gt;();for(;;)&#123; WeakHashMap&lt;byte[][],Object&gt; map = new WeakHashMap&lt;&gt;(); byte[][] b = new byte[1024][1024]; map.put(b,new Object()); list.add(map); System.gc();&#125; Ê≠§Êó∂Â∞Ü WeakHashMap ÁöÑvalue ‰øÆÊîπ‰∏∫‰∏Ä‰∏™Â∞èÂØπË±°Ôºå‰Ω†‰ºöÂèëÁé∞ÂÜçÊ¨°ËøêË°åÁöÑËØùÔºåËøêË°åÂæàÈïøÊó∂Èó¥ÈÉΩ‰∏ç‰ºöÂá∫Áé∞ OOM ÂºÇÂ∏∏‰∫Ü„ÄÇ ÈÇ£‰πàÂú®Áúã‰∫Ü‰∏äÈù¢Ëøô‰πàÂ§öÁöÑ‰æãÂ≠ê‰πãÂêéÔºåËØ¥Êòé WeakHashMap ÁöÑ Entry ËÇØÂÆöÊòØÂèØ‰ª•Ë¢´ÂõûÊî∂ÁöÑÔºå‰ΩÜÊòØÂÖ∑‰ΩìÂ¶Ç‰ΩïË¢´ÂõûÊî∂ËøòÊòØÂæóÁúã‰∏ãÊ∫ê‰ª£Á†Å„ÄÇ Ê∫ê‰ª£Á†Åeg1È¶ñÂÖà HashMap Âõ†‰∏∫ÊåÅÊúâÂÖ∂ÂØπË±°ÁöÑÂº∫ÂºïÁî®ÔºåÊâÄ‰ª•ÂØºËá¥ GC Êó†Ê≥ïÂ∞ÜÂÖ∂ÂõûÊî∂Ôºå‰ªéËÄåÂØºËá¥‰∫Ü OOM ÂºÇÂ∏∏„ÄÇ eg2WeakHashMap Âú®ËøêË°å‰∫ÜÂæàÈïøÊó∂Èó¥‰ª•ÂêéÔºå‰∏ÄÁõ¥Êú™Âá∫Áé∞ OOM ÂºÇÂ∏∏ÔºåÈÇ£‰πàËØ¥Êòé‰∫ÜÂÖ∂ÂÜÖÈÉ®ËÇØÂÆöÊúâ‰∏Ä‰∫õÁöÑÊìç‰ΩúÊù•ÂõûÊî∂‰∏çÂèØËææÂØπË±°„ÄÇÈÇ£‰πà‰∏ãÈù¢Â∞±Êù•ÂàÜÊûê‰∏∫‰ªÄ‰πà‰ºöË¢´ÂõûÊî∂„ÄÇ EntryWeakHashMap Âíå HashMap ÁöÑÂ§ßËá¥ÁªìÊûÑÊòØ‰∏ÄÊ†∑ÁöÑÔºå‰ΩÜÊòØÊúâ‰∏Ä‰∏™Âå∫Âà´ÊòØÔºåWeakHashMapÂú®ÂÆûÁé∞‰∫ÜMap.Entry&lt;K,V&gt; ÁöÑÊó∂ÂÄôËøòÁªßÊâø‰∫Ü WeakReference&lt;Object&gt; „ÄÇÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö ÂèØ‰ª•ÁúãÂà∞ÔºåÊ≠§Êó∂ Entry&lt;K,V&gt; ÁöÑ key ÊòØÁªßÊâø‰∫Ü WeakReference ÁöÑÔºåÊâÄ‰ª•Âú® System.gc ÁöÑÊó∂ÂÄôÔºåkeyÊòØ‰∏ÄÂÆöÂèØ‰ª•Ë¢´GCÁöÑÔºåÈÇ£‰πàËøòÊúâ‰∏Ä‰∏™Â∞±ÊòØ value ÊòØÂ¶Ç‰ΩïË¢´ GC ÁöÑÔºåÊ≠§Êó∂Êü•Áúã put ÊñπÊ≥ïÔºö Âú®ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ Entry&lt;K,V&gt;[] tab = getTable(); Ëøô‰∏ÄË°å‰ª£Á†ÅÊòØ‰ºöÈÄöËøá ReferenceQueue Êù•Âà§Êñ≠Âì™‰∫õ key ÊòØÂèØ‰ª•Ë¢´ÂõûÊî∂ÁöÑ„ÄÇ12345678910111213141516171819202122232425262728private void expungeStaleEntries() &#123; for (Object x; (x = queue.poll()) != null; ) &#123; synchronized (queue) &#123; @SuppressWarnings("unchecked") Entry&lt;K,V&gt; e = (Entry&lt;K,V&gt;) x; int i = indexFor(e.hash, table.length); Entry&lt;K,V&gt; prev = table[i]; Entry&lt;K,V&gt; p = prev; while (p != null) &#123; Entry&lt;K,V&gt; next = p.next; if (p == e) &#123; if (prev == e) table[i] = next; else prev.next = next; // Must not null out e.next; // stale entries may be in use by a HashIterator e.value = null; // Help GC size--; break; &#125; prev = p; p = next; &#125; &#125; &#125;&#125; ÈÄöËøá queue.poll() ÊñπÊ≥ïÊù•Ëé∑ÂèñË¢´ GC ÂõûÊî∂ÂêéÁöÑkeyÔºåÁÑ∂ÂêéÈÄöËøáÂØπkeyËøõË°å hash ÔºåÂèñÂá∫‰∏ãÊ†áÔºåÁßªÂä®ÊåáÈíàÔºåÂ∞Üvalue ÁΩÆ‰∏∫ null ÔºåÁÑ∂ÂêéÁªìÊùü„ÄÇËá≥Ê≠§Ôºå‰∏∫‰ªÄ‰πà eg2 ‰∏ç‰ºöÂá∫Áé∞ OOM ÁöÑÁªìÊûúÂ∞±Âá∫Áé∞‰∫ÜÔºåÈÇ£ÊòØÂõ†‰∏∫ WeakHashMap Âú®ËøõË°å put ÁöÑ‰πãÂêéÔºåËøòÊâãÂä®Ë∞ÉÁî®‰∫Ü‰∏ÄÊ¨° System.gcÔºåÁÑ∂ÂêéÂú® put ÁöÑÊó∂ÂÄôË∞ÉÁî®‰∫Ü expungeStaleEntries ÊñπÊ≥ïÔºåÊâÄ‰ª• GC Â∞±ÂèØ‰ª•ÊääÈÇ£‰∫õÂØπË±°ÂõûÊî∂‰∫Ü„ÄÇ eg3Âíåeg4ÂØπ‰∫éËøô‰∏§‰∏™‰æãÂ≠êÔºå‰∏ªË¶ÅÊòØÂõ†‰∏∫Âú® for Âæ™ÁéØÈáåÈù¢ÊòØÊØè‰∏ÄÊ¨°Áõ¥Êé• new ‰∫Ü‰∏Ä‰∏™ WeakHashMapÔºåËÄå‰∏îÈÉΩÊòØÈ¶ñÊ¨°Ë∞ÉÁî® put ÊñπÊ≥ïÔºå‰πãÂêéÂ∞±Ê≤°ÊúâËøõË°å‰ªª‰ΩïÂ§ÑÁêÜ„ÄÇÂõ†Ê≠§È¶ñÊ¨° put ËøõÂéªÁöÑÊï∞ÊçÆÔºåÊó†Ê≥ïËß¶Âèë expungeStaleEntriesÔºåÂõ†Ê≠§ÂØºËá¥Âè™Êúâ key ÂèØ‰ª•Ë¢´ÂõûÊî∂ÔºåËÄå value ÂàôÊòØÊó†Ê≥ïË¢´ÂõûÊî∂ÁöÑÔºàexpungeStaleEntries ÊñπÊ≥ïÈáåÈù¢ÊâãÂä®Â∞Ü value ÁΩÆ‰∏∫‰∫Ü nullÔºåÂØºËá¥ÂèØ‰ª•Ë¢´ GCÔºâ„ÄÇ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ª£ÁêÜÊ®°Âºè‰πãJDK‰∏∫‰ªÄ‰πàÈúÄË¶ÅÂÆûÁé∞Êé•Âè£(‰∏ãÁØá)]]></title>
    <url>%2F2020%2F04%2F21%2F%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E4%B9%8BJDK%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%AE%9E%E7%8E%B0%E6%8E%A5%E5%8F%A3-%E4%B8%8B%E7%AF%87%2F</url>
    <content type="text"><![CDATA[ÂâçË®ÄÂú®‰∏äÁØá‰∏ªË¶Å‰ªãÁªç‰∫Ü JDK Âä®ÊÄÅ‰ª£ÁêÜÊâßË°åÁöÑ‰∏Ä‰∫õÊµÅÁ®ãÔºåÈÄöËøá Proxy Á±ªÊù•ÂÆûÁé∞ÁîüÊàêÊñ∞ÁöÑ‰ª£ÁêÜÁ±ªÔºåÂú®Ëøô‰∏ÄÁØá‰∏ªË¶ÅËÆ≤ÁöÑÊòØ Proxy ÊòØÂ¶Ç‰ΩïÊù•ÁîüÊàê‰ª•ÂèäÁºìÂ≠òÁîüÊàêÁöÑ‰ª£ÁêÜÁ±ª ‰∫åÁ∫ßÁºìÂ≠òÂú®‰∏ä‰∏ÄÁØáÁöÑÁªìÂ∞æÊèêÂà∞Ëøá‰∫Ü‰∏Ä‰∏™mapÔºåÂÖ∂ÁªìÊûÑÂ¶Ç‰∏ãÔºö ConcurrentMap&lt;Object, ConcurrentMap&lt;Object, Supplier&gt;&gt; Âú®ËøôÈáåÂèØ‰ª•ÁúãÂà∞ÊòØ‰∏§‰∏™ ConcurrentMap Êù•ÂÆûÁé∞ÁöÑÂµåÂ•óÔºåÈÇ£‰πà Java ‰∏∫‰ªÄ‰πàË¶ÅËøôÊ†∑ËÆæËÆ°Âë¢ÔºüÈ¶ñÂÖàÊü•Áúã CacheKey ÁöÑ‰ª£Á†Å„ÄÇÂ¶Ç‰∏ãÔºö ÂèØ‰ª•ÁúãÂà∞ CacheKey ÊòØÁªßÊâøËá™ WeakReferenceÔºå‰ª•‰æø‰∫éÂΩìËØ• CacheKey Ê≤°‰∫∫‰ΩøÁî®ÁöÑÊó∂ÂÄôÂèØ‰ª•ËÆ© GC Áõ¥Êé•ÂõûÊî∂„ÄÇReferenceQueue ÊòØ WeakReference ÊâÄ‰ΩøÁî®ÁöÑ„ÄÇ ÈÇ£‰πàÂØπ‰∫é Java Êù•ËÆ≤ÔºåÂÖ∂ÊòØÁî®‰∏Ä‰∏™ classLoader ‰∏∫ key ÁöÑ cacheKey Êù•ÁîüÊàê‰∏Ä‰∏™ keyÔºåËøô‰∏™keyÂ∞±ÊòØ‰∫åÁ∫ßÁºìÂ≠òÁöÑÁ¨¨‰∏Ä‰∏™key„ÄÇÂõûÂà∞‰∏äËø∞ÁöÑmap„ÄÇ ÂèØ‰ª•ÁúãÂà∞Âú®È¶ñÊ¨°ÂàùÂßãÂåñÁöÑÊó∂ÂÄôÔºåmap ËøòÊòØ‰ºö‰ª•ÂàöÂàöÁöÑ cacheKey Êù•Ëé∑Âèñ‰∫åÁ∫ßÁºìÂ≠òÔºå‰ΩÜÊòØÈ¶ñÊ¨°‰∏ÄÂÆöÊòØÁ©∫ÁöÑÔºåÊâÄ‰ª•Ê≠§Êó∂Áõ¥Êé• new ‰∫Ü‰∏Ä‰∏™ ConcurrentMap ‰Ωú‰∏∫ value Êù•ÊîæÂÖ•‰∫åÁ∫ßÁºìÂ≠ò„ÄÇÂÜçÂæÄ‰∏ãÁúã‰ª£Á†ÅÔºö1Object subKey = Objects.requireNonNull(subKeyFactory.apply(key, parameter)); ËøôÊòØ‰∏Ä‰∏™ Java8 ÁöÑ lambda Ë°®ËææÂºèÔºåÊü•ÁúãËøô‰∏™Ë°®ËææÂºèÂÆûÁé∞ÁöÑÂú∞ÊñπÔºö ‰∏äÈù¢ÁöÑ KeyX ÁöÑ‰ΩúÁî®ÊòØÁî®Ë¢´‰ª£ÁêÜÁöÑ‰∫∫ÊâÄÂÆûÁé∞ÁöÑÊé•Âè£ËøõË°åhashÔºåÂêåÊó∂Â∞ÜÂÆÉ‰ª¨ÂÆûÁé∞ÁöÑÊé•Âè£ÊîæÂÖ• refsÔºåËøô‰∏™refsÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºå Ëøô‰∏™ refs Âíå WeakReference ÊúâÂÖ≥Ôºå‰∏ªË¶ÅÊòØÁî®‰∫éÂΩì WeakReference ÁöÑÂØπË±°Ë¢´ÂõûÊî∂ÁöÑÊó∂ÂÄô‰Ωú‰∏∫‰∏Ä‰∏™ÁõëÂê¨ Ê≠§Êó∂Ëøô‰∏™ subKey Â∑≤ÁªèÁîüÊàê‰∫ÜÔºåÈÇ£‰πàÊé•‰∏ãÊù•Â∞±ÊòØ Supplier supplier = valuesMap.get(subKey); Ëøô‰∏™‰πüÊòØ Java8 ÁöÑ lambda ÂáΩÊï∞ÔºåÂÖ∑‰Ωì‰ΩúÁî®ÊòØÈÄöËøáË∞ÉÁî®ÂÖ∂ get ÊñπÊ≥ïÔºåÂèØ‰ª•Âø´ËØªÁöÑÊâßË°åÂáΩÊï∞Ôºå‰ΩÜÊòØËøôÈáåÔºåËøô‰∏™ supplier ÊòØÁî± Factory ÊâÄÂÆûÁé∞ÁöÑ„ÄÇ Ëøô‰∏ÄÊÆµ‰ª£Á†ÅÁöÑÂÖ∑‰ΩìÈÄªËæëÊòØÔºåÂΩì supplier ‰∏ç‰∏∫Á©∫ÁöÑÊó∂ÂÄôÂ∞±Áõ¥Êé•ÈÄöËøá get ÊñπÊ≥ïËé∑ÂèñÂÖ∂ valueÔºåÁÑ∂ÂêéËøîÂõûÔºå‰ΩÜÊòØÂ¶ÇÊûú‰∏∫ null ÁöÑËØùÔºåÈÇ£‰πàÈ¶ñÂÖàÂ∞±Ë¶ÅÂàùÂßãÂåñ‰∏Ä‰∏™ FactoryÔºåÁÑ∂ÂêéÂú®ËøôÊúüÈó¥ÔºåÂ¶ÇÊûúÊúâÁé∞ÊàêÂ∞Ü supplier ËµãÂÄº‰∫ÜÔºåÈÇ£‰πàÊ≠§Êó∂Â∞±‰ºöËøõË°åÁ©∫Âà§Êñ≠ÔºåÂ¶ÇÊûúÊõøÊç¢ valueMap ÊàêÂäüÔºåÂàôÁõ¥Êé•ËøîÂõûÂàöÂàöÁîüÊàêÁöÑ factoryÔºåÂê¶ÂàôËøîÂõû valueMap ÈáåÈù¢ÁöÑÂÄº„ÄÇ Âú®ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØËøô‰∏™ value Â∞±ÊòØ‰∏Ä‰∏™‰ª£ÁêÜÁ±ªÁöÑÁöÑÁ±ªÂêçÁß∞„ÄÇ ‰ª£ÁêÜÁ±ªÁîüÊàê1234567891011121314151617181920212223242526272829303132333435363738394041@Overridepublic synchronized V get() &#123; // serialize access // re-check Supplier&lt;V&gt; supplier = valuesMap.get(subKey); if (supplier != this) &#123; // something changed while we were waiting: // might be that we were replaced by a CacheValue // or were removed because of failure -&gt; // return null to signal WeakCache.get() to retry // the loop return null; &#125; // else still us (supplier == this) // create new value V value = null; try &#123; value = Objects.requireNonNull(valueFactory.apply(key, parameter)); &#125; finally &#123; if (value == null) &#123; // remove us on failure valuesMap.remove(subKey, this); &#125; &#125; // the only path to reach here is with non-null value assert value != null; // wrap value with CacheValue (WeakReference) CacheValue&lt;V&gt; cacheValue = new CacheValue&lt;&gt;(value); // put into reverseMap reverseMap.put(cacheValue, Boolean.TRUE); // try replacing us with CacheValue (this should always succeed) if (!valuesMap.replace(subKey, this, cacheValue)) &#123; throw new AssertionError("Should not reach here"); &#125; // successfully replaced us with new CacheValue -&gt; return the value // wrapped by it return value;&#125; ËøôÈáåËøòÊúâ‰∏Ä‰∏™ÈáçË¶ÅÁöÑÊñπÊ≥ïÂ∞±ÊòØ Factory.get()ÔºåËØ•ÊñπÊ≥ïÁî± synchronized ‰øÆÈ•∞ÔºåÊòØÁî®‰∫éÁîüÊàê‰ª£ÁêÜÁ±ªÁöÑ class Êñá‰ª∂ÁöÑ„ÄÇËÄåÁîüÊàê‰ª£ÁêÜÁ±ªÁöÑÊñπÊ≥ïÂú® ProxyClassFactory ÁöÑ apply ÈáåÈù¢„ÄÇ1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253@Overridepublic Class&lt;?&gt; apply(ClassLoader loader, Class&lt;?&gt;[] interfaces) &#123; Map&lt;Class&lt;?&gt;, Boolean&gt; interfaceSet = new IdentityHashMap&lt;&gt;(interfaces.length); for (Class&lt;?&gt; intf : interfaces) &#123; // ...... ÁúÅÁï• if (!interfaceClass.isInterface()) &#123; throw new IllegalArgumentException( interfaceClass.getName() + " is not an interface"); &#125; &#125; // ...... ÁúÅÁï• for (Class&lt;?&gt; intf : interfaces) &#123; int flags = intf.getModifiers(); if (!Modifier.isPublic(flags)) &#123; accessFlags = Modifier.FINAL; String name = intf.getName(); int n = name.lastIndexOf('.'); String pkg = ((n == -1) ? "" : name.substring(0, n + 1)); if (proxyPkg == null) &#123; proxyPkg = pkg; &#125; else if (!pkg.equals(proxyPkg)) &#123; throw new IllegalArgumentException( "non-public interfaces from different packages"); &#125; &#125; &#125; //...... ÁúÅÁï• /* * Choose a name for the proxy class to generate. */ long num = nextUniqueNumber.getAndIncrement(); String proxyName = proxyPkg + proxyClassNamePrefix + num; /* * Generate the specified proxy class. */ byte[] proxyClassFile = ProxyGenerator.generateProxyClass( proxyName, interfaces, accessFlags); try &#123; return defineClass0(loader, proxyName, proxyClassFile, 0, proxyClassFile.length); &#125; catch (ClassFormatError e) &#123; /* * A ClassFormatError here means that (barring bugs in the * proxy class generation code) there was some other * invalid aspect of the arguments supplied to the proxy * class creation (such as virtual machine limitations * exceeded). */ throw new IllegalArgumentException(e.toString()); &#125;&#125;&#125; Âú®ËøôÈáåÊúâÂá†‰∏™ÈáçË¶ÅÁöÑÊñπÊ≥ïËØ¥‰∏ãÔºö12345// Âà§Êñ≠ÊòØÂê¶ÊòØÊé•Âè£ÔºåËøô‰πüÊòØ‰∏∫‰ªÄ‰πà JDKÂä®ÊÄÅ‰ª£ÁêÜÂøÖÈ°ªÂÆûÁé∞‰∏Ä‰∏™Êé•Âè£‰∫ÜÔºåÂõ†‰∏∫‰∏çÊòØÊé•Âè£ÁöÑËØùËøô‰∏™Âú∞ÊñπÈ™åËØÅËøá‰∏çÂéªif (!interfaceClass.isInterface()) &#123; throw new IllegalArgumentException( interfaceClass.getName() + " is not an interface");&#125; Ëá≥‰∫éÁîüÊàêÁöÑÁ±ªÔºåÂèØ‰ª•ÈÄöËøáÁîüÊàêÊñá‰ª∂Êù•Êü•Áúã‰∫Ü„ÄÇÂΩìÁîüÊàêÂÆå class Êñá‰ª∂‰πãÂêéÔºåÂõûÂà∞ Proxy.newProxyInstance ÊñπÊ≥ï„ÄÇ 1234567891011final Constructor&lt;?&gt; cons = cl.getConstructor(constructorParams);final InvocationHandler ih = h;if (!Modifier.isPublic(cl.getModifiers())) &#123; AccessController.doPrivileged(new PrivilegedAction&lt;Void&gt;() &#123; public Void run() &#123; cons.setAccessible(true); return null; &#125; &#125;);&#125;return cons.newInstance(new Object[]&#123;h&#125;); Âú®ËøôÈáåÊòØÂ∞ÜÂèÇÊï∞‰∏äÁöÑ InvocationHandler ÈÄöËøáÊûÑÈÄ†Âô®Â∞Ü‰ª£ÁêÜÁ±ª‰∏≠ÁöÑ InvocationHandler ËµãÂÄºÔºå‰ªéËÄå‰ΩøÁî®invoke ÊñπÊ≥ïÊù•ÂÆûÁé∞‰ª£ÁêÜ„ÄÇ ÁîüÊàêÁöÑ‰ª£ÁêÜÁ±ª1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374//// Source code recreated from a .class file by IntelliJ IDEA// (powered by Fernflower decompiler)//import design_model.proxy.jdk.Car;import java.lang.reflect.InvocationHandler;import java.lang.reflect.Method;import java.lang.reflect.Proxy;import java.lang.reflect.UndeclaredThrowableException;public final class $Proxy0 extends Proxy implements Car &#123; private static Method m1; private static Method m3; private static Method m2; private static Method m0; public $Proxy0(InvocationHandler var1) throws &#123; super(var1); &#125; public final boolean equals(Object var1) throws &#123; try &#123; return (Boolean)super.h.invoke(this, m1, new Object[]&#123;var1&#125;); &#125; catch (RuntimeException | Error var3) &#123; throw var3; &#125; catch (Throwable var4) &#123; throw new UndeclaredThrowableException(var4); &#125; &#125; public final void run() throws &#123; try &#123; super.h.invoke(this, m3, (Object[])null); &#125; catch (RuntimeException | Error var2) &#123; throw var2; &#125; catch (Throwable var3) &#123; throw new UndeclaredThrowableException(var3); &#125; &#125; public final String toString() throws &#123; try &#123; return (String)super.h.invoke(this, m2, (Object[])null); &#125; catch (RuntimeException | Error var2) &#123; throw var2; &#125; catch (Throwable var3) &#123; throw new UndeclaredThrowableException(var3); &#125; &#125; public final int hashCode() throws &#123; try &#123; return (Integer)super.h.invoke(this, m0, (Object[])null); &#125; catch (RuntimeException | Error var2) &#123; throw var2; &#125; catch (Throwable var3) &#123; throw new UndeclaredThrowableException(var3); &#125; &#125; static &#123; try &#123; m1 = Class.forName("java.lang.Object").getMethod("equals", Class.forName("java.lang.Object")); m3 = Class.forName("design_model.proxy.jdk.Car").getMethod("run"); m2 = Class.forName("java.lang.Object").getMethod("toString"); m0 = Class.forName("java.lang.Object").getMethod("hashCode"); &#125; catch (NoSuchMethodException var2) &#123; throw new NoSuchMethodError(var2.getMessage()); &#125; catch (ClassNotFoundException var3) &#123; throw new NoClassDefFoundError(var3.getMessage()); &#125; &#125;&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Âä®ÊÄÅ‰ª£ÁêÜ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ª£ÁêÜÊ®°Âºè‰πãJDK‰∏∫‰ªÄ‰πàÈúÄË¶ÅÂÆûÁé∞Êé•Âè£(‰∏äÁØá)]]></title>
    <url>%2F2020%2F04%2F15%2F%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E4%B9%8BJDK%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%AE%9E%E7%8E%B0%E6%8E%A5%E5%8F%A3-%E4%B8%8A%E7%AF%87%2F</url>
    <content type="text"><![CDATA[ÁÆÄ‰ªãÈ¶ñÂÖà‰ª£ÁêÜÊ®°ÂºèÂàÜ‰∏∫ÈùôÊÄÅ‰ª£ÁêÜÂíåÂä®ÊÄÅ‰ª£ÁêÜÔºåÁî±‰∫éJDKÈááÁî®ÁöÑÊòØÂä®ÊÄÅ‰ª£ÁêÜÔºåÊâÄ‰ª•ÈùôÊÄÅ‰ª£ÁêÜÂú®ËøôÈáå‰∏çÂÜç‰ªãÁªç„ÄÇ Âä®ÊÄÅ‰ª£ÁêÜJDKÂä®ÊÄÅ‰ª£ÁêÜÈ¶ñÂÖàJDKÁöÑÂä®ÊÄÅ‰ª£ÁêÜË¶ÅÊ±ÇÁúüÂÆûÁöÑÂØπË±°ÂøÖÈ°ªÂÆûÁé∞‰∏Ä‰∏™Êé•Âè£ÔºåËÄå‰ª£ÁêÜÁ±ªÂàôÂÆûÁé∞InvocationHandlerÊé•Âè£Êù•ÂÆåÊàêÂä®ÊÄÅ‰ª£ÁêÜ„ÄÇÂ¶Ç‰∏ã‰ª£Á†ÅÔºö Êé•Âè£ 123public interface Car &#123; void jdkProxy();&#125; Ë¢´‰ª£ÁêÜÁöÑÁ±ª123456public class Bus implements Car&#123; @Override public void jdkProxy() &#123; System.out.println("ÊµãËØï"); &#125;&#125; ‰ª£ÁêÜÁ±ª 123456789101112131415161718public class ProxyTest implements InvocationHandler &#123; private Object target; @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; System.out.println("before---------"); Object object = method.invoke(target,args); System.out.println("after---------"); return object; &#125; public Object getInstance(Object target) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException &#123; this.target = target; Class&lt;?&gt; clazz = target.getClass(); return Proxy.newProxyInstance(new SelfClassLoader(),clazz.getInterfaces(),this); &#125;&#125; Âú®‰ª£ÁêÜÊ®°Âºè‰∏≠ÁúüÂÆûÂØπË±°ÁªßÊâø‰∏Ä‰∏™Êé•Âè£Â¶ÇÊûúËØ¥ÊòØ‰∏∫‰∫ÜÂú®‰ª£ÁêÜÁ±ª‰∏≠Áªü‰∏ÄÁÆ°ÁêÜÔºåÈÇ£‰πàÂú® JDKÂä®ÊÄÅ‰ª£ÁêÜ ‰∏≠Â¶ÇÊûúË¢´‰ª£ÁêÜÁöÑÂØπË±°ËøòÂøÖÈ°ªÂÆûÁé∞‰∏Ä‰∏™Êé•Âè£Â∞±ÊúâÁÇπÁπÅÁêê‰∫ÜÔºå‰ΩÜÊòØÂØπ‰∫é Java ËØ≠Ë®ÄÊù•ËØ¥ÂÖ∂ÂÆû‰πüÊ≤°ÂäûÊ≥ï„ÄÇÊàë‰ª¨ÈÉΩËÆ§‰∏∫ÂæàÁπÅÁêêÁöÑ‰∏Ä‰∏™ÂÆûÁé∞ÔºåJDK ÂºÄÂèë‰∫∫ÂëòÂ∫îËØ•‰πü‰ºöÊÉ≥Âà∞Ëøô‰∏ÄÁÇπ„ÄÇ ‰∏ãÈù¢Â∞±Êù•Ëß£Èáä‰∏ã‰∏∫‰ªÄ‰πàÂä®ÊÄÅ‰ª£ÁêÜÂøÖÈ°ªÂÆûÁé∞‰∏Ä‰∏™Êé•Âè£„ÄÇ ‰∏∫‰ªÄ‰πàÂøÖÈ°ªÂÆûÁé∞‰∏Ä‰∏™Êé•Âè£Âú®ÂõûÁ≠îËøô‰∏™ÈóÆÈ¢ò‰πãÂâçÔºåÈ¶ñÂÖàË¶ÅËØ¥ÊòéÁöÑÊòØ JDKÂä®ÊÄÅ‰ª£ÁêÜ ÂÆûÁé∞ÁöÑÂéüÁêÜÊòØÈáçÊñ∞‰∏∫ÂØπË±°Á±ªÁîüÊàê‰∫Ü‰∏Ä‰∏™Â≠êÁ±ªÔºåËøô‰∏™Á±ªÁî±‰∫éÊòØ JDK Ëá™Â∑±ÁîüÊàêÁöÑÔºå‰∫éÊòØ‰ºö‰ª•$ÂºÄÂ§¥ÔºåÂú® JDK ÊñáÊ°£‰∏≠ÊúâÂ¶Ç‰∏ãËØ¥ÊòéÔºö12345A proxy class has the following properties:Proxy classes are public, final, and not abstract.The unqualified name of a proxy class is unspecified. The space of class names that begin with the string "$Proxy" should be, however, reserved for proxy classes.A proxy class extends java.lang.reflect.Proxy. ÂÖ∂ÂÆûËøòÊúâÂæàÂ§öËØ¥ÊòéÔºå‰ΩÜÊòØÊ∂âÂèäÂà∞Êú¨ÊñáÁöÑ‰πüÂ∞±‰∏äÈù¢‰∏âÊù°„ÄÇ proxyÁ±ªÊòØÈùûÊäΩË±°Á±ªÔºå‰∏îÁî±public final‰øÆÈ•∞„ÄÇ proxyÁ±ªÊòØ‰ª•$ProxyÂºÄÂ§¥ÁöÑÂä†Á±ªÁöÑÂêçÁß∞„ÄÇ proxyÁ±ªÊòØjava.lang.reflect.ProxyÁöÑÂ≠êÁ±ª„ÄÇ ÈÇ£‰πàÊó¢ÁÑ∂ÊòØ$ProxyÂºÄÂ§¥ÁöÑÔºåÈÇ£‰πàÊòØÂê¶ÂèØ‰ª•Â∞ÜÁîüÊàêÁöÑÂ≠êÁ±ªÊâìÂç∞Âá∫Êù•Âë¢ÔºüÔºåÂ¶Ç‰∏ã‰ª£Á†ÅÔºö ÂèØ‰ª•ÁúãÂà∞Ëøô‰∏™Êñ∞ÁîüÊàêÁöÑÁ±ªÂÖ∂ÂÆûÊòØÁõ¥Êé•ÁªßÊâø‰∫Ü Proxy Á±ªÔºåÁî±‰∫éJavaÁöÑÂçïÁªßÊâøÊñπÂºèÔºåÊ≠§Êó∂Â¶ÇÊûúË¶ÅËé∑ÂèñÂØπË±°Á±ªÈáåÈù¢ÁöÑÊñπÊ≥ïÈÇ£‰πàÂ∞±ÂøÖÈ°ªÂÆûÁé∞‰∏Ä‰∏™Êé•Âè£ÔºåÊâÄ‰ª•‰πüÂ∞±ÂØπË±°Á±ªÂøÖÈ°ªË¶ÅÂÆûÁé∞‰∏Ä‰∏™Êé•Âè£„ÄÇ1Car car = (Car) new ProxyTest().getInstance(new Bus()); ÈÇ£‰πàÂΩìÊàë‰ª¨ÊâßË°åËøô‰∏™‰ª£Á†ÅÁöÑÊó∂ÂÄôÁ©∂Á´üÂú®ÊâßË°å‰ªÄ‰πàÂë¢ÔºüÂú®ËøôÈáå debug Êù•Ë∑üË∏™Ê∫êÁ†ÅËß£Èáä JDK Âà∞Â∫ïÊòØÂ¶Ç‰ΩïÁîü‰∫ß Proxy ‰ª£ÁêÜÁ±ªÁöÑ. newProxyInstanceÊñπÊ≥ï Âú®Ëøô‰∏™ÊñπÊ≥ïÈáåÈù¢ÔºåÁõÆÂâçÊöÇÊó∂ÈúÄË¶ÅÊ≥®ÊÑèÁ∫¢Ê°Ü‰∏≠ÁöÑÊñπÊ≥ïÔºå‰ª£ÁêÜÁ±ªÊòØÂú®ËØ•ÊñπÊ≥ïÈáåÈù¢ÊòØÁîüÊàêÁöÑ„ÄÇ Class&lt;?&gt; cl = getProxyClass0(loader, intfs); Ëøô‰∏ÄË°å‰ª£Á†ÅÔºåÂú®ËøôÈáåËøîÂõûÁöÑÊòØ‰∏Ä‰∏™ classÔºåÁÑ∂ÂêéÈÄöËøáÂèçÂ∞ÑÊù•ÂàùÂßãÂåñËøô‰∏™ classÔºåÊúÄÂêéËøô‰∏™ class Â∞±ÊòØ JDK ÁîüÊàêÁöÑ‰ª£ÁêÜÁ±ª„ÄÇ getProxyClass0 ËÄåÂú® getProxyClass0 ÊñπÊ≥ïÈáåÈù¢Â∞±ÊòØÈÄöËøá proxyClassCache.get(loader, interfaces)Êù•Ëé∑Âèñ ProxyÔºåÂ¶ÇÊûúÈáåÈù¢ÂåÖÂê´ËØ• classLoader Âä†ËΩΩÁöÑ interface ÁöÑËØùÔºåÂàôÁõ¥Êé•ËøîÂõûÔºåÂê¶ÂàôÂ∞±ÊòØÂÜçÂàùÂßãÂåñ‰∏ÄÊ¨°ÔºåÁÑ∂ÂêéËøîÂõû„ÄÇ1234567891011private static Class&lt;?&gt; getProxyClass0(ClassLoader loader, Class&lt;?&gt;... interfaces) &#123; if (interfaces.length &gt; 65535) &#123; throw new IllegalArgumentException("interface limit exceeded"); &#125; // If the proxy class defined by the given loader implementing // the given interfaces exists, this will simply return the cached copy; // otherwise, it will create the proxy class via the ProxyClassFactory return proxyClassCache.get(loader, interfaces);&#125; proxyClassCache.get(loader, interfaces) ‰ªéËøô‰∏™ÊñπÊ≥ï‰πãÂêéÂ∞±ÊòØÁúüÊ≠£ÂºÄÂßãÁîüÊàê Proxy Á±ªÁöÑËøáÁ®ãÔºåÁî±‰∫éËøôÈáåÈù¢ÂåÖÂê´‰∏Ä‰∫õ Java8 ÁöÑ lambdaË°®ËææÂºè Áî®Ê≥ïÔºåÂØπ‰∫é‰∏çÂ§™‰∫ÜËß£ÁöÑ‰∫∫ÂèØËÉΩ‰ºöÊúâÁÇπÁúã‰∏çÊáÇ„ÄÇ ‰∏äÈù¢ÁöÑÂõæÁªôÂá∫‰∫ÜÂàùÂßãÂåñ map ÁöÑ‰∏Ä‰∏™ÊñπÊ≥ïÔºåÂú®ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåËøô‰∏™mapÁöÑÁªìÊûÑÂ¶Ç‰∏ãÔºö12private final ConcurrentMap&lt;Object, ConcurrentMap&lt;Object, Supplier&lt;V&gt;&gt;&gt; map = new ConcurrentHashMap&lt;&gt;(); ‰πüÂ∞±ÊòØ‰∏Ä‰∏™‰∏§Â±ÇÁöÑ ConcurrentMapÔºåËÄå‰πãÊâÄ‰ª•‰∏∫‰∏∫‰ªÄ‰πàËøôÊ†∑ËÆæËÆ°ÊòØË∑üÂÆûÁé∞ÁöÑÊé•Âè£Áõ∏ÂÖ≥ÁöÑÔºåÊòØÁî±‰∫éÁ¨¨‰∏ÄÂ±ÇÁöÑ key ÊòØÁî± classLoader ÊâÄÁîüÊàêÁöÑ keyÔºåËÄåÁ¨¨‰∫åÂ±ÇÊµãËØïkeyXÔºå‰∏éÊâÄÂÆûÁé∞ÁöÑÊé•Âè£ÊúâÂÖ≥„ÄÇÂâ©‰∏ãÁöÑÂ∞Ü‰ºöÂú®‰∏ã‰∏ÄÁØáÊñáÁ´†„ÄÇ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Âä®ÊÄÅ‰ª£ÁêÜ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÈáçÊ∏©Java‰∏≠String]]></title>
    <url>%2F2020%2F04%2F06%2F%E9%87%8D%E6%B8%A9Java%E4%B8%ADString%2F</url>
    <content type="text"><![CDATA[Êú¨ÊñáÁöÑÂÜÖÂÆπÈÉΩÊòØÂü∫‰∫é JDK1.8 Êù•ÂÜôÁöÑÔºå‰∏ªË¶ÅÊòØÂ§ç‰π†‰∏ã String Á±ªÁöÑËÆæËÆ°„ÄÇ ÁÆÄ‰ªãString ÊòØ‰∏Ä‰∏™Áî®‰∫éÂ≠òÂÇ®Â≠óÁ¨¶‰∏≤ÁöÑÁ±ªÔºåÂÖ∂ÂÜÖÈÉ®ÊòØÈÄöËøá char Êï∞ÁªÑÊù•ÂÆûÁé∞ÔºåÂú® Java ‰∏≠Ôºå1byte = 8bitÔºå1char = 2byte, ÊâÄ‰ª•Âú® Java ‰∏≠ÔºåString ÁöÑcode pointÊòØ16‰Ωç„ÄÇString Á±ªÊòØÁî± final ÂÖ≥ÈîÆÂ≠óÊù•‰øÆÈ•∞ÁöÑÔºåÂõ†Ê≠§Ë°®ÊòéËØ•Á±ª‰∏çÂèØ‰ª•Ë¢´ÁªßÊâøÔºåÂêåÊó∂ String ÂèàÂÆûÁé∞‰∫Ü Serializable„ÄÅComparable„ÄÅCharSequenceÊé•Âè£ÔºåË°®Êòé String ÂèØ‰ª•Ë¢´Â∫èÂàóÂåñÔºå‰ª•Âèä‰ΩøÁî®cpmpareToÊù•ÊØîËæÉ‰∏§‰∏™Â≠óÁ¨¶‰∏≤ÁöÑÂÄº„ÄÇ Â≠óÁ¨¶ÈõÜÁºñÁ†ÅÂÜÖÁ†ÅÂÜÖÁ†ÅÊåáÁöÑÊòØÁ®ãÂ∫èÂÜÖÈÉ®Ëá™Â∑±‰ΩøÁî®ÁöÑÂ≠óÁ¨¶ÈõÜÔºåjava‰∏≠ÊòØ‰ª• UTF-16 Êù•Ë°®Á§∫ÁöÑ The Java programming language represents text in sequences of 16-bit code units, using the UTF-16 encoding. UTF-16ÊúÄÂ§öÂèØ‰ª•Ë°®Á§∫ 65535 ÁßçÂ≠óÁ¨¶ÔºåÈÇ£‰πà‰∏çÂú® 65535 ‰πãÂÜÖÁöÑÂ≠óÁ¨¶ÔºåËØ•Â¶Ç‰ΩïË°®Á§∫Âë¢ÔºåËøôÊó∂ÂÄôÂ∞±ÈúÄË¶ÅÁî®‰∏§‰∏™Â≠óËäÇÊù•Ë°®Á§∫Ëøô‰∏™Â≠óÁ¨¶„ÄÇ‰ª•üòÅËøô‰∏™emoje‰∏∫‰æãÂ≠êÔºöÂÖ∂CodeÁöÑÁºñÁ†ÅÊòØ1F601„ÄÇ12345ÂÖ∑‰ΩìÊñπÊ≥ïÊòØÔºöCode PointÂáèÂéª0x10000Ôºå ÂæóÂà∞ÁöÑÂÄºÊòØÈïøÂ∫¶‰∏∫20bitÔºà‰∏çË∂≥ÁöÑË°•0ÔºâÔºõÂ∞ÜÂæóÂà∞Êï∞ÂÄºÁöÑÈ´ò‰ΩçÁöÑ10ÊØîÁâπÁöÑÂÄº Âä†‰∏ä0xD800ÁöÑÂâç6‰ΩçÂæóÂà∞Á¨¨‰∏Ä‰∏™Code Unit„ÄÇÊ≠•È™§1ÂæóÂà∞Êï∞ÂÄºÁöÑ‰Ωé‰ΩçÁöÑ10ÊØîÁâπÁöÑÂÄº Âä†‰∏ä0xDC00ÁöÑÂâç6‰ΩçÂæóÂà∞Á¨¨‰∫å‰∏™Code Unit„ÄÇ ‰∫éÊòØËÆ°ÁÆóÊñπÊ≥ïÂ¶Ç‰∏ãÔºö12345678x = 1F601 - 0x10000 = 1111011000000001‰∏çÊª°20‰ΩçÁöÑË°•0ÔºõÊâÄ‰ª•ÂæóÂà∞Ôºö00001111011000000001„ÄÇ0xD800Ôºö11011000000000000xDC00Ôºö1101110000000000‰∫éÊòØÈ´ò‰ΩçÁöÑ‰ª£ÁêÜÂ∞±ÊòØÔºö1101100000111101‰∫éÊòØ‰Ωé‰ΩçÁöÑ‰ª£ÁêÜÂ∞±ÊòØÔºö1101111000000001ÊúÄÁªàÂæóÂà∞Ôºöd83d,de01 Âú® String ÁöÑ‰ª£Á†Å‰∏≠‰ΩìÁé∞Â¶Ç‰∏ãÔºö1234567891011121314151617181920 public static int codePointAt(CharSequence seq, int index) &#123; char c1 = seq.charAt(index); if (isHighSurrogate(c1) &amp;&amp; ++index &lt; seq.length()) &#123; char c2 = seq.charAt(index); if (isLowSurrogate(c2)) &#123; return toCodePoint(c1, c2); &#125; &#125; return c1;&#125;public static int toCodePoint(char high, char low) &#123; // Optimized form of: // return ((high - MIN_HIGH_SURROGATE) &lt;&lt; 10) // + (low - MIN_LOW_SURROGATE) // + MIN_SUPPLEMENTARY_CODE_POINT; return ((high &lt;&lt; 10) + low) + (MIN_SUPPLEMENTARY_CODE_POINT - (MIN_HIGH_SURROGATE &lt;&lt; 10) - MIN_LOW_SURROGATE);&#125; Ê≥®ÊÑèËøô‰∏™high &lt;&lt; 10ÊòØÂõ†‰∏∫codeËΩ¨Êàê16ËøõÂà∂ÁöÑÊó∂ÂÄôÔºåËøòË°•‰∫Ü4‰∏™0ÂΩì String Âà§Êñ≠ÊòØÂê¶ÊòØ‰∏Ä‰∏™ code point ÁöÑÊó∂ÂÄôÔºåÈ¶ñÂÖà‰ºöÂà§Êñ≠ÊòØÂê¶ÊòØÈ´ò‰Ωç‰ª£ÁêÜÔºåÊòØÁöÑËØùÂú®Âà§Êñ≠‰∏ã‰∏Ä‰∏™Â≠óËäÇÊòØÂê¶ÊòØ‰Ωé‰Ωç‰ª£ÁêÜÔºåÊòØÁöÑÂ∞±ÈÄöËøátoCodePointÊù•Êé®ÂØºÂá∫ÂéüÊù•ÁöÑcode„ÄÇ readResolveÊñπÊ≥ïËøô‰∏™ÊñπÊ≥ïÊòØ‰∏∫‰∫Ü‰øùËØÅÂ∫èÂàóÂåñÁöÑÊó∂ÂÄôÔºåÈÅøÂÖçÁîüÊàêÂ§ö‰∏™ String ÂØπË±°ÔºåÈ¶ñÂÖàÂΩì‰∏Ä‰∏™ÂØπË±°Ë¢´ÂèçÂ∫èÂàóÂåñÁöÑÊó∂ÂÄôÔºåÂÖ∂Ë∞ÉÁî®ÈìæÂ¶Ç‰∏ã: ObjectInputStream -&gt; readObject() -&gt; readObject0(boolean unshared) -&gt; readOrdinaryObject(boolean unshared) Âú®readOrdinaryObject‰∏≠Ôºå‰∏ªË¶ÅÊòØÈúÄË¶ÅÊ≥®ÊÑèÂ¶Ç‰∏ã‰∏§ÊÆµ‰ª£Á†ÅÔºö12345678910111213141516171819202122232425262728293031Object obj;try &#123; obj = desc.isInstantiable() ? desc.newInstance() : null;&#125; catch (Exception ex) &#123; throw (IOException) new InvalidClassException( desc.forClass().getName(), "unable to create instance").initCause(ex);&#125;if (obj != null &amp;&amp; handles.lookupException(passHandle) == null &amp;&amp; desc.hasReadResolveMethod())&#123; Object rep = desc.invokeReadResolve(obj); if (unshared &amp;&amp; rep.getClass().isArray()) &#123; rep = cloneArray(rep); &#125; if (rep != obj) &#123; // Filter the replacement object if (rep != null) &#123; if (rep.getClass().isArray()) &#123; filterCheck(rep.getClass(), Array.getLength(rep)); &#125; else &#123; filterCheck(rep.getClass(), -1); &#125; &#125; handles.setObject(passHandle, obj = rep); &#125;&#125;ObjectStreamClassÔºöreadResolveMethod = getInheritableMethod(cl, "readResolve", null, Object.class); Â¶ÇÊûúÊ≤°ÊúâÈáçÂÜôreadResolveÁöÑËØùÔºåÈÇ£‰πàÊ≠§Êó∂‰æø‰ºöÁõ¥Êé•ËøîÂõûnewInstance ÁîüÊàêÁöÑÊñ∞ÂØπË±°‰∫Ü„ÄÇ final ÁöÑ‰ΩøÁî®Âú® String ‰∏≠ÔºåÂèØ‰ª•ÁúãÂà∞ÈúÄË¶ÅÂú∞Êñπ‰ΩøÁî®Âà∞‰∫Ü final Â≠óÊÆµÔºå‰æãÂ¶ÇÔºö12private final char value[];private static final ObjectStreamField[] serialPersistentFields = new ObjectStreamField[0]; Ëøô‰∫õÈÉΩÂ•ΩÁêÜËß£Ôºå‰ΩÜÊòØÂÖ∂‰∏≠Êúâ‰∏Ä‰∏™ÊñπÊ≥ïÈáåÈù¢ÁöÑÂèòÈáèÂêçÂç¥‰πü‰ΩøÁî®‰∫ÜfinalÔºåÂ¶Ç‰∏ãÔºö1234567891011121314private int indexOfSupplementary(int ch, int fromIndex) &#123; if (Character.isValidCodePoint(ch)) &#123; final char[] value = this.value; final char hi = Character.highSurrogate(ch); final char lo = Character.lowSurrogate(ch); final int max = value.length - 1; for (int i = fromIndex; i &lt; max; i++) &#123; if (value[i] == hi &amp;&amp; value[i + 1] == lo) &#123; return i; &#125; &#125; &#125; return -1;&#125; Âú®ËøôÈáåÊàë‰∏™‰∫∫ÊÑüËßâÂÖ∂ÂÆûÊòØÊ≤°‰ªÄ‰πà‰ΩúÁî®ÁöÑÔºåÂõ†‰∏∫ÊñπÊ≥ïÂÜÖÈÉ®ÁöÑvalue‰ºöÈöèÁùÄthis.valueÁöÑÂèòÂåñËÄåÂèòÂåñ(‰∏ÄËà¨‰∏çÂèØËÉΩ)ÔºåÊâÄ‰ª•ËøôÈáåÁöÑfinalÔºå‰πüÂ∞±hiÂíålo‰ª•ÂèämaxÊúâ‰ΩúÁî®ÔºåÂèØ‰ª•‰øùËØÅÂêå‰∏Ä‰∏™ÊñπÊ≥ïÂÜÖÈÉ®ÔºåÂú®Â§öÁ∫øÁ®ãÁöÑÁ´ûÊÄÅÊù°‰ª∂‰∏ã‰∏çÊîπÂèò„ÄÇ]]></content>
  </entry>
  <entry>
    <title><![CDATA[SpringBoot‰∏≠ÂºÇÊ≠•Á∫øÁ®ãÁöÑÂ§ÑÁêÜ]]></title>
    <url>%2F2020%2F04%2F02%2FSpringBoot%E4%B8%AD%E5%BC%82%E6%AD%A5%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%A4%84%E7%90%86%2F</url>
    <content type="text"><![CDATA[Âú®Â∑•‰ΩúÊàñËÄÖÂ≠¶‰π†ÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÈÉΩ‰ºöÊé•Ëß¶Âà∞ÂºÇÊ≠•ÁºñÁ®ãÔºåÂ§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÈÉΩÊòØÈÄöËøáÊñ∞Âª∫‰∏Ä‰∏™Á∫øÁ®ãÊ±†ÔºåÁÑ∂ÂêéË∞ÉÁî®submitÊñπÊ≥ïÊàñËÄÖexecuteÊñπÊ≥ïÊù•ÊâßË°å„ÄÇÂ¶Ç‰∏ãÔºö1234567891011121314151617public void simpleThreadPool()&#123; ExecutorService executor = new ThreadPoolExecutor(4,5,0, TimeUnit.SECONDS,new LinkedBlockingDeque&lt;Runnable&gt;()); executor.execute(new Runnable() &#123; @Override public void run() &#123; System.out.println("run"); &#125; &#125;); Callable&lt;String&gt; callable = new Callable&lt;String&gt;() &#123; @Override public String call() throws Exception &#123; return "callable"; &#125; &#125;; Future future = executor.submit(callable); System.out.println(future.get()); &#125; Âú®Springboot‰∏≠ÂÖ∂ÂÆû‰πüÂèØ‰ª•ËøôÊ†∑ÂÅöÔºå‰ΩÜÊòØ‰∏çÂà©‰∫éÂêéÊúüÁöÑÁª¥Êä§ÔºåÂä†ÂÖ•ÂêéÊúüÈúÄË¶ÅÊää runable ÁöÑÊñπÊ≥ï‰øÆÊîπ‰∏∫ÂêåÊ≠•Á±ªÂûãÁöÑÔºåÈÇ£‰πàÊ≠§Êó∂Â∞±ÈúÄË¶ÅÂ§ßÈáèÁöÑÊîπÂä®‰ª£Á†ÅÔºåÂ¶ÇÊûúËØ¥ÂæàÂ§öÂú∞ÊñπÈÉΩÁî®Âà∞ÁöÑ‰∫ÜÁöÑËØùÔºåÂ∞±‰ºöÂæàÂÆπÊòìÊºèÊéâ‰∫Ü‰∏ÄÂ§ÑÂØºËá¥bugÁöÑ‰∫ßÁîü„ÄÇ SpringÁöÑËß£ÂÜ≥ÊñπÊ≥ï‰∏çÈúÄË¶ÅËøîÂõûÂÄºÁöÑÂºÇÊ≠•ÂÖ∂ÂÆûÂú®Spring‰∏≠Â∞±ÊúâÁ±ª‰ººÁöÑËß£ÂÜ≥ÊñπÊ≥ïÔºåÂè™‰∏çËøáÈúÄË¶ÅÊàë‰ª¨Ëá™Â∑±ÈÖçÁΩÆ„ÄÇÈ¶ñÂÖàÊñ∞Âª∫‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªÔºö1234567891011121314@Configurationpublic class ThreadConfig &#123; @Bean("asyncPool") public ThreadPoolTaskExecutor asyncPool()&#123; ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor(); executor.setCorePoolSize(10); executor.setMaxPoolSize(10); executor.setQueueCapacity(100); executor.setDaemon(true); executor.setKeepAliveSeconds(30); return executor; &#125;&#125; Âú®ËøôÈáåÊúÄÂ•ΩÁöÑÂÅöÊ≥ïÊòØÂ∞ÜÂÖ∂ÈÖçÁΩÆÂà∞ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÔºåËøôÊ†∑‰ª•ÂêéË∞ÉÊï¥Â∞±‰∏çÈúÄË¶ÅÊîπÂä®‰ª£Á†ÅÔºå‰∏çËøáÊ≠§Â§Ñ‰∏∫‰∫ÜÊºîÁ§∫Ôºå‰πüÂ∞±Áõ¥Êé•Âõ∫ÂÆö‰∫Ü„ÄÇ Êñ∞Âª∫‰∏Ä‰∏™ Service ÊµãËØï„ÄÇ1234567891011121314@Servicepublic class AsyncService &#123; @Async("asyncPool") public void sayA()&#123; System.out.println("A"); &#125; @Async("asyncPool") public void sayB() throws InterruptedException &#123; Thread.currentThread().sleep(1000); System.out.println("B"); &#125;&#125; Ë∞ÉÁî® 1234567891011@Servicepublic class TestService &#123; @Autowired AsyncService asyncService; public void noReturnAsync() throws InterruptedException &#123; asyncService.sayB(); asyncService.sayA(); &#125;&#125; Êñ∞Âª∫‰∏Ä‰∏™ÊµãËØïÁ±ª 123456789101112131415@RunWith(SpringRunner.class)@SpringBootTest(classes = AsyncApplication.class)@WebAppConfigurationpublic class TestServiceTest &#123; @Autowired TestService testService; @Test public void noReturnAsync() throws InterruptedException &#123; testService.noReturnAsync(); Thread.currentThread().sleep(2000); &#125; &#125; Ê≠§Êó∂Âú®ÊéßÂà∂Âè∞‰ºöÂèëÁé∞ÊòØÂÖàÊâìÂç∞ÁöÑ AÔºåÁÑ∂ÂêéÂÜçÊâìÂç∞ÁöÑ BÔºåÊâÄ‰ª•ËøôÈáåÂèØ‰ª•ËÇØÂÆöÁ°ÆËÆ§ÁöÑÊòØËÇØÂÆöÊòØÂºÇÊ≠•ÊâßË°åÁöÑ„ÄÇ ‰ΩÜÊòØ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÊúâ‰∏Ä‰∏™‰∏öÂä°ÊñπÊ≥ïÂπ∂‰∏çÊòØÈÄöÁî®ÁöÑÔºåÂÅáÂ¶ÇÊúâ‰∏Ä‰∏™ C ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ïÊòØ TestServcie Á±ªÈáåÈù¢ÂçïÁã¨‰∏Ä‰∏™‰∫∫‰ΩøÁî®ÁöÑÔºåËøô‰∏™ÊÉÖÂÜµ‰∏ãÂ¶ÇÊûúÈúÄË¶ÅÂú® TestServicde ÈáåÈù¢‰ΩøÁî®ÁöÑËØùÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÈÄöËøá Aop Êù•Ëé∑ÂèñÂΩìÂâçÁöÑ‰ª£ÁêÜÂØπË±°„ÄÇÂ¶Ç‰∏ãÔºö1234567891011121314151617@Servicepublic class TestService &#123; @Autowired AsyncService asyncService; public void noReturnAsync() throws InterruptedException &#123; asyncService.sayB(); asyncService.sayA(); C(); &#125; @Async("asyncPool") public void C()&#123; System.out.println("C"); &#125;&#125; Â¶ÇÊûúËøôÊ†∑ÂÜôÁöÑËØùÔºåCÊñπÊ≥ïÂ∞±‰ºöË¢´ÂΩìÊàê‰∏Ä‰∏™ÂêåÊ≠•ÊñπÊ≥ïÔºå‰∫éÊòØÂ∞±ÈúÄË¶ÅÈÄöËøá AopContext.currentProxy() Êù•ÂàáÊç¢‰ª£ÁêÜÂØπË±°1234567891011121314151617@Servicepublic class TestService &#123; @Autowired AsyncService asyncService; public void noReturnAsync() throws InterruptedException &#123; asyncService.sayB(); asyncService.sayA(); ((TestService) AopContext.currentProxy()).C(); &#125; @Async("asyncPool") public void C()&#123; System.out.println("C"); &#125;&#125; Â¶ÇÊûúÊòØ‰ΩøÁî® ((TestService) AopContext.currentProxy()).C() ÁöÑËØùÔºåÂàôÂøÖÈ°ªË¶ÅÊñ∞Â¢ûÂ¶Ç‰∏ãBean12345678@Componentpublic class AsyncBeanFactoryPostProcessor implements BeanFactoryPostProcessor &#123; @Override public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException &#123; BeanDefinition beanDefinition = beanFactory.getBeanDefinition(org.springframework.scheduling.config.TaskManagementConfigUtils.ASYNC_ANNOTATION_PROCESSOR_BEAN_NAME); beanDefinition.getPropertyValues().add("exposeProxy", true); &#125;&#125; ÈúÄË¶ÅËøîÂõûÂÄºÁöÑÂºÇÊ≠•‰∏äÈù¢‰ªãÁªçÁöÑÈÉΩÊòØ‰∏çÈúÄË¶ÅËøîÂõûÂÄºÁöÑÂºÇÊ≠•ÊñπÊ≥ïÔºåÈÇ£‰πàÂÖ∂ÂÆûÂæàÂ§öÂú∫ÊôØ‰∏ãÈÉΩÊòØÈúÄË¶ÅËøîÂõûÂÄºÁöÑÔºåÊ≠§Êó∂ÂèØ‰ª•ÈÄöËøáÂ¶Ç‰∏ãÊñπÊ≥ïÊù•ÂÆûÁé∞:12345@Async("asyncPool") public Future&lt;String&gt; futureA() throws InterruptedException &#123; Thread.currentThread().sleep(1100); return new AsyncResult&lt;String&gt;("A"); &#125; Ë∞ÉÁî®ÊñπÂºèËøòÊòØÂíå‰πãÂâç‰∏ÄÁõ¥ÔºåÂ∞±ÊòØÊúÄÂêéÈúÄË¶ÅÁî®‰∏Ä‰∏™ Future Êù•Êé•„ÄÇ1234567public void noReturnAsync() throws InterruptedException, ExecutionException &#123; Future future = asyncService.futureA(); asyncService.sayB(); asyncService.sayA(); System.out.println(future.get()); ((TestService) AopContext.currentProxy()).C(); &#125;]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES7‰∏≠Â§ßÂ∞èÂÜô‰∏çÊïèÊÑüÁöÑÊ®°Á≥äÂåπÈÖç]]></title>
    <url>%2F2020%2F03%2F20%2FES7%E4%B8%AD%E5%A4%A7%E5%B0%8F%E5%86%99%E4%B8%8D%E6%95%8F%E6%84%9F%E7%9A%84%E6%A8%A1%E7%B3%8A%E5%8C%B9%E9%85%8D%2F</url>
    <content type="text"><![CDATA[Âú®ES7.0‰∏≠ Â¶ÇÊûúË¶ÅÂÆûÁé∞Â§ßÂ∞èÂÜôÁöÑÊ®°Á≥äÊü•ËØ¢ÔºåÂàôÈ¶ñÂÖàÂøÖÈ°ªË¶ÅËá™ÂÆö‰πâ analysisÔºåÂú®Ëá™ÂÆö‰πâÁöÑ analysis ÈáåÈù¢ÔºåÂ¶ÇÊûúÊòØÈíàÂØπkeywordÁ±ªÂûãÁöÑÂ≠óÊÆµÔºå analysis Ë¶ÅÂÆö‰πâÊàê normalizerÔºåËÄåÂØπ‰∫étextÁ±ªÂûãÁöÑËØùÔºåÂàôÈúÄË¶Å‰∏∫analyzer„ÄÇÂ¶Ç‰∏ãÊºîÁ§∫ÁöÑÊòØnormalizerÁ±ªÂûãÁöÑÂÆö‰πâ„ÄÇ Êñ∞Âª∫Á¥¢Âºï123456789101112131415161718192021222324&#123; "settings": &#123; "analysis": &#123; "normalizer": &#123; "self_normalizer": &#123; "type": "custom", "char_filter": [], "filter": [ "lowercase", "asciifolding" ] &#125; &#125; &#125; &#125;, "mappings":&#123; "properties":&#123; "field_1":&#123; "type":"keyword", "normalizer": "self_normalizer" &#125; &#125; &#125;&#125; Ê≠§Êó∂ÂêëES‰∏≠Êñ∞Â¢ûÂá†Êù°Êï∞ÊçÆÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455&#123; "took": 6, "timed_out": false, "_shards": &#123; "total": 1, "successful": 1, "skipped": 0, "failed": 0 &#125;, "hits": &#123; "total": &#123; "value": 4, "relation": "eq" &#125;, "max_score": 1.0, "hits": [ &#123; "_index": "test_ascii", "_type": "_doc", "_id": "2", "_score": 1.0, "_source": &#123; "field_1": "abc" &#125; &#125;, &#123; "_index": "test_ascii", "_type": "_doc", "_id": "1", "_score": 1.0, "_source": &#123; "field_1": "ABC" &#125; &#125;, &#123; "_index": "test_ascii", "_type": "_doc", "_id": "3", "_score": 1.0, "_source": &#123; "field_1": "aBC" &#125; &#125;, &#123; "_index": "test_ascii", "_type": "_doc", "_id": "4", "_score": 1.0, "_source": &#123; "field_1": "Abc" &#125; &#125; ] &#125;&#125; ÂèØ‰ª•ÁúãÂà∞Ê≠§Êó∂ÁöÑÂØπ‰∫éfield_1ÔºåÂú®Es‰∏≠ÁöÑÂÄºÂ§ßÂ∞èÂÜôÈÉΩÊúâÁöÑÔºåÊ≠§Êó∂ËøõË°åÊ®°Á≥äÊü•ËØ¢Ôºö1234567891011121314151617181920212223242526&#123; "query": &#123; "bool": &#123; "must": [ &#123; "bool": &#123; "must": [ &#123; "wildcard": &#123; "field_1": &#123; "value": "*a*", "boost": 1 &#125; &#125; &#125; ], "adjust_pure_negative": true, "boost": 1 &#125; &#125; ], "adjust_pure_negative": true, "boost": 1 &#125; &#125;&#125; ËøîÂõûÂÄº12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455&#123; "took": 9, "timed_out": false, "_shards": &#123; "total": 1, "successful": 1, "skipped": 0, "failed": 0 &#125;, "hits": &#123; "total": &#123; "value": 4, "relation": "eq" &#125;, "max_score": 1.0, "hits": [ &#123; "_index": "test_ascii", "_type": "_doc", "_id": "2", "_score": 1.0, "_source": &#123; "field_1": "abc" &#125; &#125;, &#123; "_index": "test_ascii", "_type": "_doc", "_id": "1", "_score": 1.0, "_source": &#123; "field_1": "ABC" &#125; &#125;, &#123; "_index": "test_ascii", "_type": "_doc", "_id": "3", "_score": 1.0, "_source": &#123; "field_1": "aBC" &#125; &#125;, &#123; "_index": "test_ascii", "_type": "_doc", "_id": "4", "_score": 1.0, "_source": &#123; "field_1": "Abc" &#125; &#125; ] &#125;&#125;]]></content>
      <categories>
        <category>ElasticSearch</category>
      </categories>
      <tags>
        <tag>ElasticSearch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[springbootÂ§öÊï∞ÊçÆÊ∫ê-sqlSessionFactory]]></title>
    <url>%2F2020%2F03%2F19%2Fspringboot%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90-sqlSessionFactory%2F</url>
    <content type="text"><![CDATA[Âú®SpringBoot‰∏≠ÔºåÂä®ÊÄÅÁöÑÂàáÊç¢Êï∞ÊçÆÊ∫êÁöÑÊñπÂºèÊúâ‰∏§ÁßçÔºå‰∏ÄÁßçÊòØÈÄöËøáAbstractRoutingDataSourceÊù•ÈÄöËøáÊ≥®Ëß£ÂÆûÁé∞ÔºåÂè¶‰∏ÄÁßçÂàôÊòØÈÄöËøáÈÖçÁΩÆ‰∏çÂêåÁöÑSqlSessionFactoryÊù•ËØªÂèñ‰∏çÂêåÊñá‰ª∂Â§πÁöÑmapperÔºå‰ªéËÄåÂÆûÁé∞Â§öÊï∞ÊçÆÊ∫ê„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö DataSourceOneConfig 123456789101112131415161718192021222324252627282930313233@Configuration@MapperScan(basePackages = &#123;"xyz.somersames.dao.one"&#125; ,sqlSessionTemplateRef = "dataSourceOneSqlSessionTemplate")public class DataSourceOneConfig &#123; @Primary @Bean(name = "dataSourceOneT") // ËøôÈáåÂêéÈù¢Âä†‰∏Ä‰∏™TÊòØÈò≤Ê≠¢SpringÂá∫Áé∞skiped mapperFactoryBean ÈîôËØØÔºåÂØºËá¥Êó†Ê≥ïÊ≥®ÂÖ• @ConfigurationProperties(prefix = "spring.datasource.one") public DataSource getDataSource()&#123; return new DruidDataSource(); &#125; @Primary @Bean(name = "dataSourceOneSqlSessionFactory") public SqlSessionFactory setSqlSessionFactory(@Qualifier("dataSourceOneT") DataSource dataSource) throws Exception &#123; SqlSessionFactoryBean bean = new SqlSessionFactoryBean(); bean.setDataSource(dataSource); bean.setMapperLocations(new PathMatchingResourcePatternResolver().getResources("classpath:mapper/one/*.xml")); return bean.getObject(); &#125; @Primary @Bean(name = "dataSourceOneTransactionManager") public DataSourceTransactionManager setTransactionManager(@Qualifier("dataSourceOneT") DataSource dataSource) &#123; return new DataSourceTransactionManager(dataSource); &#125; @Primary @Bean(name = "dataSourceOneSqlSessionTemplate") public SqlSessionTemplate setSqlSessionTemplate(@Qualifier("dataSourceOneSqlSessionFactory") SqlSessionFactory sqlSessionFactory) throws Exception &#123; return new SqlSessionTemplate(sqlSessionFactory); &#125;&#125; DataSourceTwoConfig 1234567891011121314151617181920212223242526272829@Configuration@MapperScan(basePackages = &#123;"xyz.somersames.dao.two"&#125; ,sqlSessionTemplateRef = "dataSourceTwoSqlSessionTemplate")public class DataSourceTwoConfig &#123; @Bean(name = "dataSourceTwoT") // ËøôÈáåÂêéÈù¢Âä†‰∏Ä‰∏™TÊòØÈò≤Ê≠¢SpringÂá∫Áé∞skiped mapperFactoryBean ÈîôËØØÔºåÂØºËá¥Êó†Ê≥ïÊ≥®ÂÖ• @ConfigurationProperties(prefix = "spring.datasource.two") public DataSource getDataSource()&#123; return new DruidDataSource(); &#125; @Bean(name = "dataSourceTwoSqlSessionFactory") public SqlSessionFactory setSqlSessionFactory(@Qualifier("dataSourceTwoT") DataSource dataSource) throws Exception &#123; SqlSessionFactoryBean bean = new SqlSessionFactoryBean(); bean.setDataSource(dataSource); bean.setMapperLocations(new PathMatchingResourcePatternResolver().getResources("classpath:mapper/two/*.xml")); return bean.getObject(); &#125; @Bean(name = "dataSourceTwoTransactionManager") public DataSourceTransactionManager setTransactionManager(@Qualifier("dataSourceTwoT") DataSource dataSource) &#123; return new DataSourceTransactionManager(dataSource); &#125; @Bean(name = "dataSourceTwoSqlSessionTemplate") public SqlSessionTemplate setSqlSessionTemplate(@Qualifier("dataSourceTwoSqlSessionFactory") SqlSessionFactory sqlSessionFactory) throws Exception &#123; return new SqlSessionTemplate(sqlSessionFactory); &#125;&#125; ÂΩìÊ∑ªÂä†‰∫ÜËøô‰∏§‰∏™ÈÖçÁΩÆ‰ª•ÂêéÔºådataSourceOneT ‰ºöÊâ´Êèè mapper/one ‰∏ãÈù¢ÁöÑ xml Êñá‰ª∂ÔºåËÄå dataSourceTwoT ‰ºöÊâ´Êèè mapper/two ‰∏ãÈù¢ÁöÑ xml Êñá‰ª∂„ÄÇÁÑ∂ÂêéÊ∑ªÂä†ÈÖçÁΩÆÊñá‰ª∂ application.yml 1234567891011121314server: port: 8091spring: datasource: one: username: root password: 123456 url: jdbc:mysql://localhost:3306/test?useSSL=false&amp;serverTimezone=Asia/Shanghai type: com.alibaba.druid.pool.DruidDataSource two: username: root password: 123456 url: jdbc:mysql://localhost:3306/test_lock?useSSL=false&amp;serverTimezone=Asia/Shanghai type: com.alibaba.druid.pool.DruidDataSource Âú®ËøôÈáåÈ°∫Â∏¶ËØ¥‰∏ÄÂè•ÔºåSqlSessionFactory Ë¥üË¥£ÊâìÂºÄ SqlSessionÔºå‰∏Ä‰∏™SqlSession‰ª£Ë°®ÁöÑÂ∞±ÊòØ‰∏ÄÊ¨°ÂõûËØùÔºå‰ΩÜÊòØÂ¶ÇÊûú‰Ω†Âú®ÊñπÊ≥ï‰∏äÂä†‰∫Ü‰∏Ä‰∏™ @Transactional Ê≥®Ëß£ÔºåÈÇ£‰πàËøô‰∏™ÊñπÊ≥ïÈáåÈù¢ÁöÑÊâÄÊúâÊï∞ÊçÆÂ∫ìÊìç‰ΩúÈÉΩ‰ºöËÆ§‰∏∫ÊòØ‰∏Ä‰∏™SqlSession]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringBoot2.xÊòØÊÄéÊ†∑Âè™ÂàùÂßãÂåñLettuceConnectionFactoryÁöÑÂë¢]]></title>
    <url>%2F2020%2F01%2F05%2FSpringBoot2-x%E6%98%AF%E6%80%8E%E6%A0%B7%E5%8F%AA%E5%88%9D%E5%A7%8B%E5%8C%96LettuceConnectionFactory%E7%9A%84%E5%91%A2%2F</url>
    <content type="text"><![CDATA[SpringBoot1.5‰ΩøÁî®RedisÂíå2.xÁöÑÂå∫Âà´Âú® SpringBoot1.5 ÁöÑÁâàÊú¨ÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúË¶ÅÂàõÂª∫‰∏Ä‰∏™ RedisTemplate ÁöÑËØùÔºåÈÇ£‰πàÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Â¶Ç‰∏ã‰ª£Á†Å:1234567@Beanpublic RedisTemplate&lt;String,Object&gt; redisTemplate(JedisConnectionFactory jedisConnectionFactory)&#123; RedisTemplate&lt;String,Object&gt; redisTemplate = new RedisTemplate&lt;&gt;(); redisTemplate.setConnectionFactory(jedisConnectionFactory); // Ê∑ªÂä†Â∫èÂàóÂåñ‰ª£Á†Å return redisTemplateÔºõ&#125; ÁÑ∂ÂêéÂú®‰∏öÂä°Á±ª‰∏≠Áõ¥Êé•ÈÄöËøá @Autowired Ê≥®Ëß£Êù•Ë∞ÉÁî® redisTemplateÔºå‰ΩÜÊòØÂ¶ÇÊûúÂ∞Ü SpringBoot1.5 ÂçáÁ∫ßÂà∞ 2.0 ‰πãÂêéÔºå‰Ω†‰ºöÂèëÁé∞ËøôÊ†∑ÂÜôÁöÑËØùÔºåSpringBoot ÂêØÂä®ÁöÑÊó∂ÂÄô‰ºöÊä•Èîô„ÄÇÊä•ÈîôÂÜÖÂÆπÂ¶Ç‰∏ãÔºö1234The following candidates were found but could not be injected:- Bean method 'redisConnectionFactory' in 'JedisConnectionConfiguration' not loaded because @ConditionalOnBean (types: org.springframework.data.redis.connection.RedisConnectionFactory; SearchStrategy: all) found beans of type 'org.springframework.data.redis.connection.RedisConnectionFactory' redisConnectionFactory Consider revisiting the entries above or defining a bean of type 'org.springframework.data.redis.connection.jedis.JedisConnectionFactory' in your configuration. Ëøô‰∏™ÊèêÁ§∫ËØ¥Êòé‰∫Ü redisConnectionFactory Ê≤°ÊúâË¢´Âä†ËΩΩÂà∞ÔºåËøô‰∏™Êó∂ÂÄôÂÖàÂéªÂÆòÊñπÊñáÊ°£‰∏äÁúã‰∏ã changelogÔºåÁÑ∂ÂêéÂú®Áúã‰∏ãÊòØ‰∏çÊòØÊúâ‰ªÄ‰πàÂèòÂåñ„ÄÇSpringBoot1.xÂçáÁ∫ßÂà∞2.XÁöÑÁÆÄ‰ªã123456RedisLettuce is now used instead of Jedis as the Redis driver when you use spring-boot-starter-data-redis. If you are using higher level Spring Data constructs you should find that the change is transparent.We still support Jedis. Switch dependencies if you prefer Jedis by excluding io.lettuce:lettuce-core and adding redis.clients:jedis instead.Connection pooling is optional and, if you are using it, you now need to add commons-pool2 yourself as Lettuce, contrary to Jedis, does not bring it transitively. ‰πüÂ∞±ÊòØËØ¥ SpringBoot2.x Â∑≤ÁªèÂ∞Ü LettuceConnectionFactory ‰Ωú‰∏∫ÂÆòÊñπÁöÑ Redis ËøûÊé•Â∑•ÂÖ∑‰∫ÜÔºåÈÇ£‰πàÂ∞ùËØïÁùÄÂ∞Ü LettuceConnectionFactory ‰Ωú‰∏∫ÈÇ£‰∏™ redisTemplate ÁöÑÂÖ•ÂèÇÔºåÊúÄÂêéË∞ÉÊï¥Â¶Ç‰∏ãÔºö1234567@Beanpublic RedisTemplate&lt;String,Object&gt; redisTemplate(LettuceConnectionFactory lettuceConnectionFactory)&#123; RedisTemplate&lt;String,Object&gt; redisTemplate = new RedisTemplate&lt;&gt;(); redisTemplate.setConnectionFactory(lettuceConnectionFactory); // Â∫èÂàóÂåñ‰ª£Á†Å return redisTemplate;&#125; ‰∫éÊòØÂêØÂä®Â∞±‰∏çÂÜçÊä•Èîô‰∫Ü„ÄÇËÄå‰∏î‰πüÂèØ‰ª•Ê≠£Â∏∏ÁöÑ‰ΩøÁî®„ÄÇ‰ΩÜÊòØÂ¶ÇÊûú‰Ω†ËøòÊòØÊÉ≥‰ΩøÁî® Jedis ÁöÑËØùÔºåÁõ¥Êé• exclued io.lettuce:lettuce-core Âç≥ÂèØ„ÄÇ ‰∏∫‰ªÄ‰πàÂú®SpringBoot2.x‰∏≠‰∏§‰∏™RedisConnectionFactoryÂè™‰ºöÂä†ËΩΩ‰∏Ä‰∏™SpringBoot2.x‰∏≠Âä†ËΩΩÁöÑÂä†ËΩΩÊú∫Âà∂redisConnectionFactoryÁöÑÂÆûÁé∞È¶ñÂÖà Redis ÁöÑ‰∏Ä‰∫õÈÖçÁΩÆÈÉΩÊòØ‰æùËµñ‰∫é RedisAutoConfigurationÔºåËøô‰∏™Á±ªÊòØÂú® spring-boot-autoconfigure ÈáåÈù¢ÔºåÈ¶ñÂÖàÁúã‰∏ãËøô‰∏™Á±ªÁöÑÂ§ß‰ΩìÁªìÊûÑÔºö12345678910111213141516171819202122232425@Configuration(proxyBeanMethods = false)@ConditionalOnClass(RedisOperations.class)@EnableConfigurationProperties(RedisProperties.class)@Import(&#123; LettuceConnectionConfiguration.class, JedisConnectionConfiguration.class &#125;)public class RedisAutoConfiguration &#123; @Bean @ConditionalOnMissingBean(name = "redisTemplate") public RedisTemplate&lt;Object, Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory) throws UnknownHostException &#123; RedisTemplate&lt;Object, Object&gt; template = new RedisTemplate&lt;&gt;(); template.setConnectionFactory(redisConnectionFactory); return template; &#125; @Bean @ConditionalOnMissingBean public StringRedisTemplate stringRedisTemplate(RedisConnectionFactory redisConnectionFactory) throws UnknownHostException &#123; StringRedisTemplate template = new StringRedisTemplate(); template.setConnectionFactory(redisConnectionFactory); return template; &#125;&#125; È¶ñÂÖàËøô‰∏™Á±ª‰∏äÈù¢ÊúâÂõõ‰∏™Ê≥®Ëß£ÔºåÈÇ£‰πàËøôÂõõ‰∏™Ê≥®Ëß£ÁöÑ‰ΩúÁî®Â¶Ç‰∏ãÔºö @Configuration(proxyBeanMethods = false)ÔºåÂ£∞ÊòéËøôÊòØ‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªÔºåÂêåÊó∂‰πüËØ¥Êòé‰∫Ü‰∏çË¶ÅËÆ© SpringBoot ‰∏∫Ëøô‰∏™Á±ªÁîüÊàê‰ª£ÁêÜÁ±ª @ConditionalOnClass(RedisOperations.class)ÔºåÂΩì classPath ‰∏≠Âá∫Áé∞‰∫Ü RedisOperations Ëøô‰∏™Á±ª‰πãÂêéÔºåËØ•Á±ªÊâç‰ºöÂä†ËΩΩÊàê‰∏Ä‰∏™Bean @EnableConfigurationProperties(RedisProperties.class)ÔºåÂ∞ÜÈÖçÁΩÆÁ±ª RedisProperties Âä†ËΩΩËøõÊù•ÔºåÁî±‰∫é @Import({ LettuceConnectionConfiguration.class, JedisConnectionConfiguration.class }) Âú®‰∏äËø∞ÁöÑÂá†‰∏™Ê≥®Ëß£ÈáåÈù¢ÔºåÊúÄÈáçË¶ÅÁöÑÊòØ @Import Ê≥®Ëß£ÔºåËøô‰∏™Ê≥®Ëß£ÂèØ‰ª•ÂÖÅËÆ∏Êàë‰ª¨Âú® TODO LettuceConnectionConfiguration Âíå JedisConnectionConfigurationÂΩìÊü•ÁúãËøô‰∏§‰∏™Á±ªÈáåÈù¢ÁöÑÊñπÊ≥ïÁöÑÊó∂ÂÄôÔºå‰ºöÂèëÁé∞Âú®ÂàõÂª∫ redisConnectionFactory Ëøô‰∏™BeanÁöÑÊó∂ÂÄôÔºåÈÉΩ‰ºöÊúâ‰∏Ä‰∏™ @ConditionalOnMissingBean(RedisConnectionFactory.class) Ê≥®Ëß£„ÄÇ12345678910111213141516@Bean@ConditionalOnMissingBean(RedisConnectionFactory.class)LettuceConnectionFactory redisConnectionFactory( ObjectProvider&lt;LettuceClientConfigurationBuilderCustomizer&gt; builderCustomizers, ClientResources clientResources) throws UnknownHostException &#123; LettuceClientConfiguration clientConfig = getLettuceClientConfiguration(builderCustomizers, clientResources, getProperties().getLettuce().getPool()); return createLettuceConnectionFactory(clientConfig);&#125;@Bean@ConditionalOnMissingBean(RedisConnectionFactory.class)JedisConnectionFactory redisConnectionFactory( ObjectProvider&lt;JedisClientConfigurationBuilderCustomizer&gt; builderCustomizers) throws UnknownHostException &#123; return createJedisConnectionFactory(builderCustomizers);&#125; ÂæàÊòéÊòæÔºåËøô‰∏§‰∏™Ê≥®Ëß£ÈÉΩÊòØÂΩì RedisConnectionFactory.class Ëøô‰∏™ Bean ‰∏çÂ≠òÂú®ÁöÑÊó∂ÂÄôÊâç‰ºöÂàõÂª∫ÔºåËÄå‰∏îÂú® RedisAutoConfiguration ‰∏≠ÔºåÈ¶ñÂÖà import ÁöÑÊòØ LettuceConnectionConfigurationÔºåÊâÄ‰ª•ÊúÄÂêéÊâç‰ºöÂØºËá¥Âú® SpringBoot2.x ÁöÑÊó∂ÂÄôÔºåÈªòËÆ§Âä†ËΩΩÁöÑ redisConnectionFactory ÊòØ LettuceConnectionFactory„ÄÇ]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÊµÖË∞àÂ∑•ÂéÇÊ®°Âºè]]></title>
    <url>%2F2019%2F12%2F27%2F%E6%B5%85%E8%B0%88%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÁÆÄ‰ªãÂ∑•ÂéÇÊ®°ÂºèËß£ÂÜ≥ÁöÑÊòØÈ¢ëÁπÅÁöÑ‰øÆÊîπÊüê‰∏Ä‰∫õ new Êìç‰ΩúÔºåÈöêËóèÁúüÂÆûÁöÑÂàõÂª∫ËøáÁ®ãÔºåÊñπ‰æø‰ª•ÂêéÊõ¥Âä†Âø´ÈÄüÁöÑÊñ∞Â¢ûÂíåÊâ©Â±ïÔºåÁÆÄÂçïÊù•ËØ¥Â∞±ÊòØÁª¥Êä§‰∏ÄÁ±ªÂÖ≥Á≥ª„ÄÇ ÁÆÄÂçïÂ∑•ÂéÇÔºöÊääÂØπË±°ÁöÑÂàõÂª∫ÊîæÂà∞‰∏Ä‰∏™Util‰∏≠ÔºåÈÄöËøá‰∏çÂêåÁöÑÂÖ•ÂèÇÊù•ÂàõÂª∫‰∏çÂêåÁöÑÁ±ª„ÄÇËøô‰πüÊòØÊó•Â∏∏ÁºñÁ†Å‰∏≠ÁªèÂ∏∏Áî®Âà∞ÁöÑÔºå‰∏çËøáÁº∫ÁÇπÂ∞±ÊòØÊØèÊ¨°Êñ∞Â¢û‰∏Ä‰∏™Á±ªÁöÑÊó∂ÂÄôÔºåÈÉΩÈúÄË¶Å‰øÆÊîπif/elseÂà§Êñ≠ÔºåÊúâÁÇπÁπÅÁêê„ÄÇ Â∑•ÂéÇÊñπÊ≥ïÔºöÂ∞ÜÂê´ÊúâÁõ∏ÂêåÂ±ûÊÄßÁöÑÁ±ªÊäΩË±°Êàê‰∏Ä‰∏™Â∑•ÂéÇÔºåËøô‰∏Ä‰∏™Â∑•ÂéÇÂè™Ë¥üË¥£Ëá™Â∑±ÁöÑÂØπË±°ÁöÑÂàõÂª∫ÔºåÂØπ‰øÆÊîπÂÖ≥Èó≠ÔºåÂØπÊâ©Â±ïÂºÄÊîæ„ÄÇ ÊäΩË±°Â∑•ÂéÇÔºöÂØπÁ±ªÁöÑÊìç‰ΩúËøõ‰∏ÄÊ≠•ÁöÑÂàíÂàÜÔºåÂ∞ÜÊüêÁßçÁ±ªÁöÑÊìç‰ΩúÂÜçÊ¨°ËøõË°åÊäΩË±°Âåñ„ÄÇ ‰ª£Á†ÅÂÅáËÆæÁé∞Âú®Ë¶ÅÂºÄÂèë‰∏Ä‰∏™È§êÂéÖÁÇπÈ§êÁ≥ªÁªüÔºåÈ¶ñÂÖàËÇØÂÆöÊòØÊúâÈ°æÂÆ¢‰ª•ÂèäÈ£üÁâ©„ÄÇ‰∏∫‰∫Ü‰ª•ÂêéÁöÑÊâ©Â±ïÊÄßÔºåÂú®ËøôÈáåÈÄöËøá‰∏âÁßçÂ∑•ÂéÇÊñπÊ≥ïÊù•ÂÆûÁé∞‰∏çÂêåÁöÑÈúÄÊ±Ç ÁÆÄÂçïÂ∑•ÂéÇÁé∞Âú®Êúâ‰∏§‰∏™Á±ªÔºåUser Âíå FoodÔºåÊ≠§Êó∂Êúâ‰∏Ä‰∏™ÈúÄÊ±ÇÊòØ‰∫∫ÈúÄË¶ÅÂêÉÈ£üÁâ©ÔºåÂèØËÉΩ‰Ω†ÊØ´‰∏çÁäπË±´ÁöÑÂÜô‰∏ã‰∫ÜÂ¶Ç‰∏ã‰ª£Á†ÅÔºö12345678910111213141516171819202122232425262728293031323334public class Potato &#123; private int temperaturel; private String name; public Potato(String name) &#123; this.name = name; &#125; public void cook()&#123; System.out.println("Âä†ÁÉ≠‰∏≠"); this.temperaturel = 100; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125;&#125;public class User &#123; public static void main(String[] args) &#123; new User().dinner(); &#125; private void dinner()&#123; Potato potato = new Potato("ÂúüË±Ü"); potato.cook(); System.out.println("ÂêÉÊôöÈ§ê" + potato.getName()); &#125;&#125; ÂêéÊù•Êúâ‰∏ÄÂ§©ÈúÄÊ±ÇÂèò‰∫ÜÔºåÁé∞Âú®ÈúÄË¶ÅÂÜçÂä†‰∏Ä‰∏™È£üÁâ©‰ª•‰æõÂÆ¢Êà∑ÈÄâÊã©ÔºåÂêéÊù•‰Ω†ÊÉ≥‰∫Ü‰∏ãÔºåÂÜ≥ÂÆöÂÜô‰∏Ä‰∏™ Util Á±ª„ÄÇÂ¶Ç‰∏ãÔºö123456789public static Object getFood(String name)&#123; if(name != null)&#123; if("Potato".equals(name))&#123; return new Potato("ÂúüË±Ü"); &#125; else if("Tomato".equals(name))&#123; return new Tomato("Ë•øÁ∫¢Êüø"); &#125; &#125; &#125; ËøôÊÆµ‰ª£Á†ÅÊòéÊòæÁöÑÊúâ‰∏Ä‰∏™ÈóÆÈ¢òÂ∞±ÊòØÔºåËøîÂõûÁöÑ Object Âú®Âè¶‰∏Ä‰∏™Âú∞ÊñπËøõË°åÂº∫Âà∂ËΩ¨Êç¢ÁöÑÊó∂ÂÄôÔºåÁî±‰∫é‰∏çÁü•ÈÅìËøîÂõûÁöÑÊòØ Potato ËøòÊòØ TomatoÔºåÊâÄ‰ª•ÂæàÂÆπÊòìÊäõÂá∫ËΩ¨Êç¢ÂºÇÂ∏∏ÔºåÊâÄ‰ª•Ê≠§Êó∂ÔºåÂÜçÁªßÁª≠‰ºòÂåñËøôÊÆµ‰ª£Á†ÅÔºåÁî±‰∫éÂúüË±ÜÂíåË•øÁ∫¢ÊüøÈÉΩÊòØÈ£üÁâ©ÁöÑ‰∏ÄÁßçÔºå‰∫éÊòØÂèØ‰ª•Áõ¥Êé•ÊäΩË±°‰∏Ä‰∏™Êé•Âè£Âá∫Êù•„ÄÇËøôÊ†∑ÂúüË±ÜÂíåÈ©¨ÈìÉËñØÈÉΩÂÆûÁé∞Ëøô‰∏™Êé•Âè£„ÄÇÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354public interface Food &#123; void cook(); String getName();&#125;public class Potato implements Food&#123; private int temperaturel; private String name; public Potato(String name) &#123; this.name = name; &#125; @Override public void cook()&#123; System.out.println("Âä†ÁÉ≠‰∏≠"); this.temperaturel = 100; &#125; @Override public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125;&#125;public class Tomato implements Food&#123; private int temperaturel; private String name; public Tomato(String name) &#123; this.name = name; &#125; @Override public void cook()&#123; System.out.println("Âä†ÁÉ≠‰∏≠"); this.temperaturel = 100; &#125; @Override public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125;&#125; Ëøô‰∏™Êó∂ÂÄôÂë¢Ôºå‰øÆÊîπ Util Á±ªÔºåËÆ©ÂÆÉËøîÂõû Food Ëøô‰∏™ÊäΩË±°ÔºåÁÑ∂ÂêéÈÄöËøáÂÆû‰æãÂåñÂ≠êÁ±ªÔºåÊù•ÂÆûÁé∞Ê®°ÁâàÁöÑË∞ÉÁî®Ôºå‰∫éÊòØÁªßÁª≠‰øÆÊîπ Util Á±ª„ÄÇÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425public class FoodUtil &#123; public static Food getFood(String name)&#123; if(name != null)&#123; if("Potato".equals(name))&#123; return new Potato("ÂúüË±Ü"); &#125; else if("Tomato".equals(name))&#123; return new Tomato("Ë•øÁ∫¢Êüø"); &#125; &#125; return null; &#125;&#125;public class User &#123; public static void main(String[] args) &#123; new User().dinner("Potato"); new User().dinner("Tomato"); &#125; private void dinner(String name)&#123; Food food = FoodUtil.getFood(name); food.cook(); System.out.println("ÂêÉÊôöÈ§ê" + food.getName()); &#125;&#125; ‰ΩÜÊòØÈöèÁùÄÈ£üÁâ©ÁßçÁ±ªÁöÑ‰∏çÊñ≠Â¢ûÂä†ÔºåÊØè‰∏ÄÊ¨°Êñ∞Â¢û‰∏ÄÁßçÈ£üÁâ©Ôºå‰Ω†ÈÉΩË¶ÅÂéª‰øÆÊîπgetFoodËøô‰∏™ÊñπÊ≥ïÔºåÊØèÊ¨°‰øÆÊîπÂÆåÊØï‰πãÂêéÔºå‰Ω†ËøòÂøÖÈ°ªÂØπÂÖ∂ËøõË°åÂõûÂΩíÊµãËØïÔºå‰∏á‰∏ÄÊîπÈîô‰∫ÜÔºåÊàñËÄÖequalsÊñπÊ≥ïË∞ÉÁî®ËÄÖÁöÑkeyÈáçÂ§ç‰∫ÜÔºåÈÇ£Â∞±‰ºöÂΩ±ÂìçÂà∞Á≥ªÁªüÁöÑËøêË°å‰∫Ü„ÄÇËÄå‰∏îËøô‰πü‰∏çÁ¨¶ÂêàËÆæËÆ°Ê®°ÂºèÈáåÈù¢ÁöÑÂºÄÈó≠ÂéüÂàôÔºåÂØπÊâ©Â±ïÂºÄÊîæÔºåÂØπ‰øÆÊîπÂÖ≥Èó≠„ÄÇÊâÄ‰ª•Ê≠§Êó∂ÁªßÁª≠ÂØπËøô‰∏™ Util ËøõË°å‰øÆÊîπ„ÄÇ1234567public static Food getFood(Class&lt;? extends Food&gt; clazz) throws IllegalAccessException, InstantiationException &#123; if(clazz != null)&#123; // Âú®ËøôÈáåÊñπ‰æøÊºîÁ§∫ÊòØËÆæËÆ°Ê®°ÂºèÔºåÊâÄ‰ª•Âú®Tomato Âíå PotatoÂä†ÂÖ•‰∫ÜÊó†ÂèÇÁöÑÊûÑÈÄ†Âô® return clazz.newInstance(); &#125; return null; &#125; ËøôÂ∞±ÊòØ‰∏Ä‰∏™ÁÆÄÂçïÂ∑•ÂéÇÊ®°ÂºèÔºåÁÆÄÂçïÂ∑•ÂéÇÊ®°Âºè‰∏•Ê†ºÊÑè‰πâ‰∏äÊù•ËÆ≤Âπ∂‰∏çÂ±û‰∫éËÆæËÆ°Ê®°ÂºèÂÖ∂‰∏≠‰πã‰∏ÄÔºå‰ΩÜÊòØËøô‰πüÊòØÊàë‰ª¨Âú®ÂºÄÂèëËøáÁ®ã‰∏≠ÁªèÂ∏∏‰ΩøÁî®ÁöÑ‰∏ÄÁßçÊñπÂºèÔºåÁî®‰∫éÈÅøÂÖç‰∏Ä‰∫õÊó†ÊÑè‰πâÁöÑ new Êìç‰Ωú„ÄÇÊé•‰∏ãÊù•Â∞±Êù•ËÆ≤‰∏ãÂ∑•ÂéÇÊñπÊ≥ïÊ®°Âºè„ÄÇ Â∑•ÂéÇÊñπÊ≥ïÊ®°Âºè1234567891011121314151617181920//ÊäΩË±°ÁöÑ‰∏Ä‰∏™Â∑•ÂéÇpublic interface FoodFactory &#123; Food createFood();&#125;// Ë•øÁ∫¢ÊüøÂ∑•ÂéÇpublic class PotatoFactory implements FoodFactory &#123; @Override public Food createFood() &#123; return new Potato(); &#125;&#125;// ÂúüË±ÜÂ∑•ÂéÇpublic class TomatoFactory implements FoodFactory &#123; @Override public Food createFood() &#123; System.out.println("Ê∏ÖÊ¥óÂπ≤ÂáÄ"); System.out.println("ÂàáÂ•Ω"); return new Tomato(); &#125;&#125; Ëøô‰∏™Êó∂ÂÄôÔºåÂÅáËÆæÊàë‰ª¨Ë¶Å‰ΩøÁî®ÁöÑËØùÔºåÂàôÁõ¥Êé•ÈÄöËøá new ‰∏Ä‰∏™Â≠êÁ±ªÂç≥ÂèØÔºåÂ¶Ç‰∏ã‰ª£Á†ÅÔºö12345678public class User &#123; public static void main(String[] args) &#123; FoodFactory potatoFactory = new PotatoFactory(); FoodFactory tomatoFactory = new TomatoFactory(); tomatoFactory.createFood().cook(); potatoFactory.createFood().cook(); &#125;&#125; ËøôÊ†∑ÂÅöÁöÑÂ•ΩÂ§ÑÊòØÔºåÂØπÊâ©Â±ïÂºÄÊîæÔºåÂΩìÈúÄË¶ÅÊ∑ªÂä†ÂÖ∂‰ªñÈ£üÁâ©ÁöÑÊó∂ÂÄôÔºåÁõ¥Êé•Êñ∞Âª∫‰∏Ä‰∏™FactoryÁ±ªÁÑ∂ÂêéÂÆûÁé∞FoodFactoryÊé•Âè£Âç≥ÂèØÔºåËøôÂ∞±ÊòØÂ∑•ÂéÇÊ®°ÂºèÁöÑÂ•ΩÂ§Ñ„ÄÇ ÊäΩË±°Â∑•ÂéÇÊ®°ÂºèÊäΩË±°Â∑•ÂéÇÊ®°ÂºèÊòØÂØπÂ∑•ÂéÇÁöÑÊõ¥Ëøõ‰∏ÄÊ≠•ÊäΩË±°Ôºå‰æãÂ¶Ç ÂúüË±Ü Âíå Ë•øÁ∫¢ÊüøÊòØ‰∏ÄÁªÑ‰∫ßÂìÅÔºåÂõ†‰∏∫ÂÆÉ‰ª¨ÈÉΩÂêåÂ±û‰∫éÈ£üÁâ©„ÄÇ‰ΩÜÊòØÁé∞Âú®Êúâ‰∏§‰∏™Âú∞ÊñπÈÉΩÂèØ‰ª•Áîü‰∫ß ÂúüË±Ü Âíå Ë•øÁ∫¢ÊüøÔºåAÂú∞ÁöÑÊòØÈáëËâ≤ÁöÑÔºåBÂú∞Áîü‰∫ßÁöÑÊòØÈì∂Ëâ≤ÁöÑÔºå‰∫éÊòØÊ≠§Êó∂ A Âíå B Â∞±‰∫ßÁîü‰∫Ü‰∏Ä‰∏™‰∫ßÂìÅÁ≠âÁ∫ß„ÄÇ‰ΩÜÊòØA Âíå BÈÉΩÊòØÂÖ∑Êúâ‰∏ÄÁªÑÈÄöÁî®ÁöÑÁâπÊÄßÔºåÂç≥‰ΩøÂèØ‰ª•Áîü‰∫ß‰∏çÂêåÁöÑÈ¢úËâ≤ ÂúüË±Ü Âíå Ë•øÁ∫¢Êüø„ÄÇ public interface PlantFactory { Tomato plantTomato(); Potato plantPotato(); } public class AFactory implements PlantFactory{ @Override public Tomato plantTomato() { System.out.println("plantTomato By A"); return new Tomato(); } @Override public Potato plantPotato() { System.out.println("plantPotato By A"); return new Potato(); } } public class BFactory implements PlantFactory { @Override public Tomato plantTomato() { System.out.println("plantTomato By B"); return new Tomato(); } @Override public Potato plantPotato() { System.out.println("plantPotato By B"); return new Potato(); } } public class User { public static void main(String[] args) { PlantFactory plantFactory = new AFactory(); plantFactory.plantPotato().cook(); } } ÊÄªÁöÑÊù•ËØ¥ÔºåËøô‰∏âÁßçËÆæËÆ°Ê®°Âºè‰∏≠ÔºåÈô§‰∫ÜÊäΩË±°Â∑•ÂéÇÊ®°ÂºèÂæàÂ∞ë‰ΩøÁî®Âà∞ÔºåÂÖ∂‰ªñ‰∏§ÁßçÂú®Âπ≥Â∏∏ÂºÄÂèëÁöÑÈ°πÁõÆ‰∏≠Âü∫Êú¨‰∏äÈÉΩÂèØ‰ª•ÁúãÂà∞„ÄÇ]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mysql‰∏≠intÁ±ªÂûãÁöÑÁÆÄÂçïÊÄªÁªì]]></title>
    <url>%2F2019%2F12%2F17%2FMysql%E4%B8%ADint%E7%B1%BB%E5%9E%8B%E7%9A%84%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[ÈóÆÈ¢òÈ¶ñÂÖàÈóÆ‰∏§‰∏™ÈóÆÈ¢òÔºö int(1)Âíåint(10)Êúâ‰ªÄ‰πàÂå∫Âà´„ÄÇ int(3)ÂèØ‰ª•Â≠òÂÇ® 10000 Ëøô‰∏™Êï∞Â≠óÂêóÔºü int(11)ÂèØ‰ª•Áî®Êù•Â≠òÂÇ®ÊâãÊú∫Âè∑‰πàÔºü Êú¨Ê¨°ÁöÑÊ∫ê‰ª£Á†Å‰ª•ÂèäÊµãËØïÁöÑ Mysql ÁâàÊú¨Âùá‰∏∫ 8.0.17 Ëß£ÈáäÈ¶ñÂÖàÊñ∞Âª∫‰∏Ä‰∏™Ë°®ÔºåSQLÂ¶Ç‰∏ãÔºö12345create table test_int( id int(3) not null primary key , no int(5) not null, phone int(11)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; ÂΩì‰Ω†ÊâßË°åÂÆåËøô‰∏™ SQL ‰ª•ÂêéÔºåMysql‰ºöÂèëÂá∫‰∏Ä‰∏™Â¶Ç‰∏ãÊèêÁ§∫Ôºö [2019-12-16 23:08:24] [HY000][1681] Integer display width is deprecated and will be removed in a future release.È¶ñÂÖà‰∏çÁÆ°Ëøô‰∏™ÊèêÁ§∫ÔºåÂæÖ‰ºöÂêéÊñá‰ºöËß£ÈáäÁöÑ„ÄÇ ÁÑ∂ÂêéÊñ∞Â¢ûÊµãËØïÊï∞ÊçÆÔºö 12INSERT INTO `test`.`test_int` (`id`, `no`, `phone`) VALUES (10000, 1008611, 123124);INSERT INTO `test`.`test_int` (`id`, `no`, `phone`) VALUES (10, 134, 124); ÁÑ∂ÂêéÂÜçËøõË°å select Êü•Áúã„ÄÇ 12345678 mysql&gt; select * from test_int;+-------+---------+--------+| id | no | phone |+-------+---------+--------+| 10 | 134 | 124 || 10000 | 1008611 | 123124 |+-------+---------+--------+2 rows in set (0.00 sec) ÂèØ‰ª•ÁúãÂà∞ÂÖ∂ÂÆûÂπ∂Ê≤°ÊúâÂΩ±ÂìçÂà∞‰ªª‰ΩïÊï∞ÊçÆÁöÑÊèíÂÖ•ÔºåÈöèÂêéÊü•ËØ¢ Mysql ÁöÑÂÆòÊñπÊñáÊ°£ÔºåÈáåÈù¢ÊúâËøôÊ†∑ÁöÑ‰∏ÄÊÆµËØù If you specify ZEROFILL for a numeric column, MySQL automatically adds the UNSIGNED attribute to the column. ÈöèÂêéÂÜçÊ¨°Êñ∞Âª∫‰∏Ä‰∏™Ë°®Ôºö1234567create table test_int_zerofill( id int(3) unsigned zerofill not null primary key , no int(5) unsigned zerofill not null , phone int(11) unsigned zerofill) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;The ZEROFILL attribute is deprecated and will be removed in a future release. Use the LPAD function to zero-pad numbers, or store the formatted numbers in a CHAR column. ËôΩÁÑ∂ÊèêÁ§∫ ZEROFILL Âø´Ë¶ÅË¢´Â∫üÂºÉ‰∫ÜÔºå‰ΩÜÊòØ‰∏∫‰∫ÜÊºîÁ§∫Âå∫Âà´ÔºåÊâÄ‰ª•ÊöÇÊó∂ËøòÊòØ‰∏çÁÆ°‰∫Ü„ÄÇ12345678mysql&gt; select * from test_int_zerofill;+-------+--------+-------------+| id | no | phone |+-------+--------+-------------+| 010 | 00010 | 00000000010 || 12345 | 123456 | 00001234567 |+-------+--------+-------------+2 rows in set (0.00 sec) ÊâÄ‰ª•ÂØπ‰∫éÈóÆÈ¢ò1ÔºåÊâÄ‰ª• int(1) Âíå int(10) ÂÖ∂ÂÆûÊòØÊ≤°ÊúâÂå∫Âà´ÁöÑÔºåÂîØ‰∏ÄÊúâÂå∫Âà´ÁöÑÂú∞ÊñπÂ∞±Âú®‰∫éÂ¶ÇÊûú‰ΩøÁî®‰∫Ü unsigned zerofill ‰øÆÈ•∞ÁöÑËØùÔºåÈÇ£‰πà‰∏çË∂≥ÈïøÂ∫¶ÁöÑ‰ºöÂú®Â∑¶ËæπËøõË°åË°• 0 ÔºåËÄåÂ¶ÇÊûúÊ≤°ÊúâÁî® unsigned zerofill ËøõË°å‰øÆÈ•∞ÁöÑËØùÔºåÂèØ‰ª•ËØ¥Âü∫Êú¨‰∏äÊòØÊ≤°ÊúâÂå∫Âà´ÁöÑ„ÄÇ ÂØπ‰∫éÈóÆÈ¢ò2ÔºåÂõ†‰∏∫ int Êã¨Âè∑ÈáåÈù¢ÁöÑÂÄº‰∏é‰ΩçÊï∞Êó†ÂÖ≥Ôºå ÊâÄ‰ª•ÊòØÂèØ‰ª•ÁöÑ„ÄÇÂà∞Ê≠§ÔºåÂØπ‰∫éÊâßË°åÁ¨¨‰∏Ä‰∏™SQLÊâÄËøõË°åÁöÑÊèêÁ§∫ÔºåÊòØÂõ†‰∏∫ Mysql ‰πüËßâÂæóÂÖ∂ÂÆûÊ≤°‰ªÄ‰πàÊÑè‰πâÔºåËÄåÊòØÊõ¥Âä†Êé®ËçêÁî® LDAP() Ëøô‰∏™ÂáΩÊï∞Êù•Âà§Êñ≠„ÄÇ ÂØπ‰∫éÁ¨¨‰∫å‰∏™ÈóÆÈ¢òÔºåÂèØ‰ª•Â∞ùËØï‰∏Ä‰∏™ÊâãÊú∫Âè∑Ôºö123INSERT INTO `test`.`test_int_zerofill` (`id`, `no`, `phone`) VALUES (10, 10, 13100000000)[22001][1264] Data truncation: Out of range value for column 'phone' at row 1 Âá∫Áé∞Ëøô‰∏™ÈóÆÈ¢òÁöÑÂéüÂõ†Âú®‰∫é int Á±ªÂûãÂú® mysql ÈáåÈù¢ÊòØÂõõ‰∏™Â≠óËäÇÔºåËÄå‰∏Ä‰∏™Â≠óËäÇÊòØ 8 ‰ΩçÔºåÊâÄ‰ª•Âú® mysql ÈáåÈù¢Ôºå‰∏Ä‰∏™int Á±ªÂûãÊúÄÂ§öÂèØ‰ª•ÂÇ®Â≠ò 2^31(‰∏Ä‰∏™Á¨¶Âè∑‰ΩçÁΩÆ)Ôºå‰πüÂ∞±ÊòØÁ∫¶ 21 ‰∫øÂ∑¶Âè≥ÔºåÊó†Á¨¶Âè∑ÁöÑ‰πüÊúÄÂ§ö42‰∫øÔºå‰ΩÜÊòØÊâãÊú∫Âè∑ÊúÄ‰Ωé‰πüÊòØ11‰ΩçÔºå‰πüÂ∞±ÊòØ 130 Â§ö‰∫ø„ÄÇÊâÄ‰ª•ËÇØÂÆöÊòØÊó†Ê≥ïÂ≠òÂÇ®ÁöÑ„ÄÇ‰∏ãÈù¢ÊòØ Mysql ÂÆòÊñπÁªôÂá∫ÁöÑ num Á±ªÂûãÁöÑÂ≠òÂÇ®ËåÉÂõ¥ Ê∫êÁ†ÅÁî±‰∫éÊÉ≥Áúã‰∏ã Mysql Âà∞Â∫ïÊòØÂ¶Ç‰ΩïÂ§ÑÁêÜ int Á±ªÂûãÁöÑÊï∞ÂÄºÁöÑÔºå‰∫éÊòØ‰∏ãËΩΩÂπ∂‰∏îÁºñËØë‰∫Ü Mysql ÁöÑÊ∫êÁ†ÅÔºå‰∏ÄÁõ¥Ë∑üÁùÄ debugÔºåÊúÄÂêéÊâæÂà∞‰∫Ü Mysql Âà§Êñ≠ int ÊòØÂê¶Ë∂ÖÈïøÁöÑ‰∏Ä‰∏™‰ª£Á†ÅÔºåÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536type_conversion_status Field_long::store(double nr) &#123; ASSERT_COLUMN_MARKED_FOR_WRITE; type_conversion_status error = TYPE_OK; int32 res; nr = rint(nr); if (unsigned_flag) &#123; if (nr &lt; 0) &#123; res = 0; error = TYPE_WARN_OUT_OF_RANGE; &#125; else if (nr &gt; (double)UINT_MAX32) &#123; res = UINT_MAX32; set_warning(Sql_condition::SL_WARNING, ER_WARN_DATA_OUT_OF_RANGE, 1); error = TYPE_WARN_OUT_OF_RANGE; &#125; else res = (int32)(ulong)nr; &#125; else &#123; if (nr &lt; (double)INT_MIN32) &#123; res = (int32)INT_MIN32; error = TYPE_WARN_OUT_OF_RANGE; &#125; else if (nr &gt; (double)INT_MAX32) &#123; res = (int32)INT_MAX32; error = TYPE_WARN_OUT_OF_RANGE; &#125; else res = (int32)(longlong)nr; &#125; if (error) set_warning(Sql_condition::SL_WARNING, ER_WARN_DATA_OUT_OF_RANGE, 1);#ifdef WORDS_BIGENDIAN if (table-&gt;s-&gt;db_low_byte_first) &#123; int4store(ptr, res); &#125; else#endif longstore(ptr, res); return error;&#125; Âú®ËøôÊÆµ‰ª£Á†ÅÈáåÈù¢ÔºåMysqlÈ¶ñÂÖà‰ºöÂà§Êñ≠ÊòØÂê¶Â∏¶ÊúâÁ¨¶Âè∑‰ΩçÔºåÂ¶ÇÊûúÊòØÊó†Á¨¶Âè∑‰ΩçÁöÑËØùÔºåÂàôÊòØÁõ¥Êé•Âà§Êñ≠ÊòØÂê¶Â§ß‰∫é UINT_MAX32ÔºåËÄåÂ¶ÇÊûúÊòØÊúâÁ¨¶Âè∑ÁöÑËØùÔºåÂàôÊòØÂà§Êñ≠ÊòØÂê¶Â∞è‰∫é INT_MIN32 ÊàñËÄÖÂ§ß‰∫é INT_MAX32ÔºåÂê¶ÂàôÁõ¥Êé•‰∏∫ÊúÄÂ∞èÊàñËÄÖÊúÄÂ§ßÂÄºÔºåÁÑ∂ÂêéËÆæÁΩÆerror„ÄÇPSÔºöËøô‰∏ÄÊÆµ‰ª£Á†ÅÊòØËøòÊú™ËøõË°å InnoDB ÂºïÊìéÂ±ÇÔºåÂèØ‰ª•ÁúãÂà∞ Mysql ÊòØÂú® Server Â±ÇËøõË°åSQLËØ≠Âè•ÁöÑÊ†°È™å„ÄÇ]]></content>
      <categories>
        <category>Mysql</category>
      </categories>
      <tags>
        <tag>Mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[java validation ÁöÑÂõΩÈôÖÂåñ]]></title>
    <url>%2F2019%2F12%2F09%2Fjava-validation-%E7%9A%84%E5%9B%BD%E9%99%85%E5%8C%96%2F</url>
    <content type="text"><![CDATA[ËÉåÊôØÂú®‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÈ°πÁõÆÈáåÈù¢ÔºåËÇØÂÆöÊòØÊúâÂêÑÁßçÂêÑÊ†∑ÁöÑÂÖ•ÂèÇÊ†°È™åÁöÑÔºåÂ¶ÇÊûú‰∏öÂä°‰∏äÁöÑ‰∏Ä‰∫õÈÄªËæëÊ†°È™åÔºåÂèØ‰ª•ÊîæÂú® Service Â±ÇÈù¢ËøõË°åÔºå‰ΩÜÊòØÂ¶ÇÊûúÊòØ Controller ÈáåÈù¢ÁöÑÊ†°È™åÔºåÁõ¥Êé•ÂèØ‰ª•Áî® validation ËøõË°åÈ™åËØÅ„ÄÇÈÖçÂêàÊ≥®Ëß£ÂèØ‰ª•ÂæàÊñπ‰æøÁöÑÂÆûÁé∞ÂêÑÁßçÂêÑÊ†∑ÁöÑÂÖ•ÂèÇÊ†°È™å„ÄÇÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425public class User &#123; @NotBlank(message = "Áî®Êà∑ÂêçÁß∞‰∏çËÉΩ‰∏∫Á©∫") private String name; @Max(value = 18) @Min(value = 10) private Integer age; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public Integer getAge() &#123; return age; &#125; public void setAge(Integer age) &#123; this.age = age; &#125;&#125; ÁÑ∂ÂêéÂú®ControllerÈáåÈù¢123456789@PostMapping(value = "test")public String testError(@Valid @RequestBody User user ,Errors errors)&#123; if(errors.hasErrors())&#123; for (ObjectError err : errors.getAllErrors()) &#123; return err.getDefaultMessage(); &#125; &#125; return "OK";&#125; ÂΩìÂÖ•ÂèÇÁöÑ JSON Â¶ÇÊûú name ÊòØÁ©∫ÁöÑËØùÔºåÂ∞±‰ºöÁõ¥Êé•ËøîÂõû Áî®Êà∑ÂêçÁß∞‰∏çËÉΩ‰∏∫Á©∫ÔºåÂΩìÁÑ∂ËøôÈáåÊòØÂÅö‰∫Ü‰∏Ä‰∫õÁÆÄÂåñÔºåËøîÂõûÁöÑÂ∫îËØ•ËøòÊúâ Code Âíå Message„ÄÇËøôÊ†∑ÁöÑËØù‰∏Ä‰∏™ÁÆÄÂçïÁöÑ Controller Ê£ÄÈ™åÂÖ•ÂèÇÂ∞±ÂÆûÁé∞ÁöÑÔºå‰ΩÜÊòØ‰∏∫‰∫ÜÊâ©Â±ïÊÄßÂíåÂèØÁª¥Êä§ÊÄßÔºåËøòÈúÄË¶ÅËÄÉËôëÂõΩÈôÖÂåñ‰ª•ÂèäÂèØÈÖçÁΩÆÂåñ„ÄÇ Êâ©Â±ïÊÄßÂ¶ÇÊûúÂú®‰πãÂêéÈúÄË¶ÅÊõ¥Êîπ‰∏Ä‰∏™Ê†°È™åÁöÑÊèêÁ§∫ËØ≠ÔºåÈÇ£‰πàÂú®‰∏äÈù¢ÁöÑ‰ª£Á†ÅÈáåÈù¢ÊòØÈúÄË¶Å‰øÆÊîπ‰ª£Á†ÅÁöÑÔºåÈÇ£‰πàÊúÄÂ•ΩÁöÑÂäûÊ≥ïÂ∞±ÊòØÊääËøô‰∫õÊèêÁ§∫‰ø°ÊÅØÈÉΩÂä†Âà∞ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÔºåÈÇ£‰πà‰ª•ÂêéÈúÄË¶Å‰øÆÊîπÊüê‰∫õÊèêÁ§∫ÁöÑËØùÔºåÁõ¥Êé•ÊîπÈÖçÁΩÆÊñá‰ª∂Âç≥ÂèØ„ÄÇÂú® Spring ÂÆòÊñπÊñáÊ°£ÁöÑ 4.7.1 ‰∏≠Êúâ‰∏Ä‰∏™Á±ª MessageCodesResolver ÂèØ‰ª•Áî®Êù•ÂÆûÁé∞ÈîôËØØ‰ø°ÊÅØÁöÑÂèØÈÖçÁΩÆÂåñ MessageCodesResolverËøô‰∏™Á±ªÈúÄË¶ÅÂíåspring.mvc.message-codes-resolver-format‰∏ÄËµ∑Êù•‰ΩøÁî®ÔºåÊ†πÊçÆÂÆòÊñπÊñáÊ°£ÁöÑÊèêÁ§∫ÔºåÊü•ÁúãDefaultMessageCodesResolver.FormatÔºå‰ºöÂèëÁé∞Ëøô‰∏™ÂèÇÊï∞Êúâ‰∏§‰∏™Êûö‰∏æÔºå‰∏Ä‰∏™ÊòØ PREFIX_ERROR_CODEÔºåÂè¶‰∏Ä‰∏™ÊòØ POSTFIX_ERROR_CODE„ÄÇËøô‰∏§‰∏™‰ªÄ‰πàÊÑèÊÄùÂë¢ÔºåÁÆÄÂçïÊù•ËÆ≤ÔºåÊ†πÊçÆ‰∏äÈù¢ÁöÑ User Á±ªÔºåÂ¶ÇÊûúÊàëË¶ÅÈÖçÁΩÆÂΩì name ‰∏ç‰∏∫Á©∫ÁöÑÊèêÁ§∫ËØ≠Ôºå‰∏ãÈù¢‰∏§ÁßçÊûö‰∏æÂØπÂ∫îÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÈîÆÂÄºÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇ PREFIX_ERROR_CODE NotBlank.user.name = Áî®Êà∑ÂêçÁß∞‰∏çËÉΩ‰∏∫Á©∫ POSTFIX_ERROR_CODE„ÄÇ user.name.NotBlank = Áî®Êà∑ÂêçÁß∞‰∏çËÉΩ‰∏∫Á©∫ ‰∏™‰∫∫ÂÅèÂêë‰∫éÁ¨¨‰∫åÁßçÂÜôÊ≥ïÁöÑÔºåÂõ†‰∏∫ÊÑüËßâÁ¨¨‰∫åÁßçÊõ¥Âä†Á¨¶ÂêàÈòÖËØª‰π†ÊÉØ„ÄÇ messgaeÈÖçÁΩÆÊñá‰ª∂Êó¢ÁÑ∂ÈúÄË¶ÅÂÅöÊàêÈÖçÁΩÆÊñá‰ª∂ÔºåÈÇ£‰πàÂú® application.yml ÈáåÈù¢Êää‰∏Ä‰∫õÂ±ûÊÄßÈÉΩÈÖçÁΩÆÂ•ΩÔºåÂ¶Ç‰∏ãÔºö12345spring: mvc: message-codes-resolver-format: postfix_error_code messages: basename: i18n/validation ÁÑ∂ÂêéÂú® Resources ‰∏ãÈù¢Êñ∞Âª∫‰∏Ä‰∏™ validation.properties123user.name.NotBlank = Áî®Êà∑ÂêçÁß∞‰∏çËÉΩ‰∏∫Á©∫user.age.Max = Âπ¥ÈæÑÊúÄÈ´ò‰∏çËÉΩÈ´ò‰∫é18user.age.Min = Âπ¥ÈæÑÊúÄÈ´ò‰∏çËÉΩ‰Ωé‰∫é10 Controller Ê†°È™å12345678910111213@AutowiredMessageSource messageSource;@PostMapping(value = "test/cn")public String testErrorCn(@Valid @RequestBody User user ,Errors errors)&#123; if(errors.hasErrors())&#123; for (ObjectError err : errors.getAllErrors()) &#123; String msg = messageSource.getMessage(err, Locale.CHINA); return msg; &#125; &#125; return "OK";&#125; Âú®ËøôÈáåÊöÇÊó∂ÂÖà‰∏çÁÆ° Locale.CHINA Ëøô‰∏™ÂèÇÊï∞ÁöÑÂê´‰πâÔºåÈ¶ñÂÖàÈÄöËøá errors ÂÖàÂà§Êñ≠ÂÖ•ÂèÇÊòØÂê¶ÊúâÈóÆÈ¢òÔºåÊúâÁöÑËØùÁõ¥Êé•ÈÄöËøá messageSource.getMessage() ÊñπÊ≥ïÁõ¥Êé•ËøîÂõûÈîôËØØ‰ø°ÊÅØÂç≥ÂèØ„ÄÇ PsotManÊµãËØï1234POST /test/cn HTTP/1.1Host: localhost:8071&#123;"age":15&#125; ËøîÂõûÔºöÁî®Êà∑ÂêçÁß∞‰∏çËÉΩ‰∏∫Á©∫ ÈÇ£‰πà‰ª•ÂêéÂ¶ÇÊûúÈúÄË¶Å‰øÆÊîπËøîÂõûÊèêÁ§∫ÁöÑËØùÔºåÁõ¥Êé•‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂Âç≥ÂèØÔºå‰ªéËÄå‰∏çÈúÄË¶Å‰øÆÊîπ‰ª£Á†Å„ÄÇ ÂõΩÈôÖÂåñÂ¶ÇÊûúÈúÄË¶ÅÂ∞ÜËØ•ÊèêÁ§∫ÂõΩÈôÖÂåñÔºåÁõ¥Êé•‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂Âç≥ÂèØÔºåÊñ∞Âª∫‰∏§‰∏™ÈÖçÁΩÆÊñá‰ª∂validation_zh_CN.propertiesÔºåvalidation_en_US.propertiesÔºåÁÑ∂ÂêéÂàÜÂà´Êñ∞Âª∫ÊèêÁ§∫ÈÖçÁΩÆÂ¶Ç‰∏ãÔºö123456789validation_zh_CN.propertiesÔºöuser.name.NotBlank = Áî®Êà∑ÂêçÁß∞‰∏çËÉΩ‰∏∫Á©∫user.age.Max = Âπ¥ÈæÑÊúÄÈ´ò‰∏çËÉΩÈ´ò‰∫é18user.age.Min = Âπ¥ÈæÑÊúÄÈ´ò‰∏çËÉΩ‰Ωé‰∫é10validation_en_US.propertiesÔºöuser.name.NotBlank = user name can not be nulluser.age.Max = the max gae can not grater than 18user.age.Min = the max gae can not less than 10 Ê≠§Êó∂Âú®ControllerÈáåÈù¢‰ª£Â¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536373839@RestController@ResponseBodypublic class StartController &#123; @Autowired MessageSource messageSource; @PostMapping(value = "test") public String testError(@Valid @RequestBody User user ,Errors errors)&#123; if(errors.hasErrors())&#123; for (ObjectError err : errors.getAllErrors()) &#123; return err.getDefaultMessage(); &#125; &#125; return "OK"; &#125; @PostMapping(value = "test/cn") public String testErrorCn(@Valid @RequestBody User user ,Errors errors)&#123; if(errors.hasErrors())&#123; for (ObjectError err : errors.getAllErrors()) &#123; String msg = messageSource.getMessage(err, Locale.CHINA); return msg; &#125; &#125; return "OK"; &#125; @PostMapping(value = "test/en") public String testErrorEn(@Valid @RequestBody User user ,Errors errors)&#123; if(errors.hasErrors())&#123; for (ObjectError err : errors.getAllErrors()) &#123; String msg = messageSource.getMessage(err, Locale.US); return msg; &#125; &#125; return "OK"; &#125;&#125; UserÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425public class User &#123; @NotBlank private String name; @Max(value = 18) @Min(value = 10) private Integer age; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public Integer getAge() &#123; return age; &#125; public void setAge(Integer age) &#123; this.age = age; &#125;&#125; ÂΩìÊàë‰ª¨ËØ∑Ê±Ç test/en Âíå test/cnÁöÑÊó∂ÂÄôÂ∞±‰ºöÂá∫Áé∞‰∏çÂêåÁöÑÊèêÁ§∫Ôºå test/en user name can not be null test/cn Áî®Êà∑ÂêçÁß∞‰∏çËÉΩ‰∏∫Á©∫ ËøôÂÖ∂‰∏≠ÈáçË¶ÅÁöÑÂÆûÁé∞Â∞±ÊòØ Locale.US Âíå Locale.CHINAÔºåÂú®ËøôÈáåÂÆûÁé∞ÁöÑËØùÔºåÊúÄÂ•ΩÊòØÊ†πÊçÆÁî®Êà∑ÁöÑÈÄâÊã©ËØ≠Ë®ÄÊù•Âä®ÊÄÅÁöÑÂàáÊç¢ÂÆûÁé∞LocalÁöÑËΩ¨Êç¢„ÄÇ]]></content>
  </entry>
  <entry>
    <title><![CDATA[java‰ø°Âè∑ÈáèÁöÑÁÆÄÂçï‰∫ÜËß£]]></title>
    <url>%2F2019%2F12%2F04%2Fjava%E4%BF%A1%E5%8F%B7%E9%87%8F%E7%9A%84%E7%AE%80%E5%8D%95%E4%BA%86%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[Âú®JavaËØ≠Ë®ÄÈáåÈù¢ÔºåSemaphore ÁöÑ‰ΩúÁî®ÊòØÂèØ‰ª•ÊéßÂà∂ÂØπ‰∫éÂêå‰∏Ä‰∏™‰∏¥ÁïåËµÑÊ∫êÔºåÂÖÅËÆ∏Â§öÂ∞ë‰∏™Á∫øÁ®ãÂêåÊó∂ÊâßË°å„ÄÇÂΩìÁ∫øÁ®ãÊâßË°åÂà∞‰∏¥ÁïåÂå∫ÂüüÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÂÖàÂêë Semaphore Áî≥ËØ∑‰∏Ä‰∏™‰ª§ÁâåÔºåÊ≠§Êó∂ Semaphore ‰ºöÂà§Êñ≠Áé∞ÊúâÁöÑÁöÑ‰ª§ÁâåÊòØ‰∏çÊòØÂ∞è‰∫é0ÔºåÂ¶ÇÊûúÂ∞è‰∫é0ÔºåÂàôÈòªÂ°ûÂΩìÂâçÁ∫øÁ®ãÔºåÁõ¥Ëá≥ÊúâÁ∫øÁ®ãÂ∞Ü‰ª§ÁâåÂΩíËøòÂõûÊù•„ÄÇ Áî≥ËØ∑Âà∞‰∫ÜpermitsÂ¶ÇÊûú‰∏Ä‰∏™Á∫øÁ®ãÁõ¥Êé•Áî≥ËØ∑Âà∞‰∫ÜpermitsÔºåÂàôÊòØÁõ¥Êé•ÈÄöËøáCASÊìç‰ΩúÂ∞Ü state Âáè‰∏ÄÂç≥ÂèØÔºåÁÑ∂ÂêéÁ∫øÁ®ãÁªßÁª≠ÊâßË°å„ÄÇ Êó†Ê≥ïÁî≥ËØ∑Âà∞permitsÂΩìÊó†Ê≥ïÁî≥ËØ∑Âà∞ Semaphore ÁöÑ permits ÁöÑÊó∂ÂÄôÔºåÂàô‰ºöÂ∞ÜÂΩìÂâçÁöÑÁ∫øÁ®ãËøõË°åÈòªÂ°ûÔºåÁõ¥Âà∞ÊúâÁ∫øÁ®ãÊâßË°åÂÆåÊØïÔºåÈáäÊîæ‰∫Ü permit„ÄÇ Semaphore ÁöÑÁ±ªÂÖ≥Á≥ªÈÇ£‰πàÂú® Semaphore ÈáåÈù¢ÔºåÂ¶ÇÊûú permits Â∑≤ÁªèË¢´ÈôçÂà∞0‰ª•‰∏ãÔºåÊåâÁÖß‰ø°Âè∑ÈáèÁöÑËßÑÂàôÔºåÂ∫îÂΩìÂ∞ÜÂΩìÂâçÁ∫øÁ®ãÈòªÂ°ûÔºåÁõ¥Âà∞ permits Â§ß‰∫é 0„ÄÇÊü•Áúã Semaphore ÁöÑÁ±ªÁªÑÁªáÁªìÊûÑÔºå‰ºöÂèëÁé∞ÂÆÉÁöÑ‰∏Ä‰∫õÊìç‰ΩúÂÖ®ÈÉ®ÈÉΩÊòØ‰æùËµñ‰∫éËá™Â∑±ÁöÑ‰∏Ä‰∏™ Sync ÂèòÈáèÔºåÊ≠§Â§ñËøòÊúâ‰∏§‰∏™ÂèòÈáèÁî®‰∫éÂÆûÁé∞ÂÖ¨Âπ≥ÈîÅÂíåÈùûÂÖ¨Âπ≥ÈîÅÔºåÈÉΩÊòØÁªßÊâøËá™ SyncÔºåËÄå Sync ÂàôÊòØÁªßÊâøËá™ AbstractQueuedSynchronizer (‰∏ãÊñáÁÆÄÁß∞AQS)„ÄÇÊâÄ‰ª• Semaphore ÁöÑÂÆûÁé∞ÂÖ®ÈÉ®ÊòØ‰æùËµñ‰∫é AQS„ÄÇ‰ª•‰∏ã‰∏∫ Semaphore ÁöÑÁ±ªÂõæÔºö ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™‰æãÂ≠êÊù•ËØ¥Êòé Semaphore ÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑ„ÄÇ Â¶Ç‰∏ãDemo12345678910111213141516171819202122232425262728293031323334public class SemaphoreTest implements Runnable &#123; private static final Semaphore semaphore = new Semaphore(1); private int no; public static void main(String[] args) throws InterruptedException &#123; for(int i =0 ;i&lt; 2 ;i++)&#123; new Thread(new SemaphoreTest(i)).start(); &#125; Thread.currentThread().sleep(1000000); &#125; public void run() &#123; System.out.println(no + "start"); try &#123; semaphore.acquire(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; System.out.println(no); System.out.println("semaphore"); try &#123; Thread.currentThread().sleep(10000); semaphore.release(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; public SemaphoreTest(int no) &#123; this.no = no; &#125;&#125; Âú®Ëøô‰∏™‰æãÂ≠ê‰∏≠ÔºåÈ¶ñÂÖàËé∑ÂèñÂà∞ permits ÁöÑÁ∫øÁ®ã‰ºöÊâßË°åÔºåËÄåÁ¨¨‰∫å‰∏™Á∫øÁ®ãÂàô‰ºöË¢´ÈòªÂ°ûÔºåÁõ¥Âà∞ permits Ë¢´ÈáäÊîæ„ÄÇËøô‰πüÊòØ Semaphore ÁöÑÁõÆÁöÑÔºåÊéßÂà∂ÊúâÂ§öÂ∞ë‰∏™Á∫øÁ®ãÂèØ‰ª•ÂêåÊó∂ÁöÑËÆøÈóÆÊüê‰∏Ä‰∏™ËµÑÊ∫ê„ÄÇ ËÆæÁΩÆpermitsÂú® Semaphore ÈáåÈù¢ÔºåÁõ¥Êé•‰ΩøÁî® AQS ÈáåÈù¢ÁöÑstateÂèòÈáèÊù•ÂÜ≥ÂÆöÂÖÅËÆ∏Â§öÂ∞ë‰∏™Á∫øÁ®ãÂêåÊó∂ËÆøÈóÆ‰∏Ä‰∏™ËµÑÊ∫êÔºåÈÄöËøá Semaphore ÁöÑÊûÑÈÄ†ÂáΩÊï∞Â∞±ÂèØ‰ª•ÂèëÁé∞Ôºö1234567891011121314public Semaphore(int permits) &#123; sync = new NonfairSync(permits);&#125;static final class NonfairSync extends Sync &#123; private static final long serialVersionUID = -2694183684443567898L; NonfairSync(int permits) &#123; super(permits); &#125; protected int tryAcquireShared(int acquires) &#123; return nonfairTryAcquireShared(acquires); &#125;&#125; ËØ•superÂ∞±ÊòØË∞ÉÁî® Sync ÁöÑÊûÑÈÄ†ÂáΩÊï∞ÔºåÁÑ∂ÂêéË∞ÉÁî® AQS ÈáåÈù¢ÁöÑ setStateÊñπÊ≥ïÔºåÊúÄÂêéËÆæÁΩÆ AQS ÁöÑ state„ÄÇ Ëé∑ÂèñpermitsÂΩì‰∏Ä‰∏™Á∫øÁ®ãÂ∞ùËØïË∞ÉÁî® acquire ÊñπÊ≥ïÁöÑÊó∂ÂÄôÔºåÊúÄÁªà‰ºöÈÄöËøá NonfairSync ÁöÑ tryAcquireShared ÊñπÊ≥ïÔºåÂú®ËØ•ÊñπÊ≥ïÈáåÈù¢Ôºå‰ºöËé∑ÂèñÂΩìÂâçÁ∫øÁ®ãÁöÑ stateÔºåÁÑ∂ÂêéÂáèÂéªÂÖ•ÂèÇÂ∏¶ËøáÊù•ÁöÑÂèÇÊï∞ÔºàÈªòËÆ§ÊòØ 1 ÔºâÔºåÊúÄÂêéÂà§Êñ≠ÊòØÂê¶Â∞è‰∫é 0ÔºåËã•Â§ß‰∫é 0 ÁöÑËØùÔºåÂàôÁõ¥Êé•ÈááÁî® CAS ÁöÑÊìç‰ΩúÂ∞ÜÂâ©‰ΩôÁöÑ state ÊõøÊç¢Êéâ„ÄÇÂ∞è‰∫é 0 ÁöÑËØùÔºåÁõ¥Êé•ËøîÂõûÂπ∂‰∏î‰ºöËøõÂÖ•Âè¶‰∏Ä‰∏™ÊñπÊ≥ï„ÄÇ12345678910111213final int nonfairTryAcquireShared(int acquires) &#123; for (;;) &#123; int available = getState(); int remaining = available - acquires; if (remaining &lt; 0 || compareAndSetState(available, remaining)) return remaining; &#125;&#125;protected final boolean compareAndSetState(int expect, int update) &#123; // See below for intrinsics setup to support this return unsafe.compareAndSwapInt(this, stateOffset, expect, update);&#125; Áî±‰∫é state ÊòØÁî± volatile ‰øÆÈ•∞ÁöÑÔºåÊâÄ‰ª•ËØ¥ÂΩì‰∏Ä‰∏™Á∫øÁ®ãÂéüÂ≠êÊÄßÁöÑ‰øÆÊîπ‰∫Ü stateÔºåÂè¶‰∏Ä‰∏™Á∫øÁ®ã‰πü‰ºöÁ´ãÂç≥Ëé∑ÂèñÂà∞ state ÁöÑÊúÄÊñ∞Áä∂ÊÄÅÁöÑ„ÄÇËøô‰∏™ÊñπÊ≥ï‰∏çÊòØ‰∏Ä‰∏™ÂéüÂ≠êÊÄßÁöÑÔºå‰ΩÜÊòØÁî±‰∫é CAS Êìç‰ΩúÊòØÂéüÂ≠êÊÄßÁöÑÔºåÈÇ£‰πàÊúÄÁªàËøòÊòØËÉΩ‰øùËØÅ‰∏ÄËá¥ÊÄßÁöÑ„ÄÇÂ¶Ç‰∏ãÔºö Â¶ÇÊûú‰∏Ä‰∏™Á∫øÁ®ãÂú®Ëé∑ÂèñÂà∞‰∫Ü available ÊÅ∞Â•Ω‰∏∫ 1Ôºå ÂáÜÂ§áÂáèÂéª 1 ÁöÑÊó∂ÂÄôÔºåÊ≠§Êó∂Âè¶‰∏Ä‰∏™Á∫øÁ®ãÊÅ∞Â•Ω CAS ÊâßË°åÂÆåÊØïÔºåÂ∞Ü state Êõ¥Êñ∞‰∏∫ 0 ‰∫ÜÔºåÊ≠§Êó∂Á¨¨‰∏Ä‰∏™Á∫øÁ®ãÂú®ÊâßË°å CAS ÁöÑÊó∂ÂÄôÔºåÁî±‰∫é expect Â∑≤Áªè‰øÆÊîπ‰∏∫ 0 ‰∫ÜÔºåÊâÄ‰ª•Ê≠§Êó∂ CAS Êìç‰Ωú‰∏ÄÂÆö‰∏çÊàêÂäü„ÄÇ Â¶ÇÊûúÂú® getState ‰πãÂâçÔºåstate Â∑≤ÁªèË¢´‰øÆÊîπÊàê 0 ÁöÑÔºåÈÇ£‰πàÁî±‰∫é remaining &lt; 0ÔºåÊâÄ‰ª•Áõ¥Êé•ËøîÂõû remaining„ÄÇ Á∫øÁ®ãÈòªÂ°ûÂú®ËøôÈáåÂÖàÁÆÄÂçï‰ªãÁªç‰∏ãÁ∫øÁ®ãÁöÑÈòªÂ°ûÊñπÂºèÔºöÈ¶ñÂÖàÁîüÊàê‰∏Ä‰∏™ NodeÔºåÁÑ∂ÂêéÂÜçÂà§Êñ≠‰∏ãÈòüÂàóÁöÑÂ∞æÈÉ® tail ÊòØ‰∏çÊòØ‰∏∫ nullÔºåÂ¶ÇÊûúÊòØÁöÑËØùÂàùÂßãÂåñ head Âíå tailÔºåÂπ∂‰∏îÂ∞ÜÂΩìÂâçÁ∫øÁ®ãÁöÑ Node ÁöÑÂâçÁΩÆËäÇÁÇπÊåáÂêë headÔºåÁÑ∂ÂêéÈÄöËøá CAS Êìç‰ΩúÂ∞Ü tail ËÆæÁΩÆ‰∏∫ÂΩìÂâçÁ∫øÁ®ãÂàõÂª∫ÁöÑ nodeÔºå ÊúÄÂêéÂ∞Ü head ÁöÑÂêéÁΩÆËäÇÁÇπÊåáÂêëËØ•ËäÇÁÇπ„ÄÇ ÁÑ∂ÂêéÂÜçÂà§Êñ≠ÂâçÁΩÆËäÇÁÇπÊòØ‰∏çÊòØ headÔºåÊòØÁöÑËØùÂ∞±ÂÜçÊ¨°Â∞ùËØïËé∑Âèñ stateÔºåËã•Ëé∑Âèñ‰∏çÂà∞ÂàôÁõ¥Êé•Â∞ÜÂâç‰∏Ä‰∏™ËäÇÁÇπÁöÑ waitStatus ‰øÆÊîπ‰∏∫ -1ÔºàÂç≥ÂêéÁΩÆËäÇÁÇπÁöÑÁ∫øÁ®ãÈúÄË¶ÅË¢´Âî§ÈÜíÔºâÁÑ∂ÂêéÁõ¥Êé•ÈÄöËøáLockSupport.park(this)Â∞ÜÂÖ∂ÈòªÂ°û„ÄÇ ÂΩì CAS Êìç‰ΩúÂ§±Ë¥•Ôºå‰∏ÄËà¨ÈÉΩÊòØ state Â∑≤ÁªèÂ∞è‰∫é 0 ‰∫ÜÔºåÊ≠§Êó∂Â∞±‰ºöËøõÂÖ• doAcquireSharedInterruptibly ÊñπÊ≥ïÈáåÈù¢ÔºåÂú®ËØ•ÊñπÊ≥ïÈáåÈù¢‰ºö‰ΩøÁî® AQS ÈáåÈù¢ÁöÑ FIFO ÈòüÂàóÔºåÊù•ÂÆûÁé∞ÂØπ‰∫é‰∏¥ÁïåËµÑÊ∫êÁöÑÊéßÂà∂„ÄÇ ËØ¶ÁªÜSemaphore È¶ñÂÖà‰ºöËøõË°åÂàõÂª∫‰∏Ä‰∏™ NodeÔºåÂú®È¶ñÊ¨°ÈòªÂ°ûÊüê‰∏Ä‰∏™Á∫øÁ®ãÁöÑÊó∂ÂÄôÔºåÁî±‰∫é tail ‰∏∫nullÔºåÊâÄ‰ª•‰ºöÁõ¥Êé•ËøõÂÖ• enq ÊñπÊ≥ïÔºåÂú®ËØ•ÊñπÊ≥ïÈáåÈù¢‰ºöÂ∞Ü tail Âíå head ÈÉΩËÆæÁΩÆ‰∏∫‰∏Ä‰∏™Êñ∞ÁöÑ nodeÔºåÁÑ∂ÂêéÂ±ïÂºÄÁ¨¨‰∫åÊ¨°ÁöÑÂæ™ÁéØÔºåÊúÄÂêéÂú®Â∞ÜÂΩìÂâçÁ∫øÁ®ãÁöÑ node ÁöÑ prev ÊåáÂêë headÔºåÈÄöËøáCASÊìç‰ΩúÂ∞Ü tail ÊåáÂÆö‰∏∫ËØ•nodeÔºåÊúÄÂêéÂ∞Ü head ÁöÑ next ÊåáÂêë ËØ•nodeÔºàÊ≥®ÊÑèËøô‰∏ÄÊ≠•‰∏∫ÈùûÂéüÂ≠êÊÄßÁöÑÔºåÊâÄ‰ª•‰ºöÂΩ±ÂìçÂà∞ÂêéÈù¢ÁöÑreleaseÊñπÊ≥ïÁöÑ‰∏Ä‰∏™Âà§Êñ≠Ôºâ1234567891011121314151617181920212223242526272829private Node addWaiter(Node mode) &#123; Node node = new Node(Thread.currentThread(), mode); // Try the fast path of enq; backup to full enq on failure Node pred = tail; if (pred != null) &#123; node.prev = pred; if (compareAndSetTail(pred, node)) &#123; pred.next = node; return node; &#125; &#125; enq(node); return node;&#125;private Node enq(final Node node) &#123; for (;;) &#123; Node t = tail; if (t == null) &#123; // Must initialize if (compareAndSetHead(new Node())) tail = head; &#125; else &#123; node.prev = t; if (compareAndSetTail(t, node)) &#123; t.next = node; return t; &#125; &#125; &#125;&#125; Âà∞ËøôÈáåÔºå‰∏Ä‰∏™ FIFO ÈòüÂàóÂ∞±ÁîüÊàê‰∫ÜÔºåÊ≠§Êó∂ head ‰∏∫‰∏Ä‰∏™nodeÔºàwaitStatus‰∏∫0Ôºånext‰∏∫Ë¢´ÈòªÂ°ûÁöÑÁ∫øÁ®ãÔºâÔºåÂΩì‰ªé addWaiter ÊñπÊ≥ïËøîÂõûÁöÑÊó∂ÂÄôÔºåSemaphore Ëøò‰ºöËøõË°å‰∏Ä‰∏™Âà§Êñ≠ÔºåÂ¶ÇÊûúÂΩìÂâçÁ∫øÁ®ãÁöÑÂâçÁΩÆËäÇÁÇπÊòØ headÔºåÂ∞±ÂÜçÊ¨°Â∞ùËØï‰∏ÄÊ¨°Ëé∑Âèñ stateÔºåÂ¶ÇÊûúËé∑Âèñ‰∏çÂà∞ÁöÑËØùÂ∞±Â∞ÜÂâçÁΩÆËäÇÁÇπÁöÑ waitStatus ËÆæÁΩÆÊàê -1ÔºåÁÑ∂ÂêéÈÄöËøáLockSupport.park(this)Â∞ÜÊú¨Á∫øÁ®ã‰∏≠Êñ≠ÔºåËá≥Ê≠§ËØ•Á∫øÁ®ãË¢´ÈòªÂ°û‰∫Ü„ÄÇ Â¶ÇÊûúÂú®Âà§Êñ≠ÂâçÁΩÆËäÇÁÇπÊòØ head ‰πãÂêéÔºåÁÑ∂ÂêéÈÄöËøá tryAcquireShared Ëé∑ÂèñÂà∞‰∫Ü state ÈÇ£‰πàÊ≠§Êó∂Â∞±‰ºöË∞ÉÁî® setHeadAndPropagate Â∞ÜËá™Â∑±ËÆæÁΩÆ‰∏∫Â§¥ËäÇÁÇπÔºåÂêåÊó∂Âà§Êñ≠ÊòØÂê¶ÈúÄË¶ÅÂî§ÈÜíÂêéÁª≠ÁöÑËäÇÁÇπ ÈáäÊîæÂÅáÂ¶Ç‰∏Ä‰∏™Á∫øÁ®ãÊâßË°åÂÆåÊØï‰πãÂêéÔºåÊòØ‰ºöË∞ÉÁî® release ÊñπÊ≥ïÊù•ÈáäÊîæËµÑÊ∫êÁöÑÔºåÈ¶ñÂÖàËøòÊòØ‰ª• CAS Êìç‰ΩúÂéüÂ≠êÊÄßÁöÑÂ¢ûÂä† stateÔºå12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667protected final boolean tryReleaseShared(int releases) &#123; for (;;) &#123; int current = getState(); int next = current + releases; if (next &lt; current) // overflow throw new Error("Maximum permit count exceeded"); if (compareAndSetState(current, next)) return true; &#125;&#125;private void doReleaseShared() &#123; /* * Ensure that a release propagates, even if there are other * in-progress acquires/releases. This proceeds in the usual * way of trying to unparkSuccessor of head if it needs * signal. But if it does not, status is set to PROPAGATE to * ensure that upon release, propagation continues. * Additionally, we must loop in case a new node is added * while we are doing this. Also, unlike other uses of * unparkSuccessor, we need to know if CAS to reset status * fails, if so rechecking. */ for (;;) &#123; Node h = head; if (h != null &amp;&amp; h != tail) &#123; int ws = h.waitStatus; if (ws == Node.SIGNAL) &#123; if (!compareAndSetWaitStatus(h, Node.SIGNAL, 0)) continue; // loop to recheck cases unparkSuccessor(h); &#125; else if (ws == 0 &amp;&amp; !compareAndSetWaitStatus(h, 0, Node.PROPAGATE)) continue; // loop on failed CAS &#125; if (h == head) // loop if head changed break; &#125;&#125;private void unparkSuccessor(Node node) &#123; /* * If status is negative (i.e., possibly needing signal) try * to clear in anticipation of signalling. It is OK if this * fails or if status is changed by waiting thread. */ int ws = node.waitStatus; if (ws &lt; 0) compareAndSetWaitStatus(node, ws, 0); /* * Thread to unpark is held in successor, which is normally * just the next node. But if cancelled or apparently null, * traverse backwards from tail to find the actual * non-cancelled successor. */ Node s = node.next; if (s == null || s.waitStatus &gt; 0) &#123; s = null; for (Node t = tail; t != null &amp;&amp; t != node; t = t.prev) if (t.waitStatus &lt;= 0) s = t; &#125; if (s != null) LockSupport.unpark(s.thread);&#125; ÂΩì CAS Êìç‰ΩúÊàêÂäü‰πãÂêéËøîÂõû trueÔºåÁÑ∂ÂêéË∞ÉÁî® doReleaseShared ÊñπÊ≥ïÔºåÂú®ËØ•ÊñπÊ≥ïÈáåÈù¢Ôºå‰ºöÈ¶ñÂÖàÂ∞Ü head ÁöÑÁä∂ÊÄÅÊõ¥Êîπ‰∏∫ 0ÔºåÁÑ∂ÂêéÁÑ∂ÂêéÈÄöËøá unparkSuccessor Êù•Âî§ÈÜíÂêéÈù¢ÁöÑÁ∫øÁ®ãÔºåÂú®ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÈÇ£‰∏Ä‰∏™ for Âæ™ÁéØÈáåÈù¢ÁöÑ‰ª£Á†Å„ÄÇ ‰∏∫‰ªÄ‰πàforÂæ™ÁéØÁöÑÊó∂ÂÄôÈúÄË¶Å‰ªéÂ∞æËäÇÁÇπÂºÄÂßãÂú®ËøôÈáåÂÖ∂ÂÆûÊòØÁî±‰∫éÂâçÈù¢Âú®ËÆæÁΩÆÂ∞æËäÇÁÇπÁöÑÊó∂ÂÄô CAS ËôΩÁÑ∂ÊòØ‰∏Ä‰∏™ÂéüÂ≠êÊÄßÊìç‰ΩúÔºå‰ΩÜÊòØÂú® CAS Êìç‰Ωú‰πãÂêéÔºåÁ¥ßË∑üÁùÄ pred.next = node Ëøô‰∏ÄÊ≠•‰∏∫ÈùûÂéüÂ≠êÊÄßÁöÑÔºåÊâÄ‰ª•Â∞±ÂØºËá¥‰∫ÜÊúâÂèØËÉΩ‰ªéÂ§¥ÈÅçÂéÜÁöÑÊó∂ÂÄô‰ºöÊñ≠ÂºÄÊéâÔºåÊâÄ‰ª•Ê≠§Êó∂Â∞±ÈúÄË¶Å‰ªéÂ∞æËäÇÁÇπÂºÄÂßãÔºåÂõ†‰∏∫ËøôÊ†∑‰∏ÄÂÆö‰∏ç‰ºöÊñ≠ÂºÄÁöÑÔºå‰πüÊòØÊúÄÊúâ‰øùËØÅÁöÑ„ÄÇ]]></content>
  </entry>
  <entry>
    <title><![CDATA[Java8‰∏≠ÁöÑÊµÅÂºèÁÆÄÂçïÊÄªÁªì]]></title>
    <url>%2F2019%2F11%2F22%2FJava8%E4%B8%AD%E7%9A%84%E6%B5%81%E5%BC%8F%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[Âú®Â§ßÈáè‰ΩøÁî®Java8‰∏≠ÁöÑÊµÅÂºèÊìç‰Ωú‰πãÂêéÔºåËßâÂæóÁî®Ëµ∑Êù•ËøòÊå∫ËàíÊúçÁöÑÔºåÊâÄ‰ª•Ê≠£Â•ΩË∂ÅËøô‰∏™Êú∫‰ºöÊÄªÁªì‰∏ã„ÄÇ ‰ΩøÁî®Java8ÁöÑlambdaË°®ËææÂºèÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÂÖàÊääÈõÜÂêàËΩ¨‰∏∫‰∏ÄÁßçÊµÅÔºå‰πüÂ∞±ÊòØË∞ÉÁî® stream ÊñπÊ≥ïÔºå‰ΩÜÊòØ stream Âç¥ÊòØ Collection Á±ªÈáåÈù¢ÁöÑ‰∏Ä‰∏™ÊñπÊ≥ïÔºå‰πüÂ∞±ÊòØÂè™Êúâ Collection ÁöÑÂ≠êÁ±ªÊâçÂèØ‰ª•‰ΩøÁî®ÔºåÊâÄ‰ª• Map ÈõÜÂêàÊòØ‰ΩøÁî®‰∏ç‰∫ÜÁöÑÔºåÂêåÁêÜÔºåÂØπ‰∫éÊï∞ÁªÑÔºåÂèØ‰ª•ÈÄöËøáArrays.stream() ÊñπÊ≥ïÊù•ËÆ≤Êï∞ÁªÑËΩ¨‰∏∫‰∏Ä‰∏™StreamÔºåËøôÊ†∑‰πüÂèØ‰ª•‰ΩøÁî®StreamÈáåÈù¢ÁöÑÊñπÊ≥ï‰∫ÜÔºå Â∞ÜÈõÜÂêàËΩ¨‰∏∫ÊµÅ‰∏ãÈù¢‰ªãÁªçÂá†‰∏™ÂæàÂ∏∏Áî®ÁöÑÊñπÊ≥ïÊù•‰ªãÁªçÊµÅÂºèÊìç‰ΩúÁöÑ‰æøÊç∑ÊÄß„ÄÇ 123456List&lt;String&gt; stringList = new ArrayList&lt;&gt;();stringList.add("a1");stringList.add("b1");stringList.add("a2");stringList.add("b2");stringList.stream(); ËøôÊ†∑Êàë‰ª¨Â∞±ÂèØ‰ª•ÂæóÂà∞‰∫Ü‰∏Ä‰∏™ÊµÅÂºèÊìç‰ΩúÔºåÊé•‰∏ãÊù•Â∞±ÂèØ‰ª•‰ΩøÁî®StreamÈáåÈù¢ÂÆö‰πâÂ•ΩÁöÑÊñπÊ≥ï‰∫Ü filterËØ•ÊñπÊ≥ïÁî®‰∫éËøáÊª§Êàë‰ª¨ËÆæÁΩÆÁöÑ‰∏Ä‰∫õÂà§Êñ≠Êù°‰ª∂ÔºåÂ¶Ç‰∏ãÔºö 12345678private void streamFilter(List&lt;String&gt; list)&#123; List&lt;String&gt; result = list.stream().filter(item -&gt;&#123; if("a".equals(item))&#123; return true; &#125; return false; &#125;).collect(Collectors.toList()); &#125; Ëøô‰∏™Âè™ÊòØ‰∏Ä‰∏™ÊôÆÈÄöÁöÑStringÊï∞ÁªÑÈÅçÂéÜÔºåÂèØ‰ª•ÁúãÂà∞Â¶ÇÊûúÊàë‰ª¨ÈÄöËøáJava8‰πãÂâçÁöÑ‰ª£Á†ÅÂÜôÁöÑËØùÔºå‰ºöÈ¶ñÂÖà new‰∏Ä‰∏™ListÔºåÁÑ∂ÂêéÈÄöËøáaddÊñπÊ≥ïÊù•ËøõË°åÊèíÂÖ•ÔºåËøôÊ†∑ËôΩÁÑ∂‰∏ç‰ºöÂá∫Áé∞‰ªÄ‰πàÈóÆÈ¢òÔºå‰ΩÜÊòØ‰ºöÊòæÂæó‰∏çÊòØÈÇ£‰πàÊï¥Ê¥ÅÔºå‰ΩÜÊòØÁî®ÊµÅÂºèÊìç‰ΩúÁöÑËØùÔºåÊÑüËßâ‰ºöÊñπ‰æø‰∏çÂ∞ë„ÄÇ Â¶ÇÊûúÊàë‰ª¨ÊúâÂ§ö‰∏™Êù°‰ª∂Ë¶ÅËøõË°åËøáÊª§ÁöÑËØùÔºåfilter‰πüÊòØÊîØÊåÅÈìæÂºèË∞ÉÁî®ÁöÑ„ÄÇ 1234567891011private void streamFilter(List&lt;String&gt; list)&#123; List&lt;String&gt; result = list.stream().filter(item -&gt;&#123; if("a1".equals(item))&#123; return true; &#125; return false; &#125;) .filter(item -&gt; (item.startsWith("a"))) .collect(Collectors.toList()); result.stream().forEach(item -&gt; System.out.println(item)); &#125; mapmapÂ∏∏Áî®‰∫é‰∏Ä‰∫õÈÅçÂéÜÊù°‰ª∂Ôºå‰æãÂ¶ÇÂèñÂá∫Êüê‰∫õJavaBeanÁöÑÂ±ûÊÄßÂπ∂‰Ωú‰∏∫ÈõÜÂêà„ÄÇ 12345public class Person &#123; private String name; private Integer age; private String sex;&#125; Â∞Ü‰∏Ä‰∏™PersonÈõÜÂêàÁöÑÊâÄÊúâÂßìÂêçÂèñÂá∫Ôºö 123456789101112131415//ÂèñÂá∫ÈõÜÂêàÂÜÖÊâÄÊúâÁöÑÂßìÂêçList&lt;String&gt; nameList = list.stream().map(Person::getName).collect(Collectors.toList());//ÂéªÈáçÂèñÂá∫ÈõÜÂêàÂÜÖÊâÄÊúâÁöÑÂßìÂêçList&lt;String&gt; nameDistinctList = list.stream().map(Person::getName).distinct().collect(Collectors.toList());//ÊâæÂá∫ÊâÄÊúâÊàêÂπ¥ÁöÑ‰∫∫List&lt;String&gt; ageList = list.stream().filter( item -&gt; (Objects.nonNull(item.getAge()) &amp;&amp; item.getAge() &gt; 18) ).map(Person::getName).distinct().collect(Collectors.toList());//Â∞ÜÊâÄÊúâÂ∑≤ÁªèÊàêÂπ¥ÁöÑ‰∫∫ÊåâÁÖßÂπ¥ÈæÑËøõË°åÂàÜÁªÑMap&lt;Integer, List&lt;Person&gt;&gt; ageSameList = list.stream().filter( item -&gt; (Objects.nonNull(item.getAge()) &amp;&amp; item.getAge() &gt; 18) ).collect(Collectors.groupingBy(Person::getAge)); findFirstÂú®ÊàëÁöÑ‰ΩøÁî®ËøáÁ®ã‰∏≠ÔºåÊÑüËßâËøô‰∏™ÊñπÊ≥ïÈÖçÂêàÊûö‰∏æÁ±ªÁõ∏ÂΩìÁöÑÂ•ΩÁî®Ôºö 12345678910111213141516171819202122232425262728public enum ProvinceEnum &#123; BEIJING("Âåó‰∫¨Â∏Ç","110000"), TIANJIN("Â§©Ê¥•Â∏Ç","120000"), HEBEI("Ê≤≥ÂåóÁúÅ","130000"), SHANXI("Â±±Ë•øÁúÅ","140000"), ; private String cn; private String code; ProvinceEnum(String cn, String code) &#123; this.cn = cn; this.code = code; &#125; public String getCn() &#123; return cn; &#125; public String getCode() &#123; return code; &#125; public static String getCnByCode(String code)&#123; return Arrays.stream(ProvinceEnum.values()).filter( item -&gt; (StringUtils.isNotEmpty(item) &amp;&amp; item.getCn().equals(code)) ).map(ProvinceEnum::getCn).findFirst().orElse(null); &#125;&#125; Áî±‰∫éÂÖ∂‰ªñÁöÑÊñπÊ≥ïÂ§ßËá¥‰∏éËøô‰∏äÈù¢Âá†‰∏™ÊñπÊ≥ïÁõ∏‰ººÔºåÊâÄ‰ª•Â∞±‰∏çÂÜçÂÜôdemo‰∫Ü]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JDK1.7‰∏≠ÁöÑConcurrentHashMapÂÆûÁé∞ÁªÜËäÇ(‰∫å)]]></title>
    <url>%2F2019%2F09%2F15%2FJDK1-7%E4%B8%AD%E7%9A%84ConcurrentHashMap%E5%AE%9E%E7%8E%B0%E7%BB%86%E8%8A%82%2F</url>
    <content type="text"><![CDATA[ÁÆÄ‰ªãÂú®JDK1.7ÂêëJDK1.8ÂçáÁ∫ßÁöÑËøáÁ®ã‰∏≠ÔºåConcurrentHashMapÁî±ÂéüÊù•ÁöÑÂèØÈáçÂÖ•ÈîÅÂíåCASÈîÅÁõ¥Êé•Ë¢´ÊõøÊç¢‰∏∫synchronizedÂÖ≥ÈîÆÂ≠ó‰∫ÜÔºåËôΩÁÑ∂ËØ¥Âú®ÂäüËÉΩ‰∏äÈÉΩÊòØÂÆåÂÖ®‰∏ÄËá¥ÁöÑÔºå‰ΩÜÊòØÂú®ËøôÈáå‰∏ÄÁõ¥ÈÉΩÊúâ‰∏Ä‰∏™ÁñëÊÉëÔºåÊó¢ÁÑ∂Âú®1.7ÁöÑ‰ΩøÁî®ËøáÁ®ã‰∏≠Ê≤°‰ªÄ‰πàÈóÆÈ¢òÔºåÈÇ£Âà∞Â∫ïÊòØÂá∫‰∫é‰ªÄ‰πàÂéüÂõ†Ë¶ÅÂ∞ÜÂÖ∂ÊõøÊç¢Âë¢„ÄÇ JDK1.7‰∏≠ÁöÑConcurrentHashMapÂú®JDK1.7‰∏≠ÔºåÂÖ∂ÁªìÊûÑÊòØÁî±‰∏Ä‰∏™ÂèØÈáçÂÖ•ÈîÅSegmentÊï∞ÁªÑÂíåÊØè‰∏Ä‰∏™ËäÇÁÇπ‰∏ãÁöÑHashEntryÊï∞ÁªÑÊù•ÂÆûÁé∞ÁöÑ„ÄÇÁªìÊûÑÂõæÂ¶Ç‰∏ã: Áî±‰∫é segment ÊòØ‰∏Ä‰∏™ÈîÅÔºåÊâÄ‰ª•Â¶ÇÊûúÂú®Âπ∂ÂèëÁöÑËøáÁ®ã‰∏≠ÔºåÂ§ö‰∏™Á∫øÁ®ãÂ∞ùËØïÂêë‰∏Ä‰∏™ segment ‰∏≠ÁöÑ HashEntry ËøõË°åÊèíÂÖ•ÁöÑÊó∂ÂÄôÔºåÂè™ËÉΩÊúâ‰∏Ä‰∏™Á∫øÁ®ã‰ºöËé∑ÂèñÂà∞ÈîÅÔºåÂÖ∂‰ªñÁöÑÁ∫øÁ®ã‰ºöË¢´ÈòªÂ°ûÁõ¥Ëá≥ÈîÅË¢´ÈáäÊîæÔºåÊâÄ‰ª•Ëøô‰∏™ÂÆπÂô®ÊòØ‰∏Ä‰∏™Âπ∂ÂèëÂÆâÂÖ®ÁöÑ„ÄÇ Êü•Áúã put ÊñπÊ≥ïÁöÑË∞ÉÁî®ÈìæÁöÑÊó∂ÂÄôÔºåÂèØ‰ª•ÂèëÁé∞ÊúÄÁªàÈÉΩÊòØË∞ÉÁî®ÁöÑÊòØSegmentÁöÑputÊñπÊ≥ï„ÄÇ segment Á±ªÂú® ConCurrentHashMap ‰∏≠ÁöÑÂèòÈáèÊòØ‰ª•‰∏Ä‰∏™Êï∞ÁªÑÁöÑÂΩ¢ÂºèÊâÄÂ≠òÂú®ÁöÑÔºåÁî±‰∫ésegmentÁªßÊâø‰∫Ü ReentrantLock ÔºåÊâÄ‰ª•ÊòØÂÆÉ‰πüÊòØ‰∏Ä‰∏™ÂèØÈáçÂÖ•ÈîÅÔºåÂõ†Ê≠§Âú®JDK1.7ÈáåÈù¢ÔºåÊòØÈÄöËøá segmentÁöÑ ÈáçÂÖ•ÈîÅÊú∫Âà∂Êù•ÂÆûÁé∞Âπ∂ÂèëÁöÑÂÜôÂÖ•„ÄÇÂêåÊó∂‰πüÂèØ‰ª•ÂèëÁé∞Â¶ÇÊûúË∞ÉÁî®ÁöÑÊòØConcurrentHashMapÁöÑÊó†ÂèÇÊûÑÈÄ†ÂáΩÊï∞ÁöÑËØùÔºåÈÇ£‰πàÂàùÂßãÂåñSegmentÊï∞ÁªÑÂ§ßÂ∞èÂ∞±ÊòØ16ÔºåÂΩìÁÑ∂Ëøô‰∏™Êï∞ÁªÑÂ§ßÂ∞èÂÖ∂ÂÆûÊòØÂèØ‰ª•Ë¢´Ë∞ÉÊï¥ÁöÑÔºå‰ΩÜÊòØÊó†ËÆ∫ÊÄéÊ†∑ËøõË°åË∞ÉÊï¥ÔºåÊúÄÁªà segment Êï∞ÁªÑÁöÑÂ§ßÂ∞èÊ∞∏ËøúÈÉΩÊòØ2ÁöÑnÊ¨°Êñπ„ÄÇ SegmentÂú®ConcurrentHashMapÈáåÈù¢Ôºå‰∏Ä‰∏™segmentÂ∞±ÊòØ‰∏Ä‰∏™HashEntryÁöÑÊï∞ÁªÑÔºåËÄå‰∏Ä‰∏™HashEntryÂ∞±ÊòØ‰∏Ä‰∏™bucket„ÄÇ ‰ΩÜÊòØÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåConcurrentHashMap ÈªòËÆ§ÁöÑ segment Êï∞ÁªÑÁöÑÂ§ßÂ∞èÊòØ16Ôºå‰πüÂ∞±ÊòØËØ¥ÊúÄÂ§öÂè™ÂèØËÉΩÊúâ16‰∏™Á∫øÁ®ãÂêåÊó∂ËøõË°åÂ§ÑÁêÜ ÂΩìË∞ÉÁî® put ÊñπÊ≥ïÁöÑÊó∂ÂÄôÔºå‰ºöÈÄöËøá‰∏Ä‰∏™ÂèØÈáçÂÖ•ÈîÅÁöÑ CAS Êìç‰ΩúÊù•Â∞ùËØïËé∑ÂèñËØ• segment ÈîÅÔºåÂ¶ÇÊûúËé∑ÂèñÂà∞‰∫ÜÂàôÁõ¥Êé•Êñ∞Âª∫‰∏Ä‰∏™ Node ËäÇÁÇπÔºåÂ¶ÇÊûúËøòÊú™Ëé∑ÂèñÂà∞ÂàôÁõ¥Êé•Ë∞ÉÁî®scanAndLockForPutÊñπÊ≥ï123456789101112131415161718192021222324252627282930private HashEntry&lt;K,V&gt; scanAndLockForPut(K key, int hash, V value) &#123; HashEntry&lt;K,V&gt; first = entryForHash(this, hash); HashEntry&lt;K,V&gt; e = first; HashEntry&lt;K,V&gt; node = null; int retries = -1; // negative while locating node while (!tryLock()) &#123; HashEntry&lt;K,V&gt; f; // to recheck first below if (retries &lt; 0) &#123; if (e == null) &#123; if (node == null) // speculatively create node node = new HashEntry&lt;K,V&gt;(hash, key, value, null); retries = 0; &#125; else if (key.equals(e.key)) retries = 0; else e = e.next; &#125; else if (++retries &gt; MAX_SCAN_RETRIES) &#123; lock(); break; &#125; else if ((retries &amp; 1) == 0 &amp;&amp; (f = entryForHash(this, hash)) != first) &#123; e = first = f; // re-traverse if entry changed retries = -1; &#125; &#125; return node;&#125; scanAndLockForPutÊñπÊ≥ïÁöÑ‰ΩúÁî®Âú®Ëøô‰∏™ÊñπÊ≥ïÈáåÈù¢Ôºå‰ºöÂú® while Âæ™ÁéØÈáåÈù¢Â∞ùËØï 64 Ê¨°ÔºåËÄå‰∏îÂèØ‰ª•ÁúãÂà∞Âú®Ëøô‰∏™Âæ™ÁéØËØ≠Âè•ÈáåÈù¢Êúâ‰∏Ä‰∫õÁªÜËäÇÁöÑÊìç‰Ωú„ÄÇÂÖ∑‰ΩìÂ¶Ç‰∏ãÔºö Âà§Êñ≠ÂΩìÂâçÂ§¥ËäÇÁÇπ first ÊòØÂê¶‰∏∫ nullÔºåÊòØÁöÑËØùÂàôÂàùÂßãÂåñ node Â¶ÇÊûú first ‰∏çÊòØ nullÔºåÂà§Êñ≠ÂΩìÂâçÁöÑ key ÊòØÂê¶Âíå first Áõ∏Á≠â Â¶ÇÊûú first Âç≥‰∏ç‰∏∫nullÔºåÂπ∂‰∏îÂΩìÂâçÁöÑ key Âèà‰∏çÂíåÂÖ•ÂèÇÁöÑkeyÁõ∏ÂêåÔºåÂàôÁõ¥Êé•ÂØªÊâæÂÖ∂ next ËäÇÁÇπÔºåÁõ¥Ëá≥ next ‰∏∫nullÔºåÁÑ∂ÂêéËøõË°åÁ¨¨‰∏ÄÊ≠• ÂÖ∂ÂÆû‰∏äÈù¢ÁöÑ‰∏Ä‰∫õÊ≠•È™§‰ªÖ‰ªÖÊòØËØ•ÊñπÊ≥ïÂæ™ÁéØÁöÑÁ¨¨‰∏ÄÊ≠•Ë¶ÅÂÅöÁöÑÔºåÂΩì‰∏äËø∞‰∏â‰∏™Ê≠•È™§ÈÉΩËøõË°åÂÆåÊØï‰πãÂêéÔºåÈ¶ñÂÖà‰ºöÂà§Êñ≠Âæ™ÁéØÁöÑÊ¨°Êï∞ÊòØÂê¶Â∑≤ÁªèÂ§ß‰∫é MAX_SCAN_RETRIES Â¶ÇÊûúÊòØÁöÑËØùÔºåÂàôÁõ¥Êé•Ë∞ÉÁî® lock ÊñπÊ≥ïÔºåÂ¶ÇÊûú‰∏çÊòØÁöÑËØùÂàôË∞ÉÁî®Á¨¨‰∏â‰∏™Âà§Êñ≠„ÄÇ Á¨¨‰∏â‰∏™Âà§Êñ≠‰∏≠‰ºöÂà§Êñ≠ÂΩìÂâçÂæ™ÁéØÊ¨°Êï∞ÊòØ‰∏çÊòØÂÅ∂Êï∞ÔºåÂ¶ÇÊûúÊòØÁöÑËØùÂàô‰ºöÂà§Êñ≠ÂΩìÂâçÁöÑÂ§¥ËäÇÁÇπËøòÊòØ‰∏çÊòØ‰πãÂâçÁöÑfirstÔºåÂ¶ÇÊûú‰∏çÊòØÁöÑËØùÂàôÈúÄË¶ÅÈáçÊñ∞Â∞ÜÊñ∞ÁöÑÂ§¥ËäÇÁÇπËµãÂÄºÁªô first ÁÑ∂ÂêéÂ∞ÜÂæ™ÁéØÊ¨°Êï∞ÊîπÊàê1ÔºåÂÜçÊ¨°ÈáçËØï„ÄÇ ÂÖ∂ÂÆûËøô‰∏™ÊñπÊ≥ïÂ¶ÇÊûú‰ªîÁªÜÁúãÁúãÔºå‰Ω†‰ºöÂèëÁé∞Ë≤å‰ººÊ≤°Âï•‰ΩúÁî®ÔºåÂõ†‰∏∫ËøîÂõûÁöÑÊòØ nodeÔºå‰ΩÜÊòØ node ‰∏ÄÊó¶Á¨¨‰∏ÄÊ¨°Ë¢´ËµãÂÄº‰πãÂêéÔºå‰ª•Âêé‰æø‰∏ç‰ºöÂÅö‰ªª‰ΩïÁöÑÊõ¥ÊîπÔºåÊâÄ‰ª•Ê≠£Â¶ÇËØ•ÊñπÊ≥ïÁöÑÊ≥®ÈáäÊâÄËØ¥ÁöÑ‰∏ÄÊ†∑ÔºåËøô‰∏™ÊñπÊ≥ï‰ªÖ‰ªÖÊòØ‰∏∫ JVM ÂÅö‰∏Ä‰∏™È¢ÑÁÉ≠ËÄåÂ∑≤„ÄÇ ÁªßÁª≠Ëé∑ÂèñÈîÅÂ¶ÇÊûúÂú® 64 Ê¨°‰ª•ÂÜÖËøòÊòØÊú™Ëé∑ÂèñÂà∞ËØ•ÈîÅÔºåÂàô‰ºöË∞ÉÁî®lockÊñπÊ≥ïÔºåÁî±‰∫é ConcurrentHashMap Âú®ÂàùÂßãÂåñ segment ÁöÑÊó∂ÂÄôÔºåÂπ∂Êú™ÊòæÂºèË∞ÉÁî®ReentrantLockÁöÑÊûÑÈÄ†ÊñπÊ≥ïÔºåËÄå ReentrantLock ÂèàÊòØÈªòËÆ§ÂàùÂßãÂåñÈùûÂÖ¨Âπ≥ÈîÅÔºåÊâÄ‰ª•Ê≠§Êó∂Âú® scanAndLockForPut ÈáåÈù¢ÁöÑ lock ÂÖ∂ÂÆûË∞ÉÁî®ÁöÑÊòØ NonfairSync ÈáåÈù¢ÁöÑ lock ÊñπÊ≥ïÔºåÂç≥ÂÜçÊ¨°‰ª•ÈùûÂÖ¨Âπ≥ÈîÅÁöÑÊñπÂºèÊù•Â∞ùËØïËé∑ÂèñÈîÅ123456final void lock() &#123; if (compareAndSetState(0, 1)) setExclusiveOwnerThread(Thread.currentThread()); else acquire(1);&#125; ÂΩìÊúÄÂêé‰∏ÄÊ¨°Â¶ÇÊûú CAS Êìç‰ΩúËøòÊú™Ëé∑ÂèñÂà∞ÈîÅÁöÑÊó∂ÂÄôÔºåsegment Â∞±‰ºöË∞ÉÁî®acquire(1)12345public final void acquire(int arg) &#123; if (!tryAcquire(arg) &amp;&amp; acquireQueued(addWaiter(Node.EXCLUSIVE), arg)) selfInterrupt();&#125; Âú®ËøôÈáåÂèØ‰ª•ÁúãÂà∞ÁöÑÊòØ if Âà§Êñ≠ÈáåÈù¢ËøòÊòØ‰ºöÂÜçÊ¨°Â∞ùËØïËé∑ÂèñÈîÅÔºåÂΩìËøòÊú™Ëé∑ÂèñÂà∞ÈîÅÁöÑÊó∂ÂÄôÔºåÂ∞±Â∞ÜËØ• Node ÊîæÂÖ•Âà∞ FIFO ÈòüÂàóÁöÑÊú´Â∞æÔºåÁÑ∂ÂêéÁ≠âÂæÖÁùÄË¢´Âî§ÈÜíÊâßË°å ‰ªé‰∏äÈù¢ÁöÑ‰∏Ä‰∏™ÊµÅÁ®ã‰∏çÈöæÁúãÂá∫ÔºåÂú® segment È¶ñÂÖà‰ºö‰ª•ÂèØÈáçÂÖ•ÈîÅÁöÑÊñπÂºèÊù•Â∞ùËØïÊÄßÁöÑËé∑ÂèñÈîÅÔºåÂΩìÊ≤°ÂèñÂà∞ÁöÑÊó∂ÂÄô‰ºöwhileÂæ™ÁéØ64Ê¨°ÂÅö‰∏Ä‰∏™È¢ÑÁÉ≠ÔºåÂ¶ÇÊûúÂú®Âæ™ÁéØÁöÑËøáÁ®ã‰∏≠ËøòÊòØÊú™Ëé∑ÂèñÂà∞ÈîÅÔºåÂàô‰ºöËøõË°å‰∏§Ê¨°CASÊìç‰Ωú(ÂàÜÂà´Âú®‰∏§‰∏™‰∏çÂêåÁöÑÊñπÊ≥ïÈáåÈù¢)ÔºåÂ¶ÇÊûúÊúÄÁªàËøòÊòØÊó†Ê≥ïËé∑ÂèñÂà∞ÈîÅÁöÑËØùÔºåÈÇ£‰πàÊ≠§Êó∂Â∞±‰ºöÂ∞ÜËá™Â∑±ÊîæÂÖ•Âà∞ AQS ‰∏≠ÁöÑ FIFO ÈòüÂàó„ÄÇ ÂõûËøáÂ§¥Êù•ÂÜçÁúã segment ÈáåÈù¢ÁöÑÁ¨¨‰∏ÄË°å‰ª£Á†ÅÔºö HashEntry&lt;K,V&gt; node = tryLock() ? null : scanAndLockForPut(key, hash, value); ÈÇ£‰πàÂèØ‰ª•ÁúãÂà∞ÁöÑÊòØÔºåÂú®JDK1.7ÈáåÈù¢ÔºåputÊñπÊ≥ïÂ¶ÇÊûúÂú®Â§ßÈáèÂπ∂ÂèëÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûúË¶ÅËé∑Âèñ‰∏Ä‰∏™ÈîÅ‰ºöËøõË°åÈùûÂ∏∏Â§öÁöÑÊìç‰ΩúÔºåËÄå‰∏îÂÆÉÈªòËÆ§ÁöÑ segment Êï∞ÁªÑÂ§ßÂ∞èËøòÊòØ 16 Ôºå‰πüÂ∞±ÊòØËØ¥mapÁöÑÊâÄÊúâÈîÆÂÄºÔºåÂá∫Áé∞Á¢∞ÊíûÁöÑÊ¶ÇÁéá‰∏çÊòØ 1/map.size()ÔºåËÄåÊ∞∏ËøúÊòØ 1/16„ÄÇ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetcodeÊï∞ÁªÑ‰∏≠ËøûÁª≠ÂàÜÁªÑ]]></title>
    <url>%2F2019%2F09%2F08%2FLeetcode%E6%95%B0%E7%BB%84%E4%B8%AD%E8%BF%9E%E7%BB%AD%E5%88%86%E7%BB%84%2F</url>
    <content type="text"><![CDATA[Âú®Leetcode‰∏äÊúâ‰∏ÄÈÅìÈ¢òÁõÆÔºåÂ¶Ç‰∏ãÔºö In a deck of cards, each card has an integer written on it. Return true if and only if you can choose X &gt;= 2 such that it is possible to split the entire deck into 1 or more groups of cards, where: Each group has exactly X cards. All the cards in each group have the same integer. Ëøô‰∏ÄÈ¢òÂ∞±ÊòØ‰∏Ä‰∏™Ê±ÇÊúÄÂ§ßÂÖ¨Á∫¶Êï∞ÁöÑÈ¢òÁõÆÔºåÂΩì‰ªªÊÑè‰∏§ÁªÑÁöÑÂÖ¨Á∫¶Êï∞‰∏∫1ÁöÑÊó∂ÂÄôÔºåÈÇ£‰πàÊ≠§Êó∂Â∞±ËØ¥ÊòéÔºå‰ªñ‰ª¨ÁöÑÂàÜÁªÑÊï∞Èáè‰∏çÁõ∏Á≠âÂ∞±ÂèØ‰ª•Áõ¥Êé•ËøîÂõûfalse‰∫Ü„ÄÇ1234567891011121314151617181920public boolean hasGroupsSizeX(int[] deck) &#123; int[] count = new int[10000]; for(int val : deck)&#123; count[val]++; &#125; int sum = -1; for(int val: deck)&#123; if(sum == -1)&#123; sum = count[val]; &#125; else &#123; sum = getGcd(sum,count[val]); &#125; if(sum == 1)&#123; return false; &#125; &#125; return true; &#125;]]></content>
      <categories>
        <category>ÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mysqlÁöÑÂπªËØª(‰∫å)]]></title>
    <url>%2F2019%2F08%2F27%2Fmysql%E7%9A%84%E5%B9%BB%E8%AF%BB-%E4%BA%8C%2F</url>
    <content type="text"><![CDATA[ÂÆö‰πâÂú®InnoDBÈáåÈù¢ÔºåÊòØÈÄöËøáÂø´ÁÖßËØªÊù•ÂÆûÁé∞RCÂíåPRÈöîÁ¶ªÁ∫ßÂà´ÁöÑÂå∫ÂàÜÔºåÂõ†‰∏∫Âú®RCÈöîÁ¶ªÁ∫ßÂà´‰∏ãÔºåÊØè‰∏ÄÊ¨°ÁöÑselectÈÉΩÊòØ‰∏Ä‰∏™Âø´ÁÖßËØªÔºåÊâÄ‰ª•ÊòØÂèØ‰ª•ËØªÂèñÂà∞Â∑≤ÁªèÊèê‰∫§ÁöÑÊï∞ÊçÆÔºå‰ªéËÄåÂØºËá¥ÂπªËØª„ÄÇÊâÄ‰ª•Âú®RCÈöîÁ¶ªÁ∫ßÂà´‰∏ãÔºåÂø´ÁÖßËØªÂíåÂΩìÂâçËØªÈÉΩÊòØÂèØ‰ª•Âá∫Áé∞ÂπªËØª„ÄÇ ‰ΩÜÊòØÂú®PRÁöÑÈöîÁ¶ªÁ∫ßÂà´‰∏ãÔºåÁî±‰∫éÂø´ÁÖßËØª‰ªÖ‰ªÖÂè™ÁîüÊàê‰∏ÄÊ¨°ÔºåÊâÄ‰ª•Âú®PRÁ∫ßÂà´‰∏ãÁöÑÂø´ÁÖßËØªÊòØÊó†Ê≥ïÂá∫Áé∞ÂπªËØªÁöÑÔºå‰ΩÜÊòØÂΩìÂâçËØªÁ°ÆÂÆûÂèØ‰ª•Âá∫Áé∞ÂπªËØª„ÄÇ Êü•ÁúãMysqlÂÆòÊñπÂØπ‰∫éÂπªËØªÁöÑÂÆö‰πâ„ÄÇ The so-called phantom problem occurs within a transaction when the same query produces different sets of rows at different times. ‰πüÂ∞±ÊòØËØ¥‰∏Ä‰∏™‰∫ãÁâ©Âêå‰∏ÄÊù°Êü•ËØ¢ËØ≠Âè•Êü•ËØ¢Âá∫Êù•‰∫Ü‰∏§‰∏™‰∏çÂêåÁöÑÈõÜÂêàÂ∞±ÂèØ‰ª•Áß∞‰πã‰∏∫ÂπªËØª„ÄÇ ANSI SQL ÈöîÁ¶ªÁ∫ßÂà´Âú®ANSI SQL ÈöîÁ¶ªÁ∫ßÂà´ÁöÑÂÆö‰πâ‰∏≠PRÁ∫ßÂà´ÊòØÂèØ‰ª•Âá∫Áé∞ÂπªËØªÁöÑ„ÄÇ‰ΩÜÊòØÂú®InnoDBÂºïÊìéÈáåÈù¢Ëá™Â∑±ÈÄöËøáGAPÈîÅÂíåNext-KeyÈîÅ‰ΩøÂæóPRÈöîÁ¶ªÁ∫ßÂà´‰∏ãÊó†Ê≥ïÂá∫Áé∞ÂπªËØª„ÄÇÂéüÂõ†Â∞±Âú®‰∫éInnoDBÁöÑGAPÈîÅ GAPÈîÅÂú®InnoDBÈáåÈù¢ÔºåGAPÈîÅÊòØÁî®‰∫éÈò≤Ê≠¢ÂπªËØªÁöÑ‰∏Ä‰∏™ÊâãÊÆµÔºåÂÖ∑‰ΩìÁöÑÊìç‰ΩúÊòØÈ¶ñÂÖàÂΩìÊàë‰ª¨Êñ∞Â¢û‰∏Ä‰∏™Êï∞ÊçÆÁöÑÊó∂ÂÄôÔºåInnoDB‰ºöÂú®Ê≠§Êó∂Âä†‰∏Ä‰∏™GAPÈîÅ‰ªéËÄåÈò≤Ê≠¢ÂÖ∂‰ªñ‰∫ãÂä°ÂØπËØ•Âå∫Èó¥ÁöÑ‰∏Ä‰∫õÊï∞ÊçÆÊìç‰ΩúÔºåÂØºËá¥ÂπªËØªÁöÑÂá∫Áé∞„ÄÇ Â§çÁé∞PRÁ∫ßÂà´Ôºö123456789101112131415mysql&gt; select * from test_lock.test;+---------+-----------+----------------+------------+-------------+| user_id | user_name | user_password | is_deleted | phone |+---------+-----------+----------------+------------+-------------+| a | zhangsan | 123456 | 0 | 15112345678 || b | lisi | lisi123456 | 0 | 15112345678 || c | wangwu | wangwu123456 | 0 | 15112345678 || d | caocao | caocao123456 | 0 | 15112345678 || e | liubei | liubei123456 | 0 | 15112345678 || f | zhangfei | zhangfei123456 | 0 | 15112345678 || g | guanyu | guanyu123456 | 0 | 15112345678 || h | daqiao | daqiao123456 | 0 | 15112345678 || m | xiaoqiao | xiaoqiao123456 | 0 | 15112345678 |+---------+-----------+----------------+------------+-------------+9 rows in set (0.00 sec) ‰∫ãÁâ©‰∏ÄÔºö12345678910111213mysql&gt; start transaction ;Query OK, 0 rows affected (0.00 sec)mysql&gt; begin;Query OK, 0 rows affected (0.00 sec)mysql&gt; select * from test_lock.test where user_id &gt; &apos;g&apos; and user_id &lt; &apos;m&apos; for update ;+---------+-----------+---------------+------------+-------------+| user_id | user_name | user_password | is_deleted | phone |+---------+-----------+---------------+------------+-------------+| h | daqiao | daqiao123456 | 0 | 15112345678 |+---------+-----------+---------------+------------+-------------+1 row in set (0.00 sec) ‰∫ãÁâ©‰∫åÔºö1234567mysql&gt; start transaction ;Query OK, 0 rows affected (0.00 sec)mysql&gt; begin;Query OK, 0 rows affected (0.00 sec)mysql&gt; insert into test_lock.`test` values(&apos;i&apos;,&apos;daqiao&apos;,&apos;daqiao123456&apos;,0,&apos;15112345678&apos;); Ê≠§Êó∂Âú®PRÈöîÁ¶ªÁ∫ßÂà´‰∏ã‰ºöÈòªÂ°û„ÄÇ Ê≠§Êó∂Êü•ÁúãÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÈîÅÔºö1234567891011ysql&gt; select * from performance_schema.data_locks;+--------+----------------------------------------+-----------------------+-----------+----------+---------------+-------------+----------------+-------------------+------------+-----------------------+-----------+------------------------+-------------+-----------+| ENGINE | ENGINE_LOCK_ID | ENGINE_TRANSACTION_ID | THREAD_ID | EVENT_ID | OBJECT_SCHEMA | OBJECT_NAME | PARTITION_NAME | SUBPARTITION_NAME | INDEX_NAME | OBJECT_INSTANCE_BEGIN | LOCK_TYPE | LOCK_MODE | LOCK_STATUS | LOCK_DATA |+--------+----------------------------------------+-----------------------+-----------+----------+---------------+-------------+----------------+-------------------+------------+-----------------------+-----------+------------------------+-------------+-----------+| INNODB | 140169161014704:1068:140169076344152 | 235275 | 50 | 16 | test_lock | test | NULL | NULL | NULL | 140169076344152 | TABLE | IX | GRANTED | NULL || INNODB | 140169161014704:7:4:14:140169076341272 | 235275 | 50 | 16 | test_lock | test | NULL | NULL | PRIMARY | 140169076341272 | RECORD | X,GAP,INSERT_INTENTION | WAITING | &apos;m&apos; || INNODB | 140169161013840:1068:140169076338200 | 235274 | 47 | 20 | test_lock | test | NULL | NULL | NULL | 140169076338200 | TABLE | IX | GRANTED | NULL || INNODB | 140169161013840:7:4:14:140169076335256 | 235274 | 47 | 20 | test_lock | test | NULL | NULL | PRIMARY | 140169076335256 | RECORD | X | GRANTED | &apos;m&apos; || INNODB | 140169161013840:7:4:15:140169076335256 | 235274 | 47 | 20 | test_lock | test | NULL | NULL | PRIMARY | 140169076335256 | RECORD | X | GRANTED | &apos;h&apos; |+--------+----------------------------------------+-----------------------+-----------+----------+---------------+-------------+----------------+-------------------+------------+-----------------------+-----------+------------------------+-------------+-----------+5 rows in set (0.00 sec) ÂèØ‰ª•ÁúãÂà∞Âú®mÂàóÁî±‰∫éGAPÈîÅÂíåINSERT_INTENTION‰∫íÁõ∏ÂÜ≤Á™ÅÔºåÂØºËá¥‰∫ãÁâ©‰∫åÊó†Ê≥ïËøõË°åÊèíÂÖ• ‰∫ãÁâ©‰∏ÄÁî±‰∫éËøõË°åfor updateÊü•ËØ¢ÔºåÊâÄ‰ª•‰ºöÂØπÂå∫Èó¥Âä†‰∏Ä‰∏™GAPÈîÅ‰∫ãÁâ©‰∫åÁî±‰∫éÊòØÊñ∞Â¢ûÔºåÊâÄ‰ª•‰ºöÂä†‰∏Ä‰∏™ÊèíÂÖ•ÊÑèÂêëÈîÅÁî±‰∫éGAPÈîÅÈòªÂ°û‰Ωè‰∫ÜÊèíÂÖ•ÊÑèÂêëÈîÅÔºåÂØºËá¥‰∫ãÁâ©‰∫åÊó†Ê≥ïËøõË°åÊèíÂÖ• Ê≠§Êó∂‰∫ãÁâ©‰∫å‰πü‰ºöÂú®ËøôÈáåÈòªÂ°û‰ΩèÔºåËÄåÂú®RCÈöîÁ¶ªÁ∫ßÂà´‰∏ãÔºå‰∫ãÁâ©‰∫åÊòØ‰∏ç‰ºöÁ≠âÂæÖÁöÑ„ÄÇ‰ΩÜÊòØÂ¶ÇÊûú‰ªîÁªÜ‰∏ÄÁÇπÔºåÂÖ∂ÂÆûËøôÈáåËøòÂèØ‰ª•ÂèëÁé∞Âè¶‰∏Ä‰∏™ÈîÅÔºåÂ∞±ÊòØÊèíÂÖ•ÊÑèÂêëÈîÅINSERT_INTENTION LOCK INSERT_INTENTION_LOCKMysqlÂÆòÊñπÊñáÊ°£‰∏≠Â∞ÜINSERT_INTENTIONÂÆö‰πâ‰∏∫‰∏Ä‰∏™GAPÈîÅÔºå‰ΩÜÊòØÂÆÉÁöÑÊÑè‰πâÂíåÁúüÊ≠£ÁöÑGAPÈîÅ‰πãÈó¥ÊòØÊúâÂ§©Â§ßÁöÑÂ∑ÆÂà´ÁöÑÔºåINSERT_INTENTION_LOCKÂπ∂‰∏ç‰ºöÈòªÂ°ûGAPÈîÅÔºå‰ΩÜÁõ∏ÂèçGAP‰ºöÈòªÂ°ûINSERT_INTENTION_LOCKÔºåÂπ∂‰∏îËØ•ÈîÅÁöÑÈîÅÂÆöËåÉÂõ¥ÊòØÊèíÂÖ•Ë°å‰∏ÄÁõ¥Âà∞‰∏ã‰∏Ä‰∏™Á¥¢ÂºïÔºåËøô‰∏ÄÊï¥‰∏™Âå∫Èó¥Â¶Ç‰∏ã‰æãÂ≠êÔºö‰∫ãÁâ©‰∏ÄÔºö12345678mysql&gt; start transaction ;Query OK, 0 rows affected (0.00 sec)mysql&gt; begin;Query OK, 0 rows affected (0.00 sec)mysql&gt; insert into test_lock.`test` values(&apos;i&apos;,&apos;daqiao&apos;,&apos;daqiao123456&apos;,0,&apos;15112345678&apos;);Query OK, 1 row affected (0.00 sec) ‰∫ãÁâ©‰∫åÔºö123456789mysql&gt; start transaction ;Query OK, 0 rows affected (0.00 sec)mysql&gt; begin;Query OK, 0 rows affected (0.00 sec)mysql&gt; update test_lock.`test` set user_id=&apos;l&apos; where user_id = &apos;k&apos;;Query OK, 0 rows affected (0.00 sec)Rows matched: 0 Changed: 0 Warnings: 0 Ê≠§Êó∂Êü•Áúã‰∫ãÁâ©‰∏≠ÈîÅÔºö123456789mysql&gt; select * from performance_schema.data_locks;+--------+----------------------------------------+-----------------------+-----------+----------+---------------+-------------+----------------+-------------------+------------+-----------------------+-----------+-----------+-------------+-----------+| ENGINE | ENGINE_LOCK_ID | ENGINE_TRANSACTION_ID | THREAD_ID | EVENT_ID | OBJECT_SCHEMA | OBJECT_NAME | PARTITION_NAME | SUBPARTITION_NAME | INDEX_NAME | OBJECT_INSTANCE_BEGIN | LOCK_TYPE | LOCK_MODE | LOCK_STATUS | LOCK_DATA |+--------+----------------------------------------+-----------------------+-----------+----------+---------------+-------------+----------------+-------------------+------------+-----------------------+-----------+-----------+-------------+-----------+| INNODB | 140169161014704:1068:140169076344152 | 235293 | 50 | 48 | test_lock | test | NULL | NULL | NULL | 140169076344152 | TABLE | IX | GRANTED | NULL || INNODB | 140169161014704:7:4:14:140169076341272 | 235293 | 50 | 48 | test_lock | test | NULL | NULL | PRIMARY | 140169076341272 | RECORD | X,GAP | GRANTED | &apos;m&apos; || INNODB | 140169161013840:1068:140169076338200 | 235288 | 47 | 32 | test_lock | test | NULL | NULL | NULL | 140169076338200 | TABLE | IX | GRANTED | NULL |+--------+----------------------------------------+-----------------------+-----------+----------+---------------+-------------+----------------+-------------------+------------+-----------------------+-----------+-----------+-------------+-----------+3 rows in set (0.00 sec) ÂèØ‰ª•ÁúãÂà∞‰∫ãÁâ©‰∫åÁ°ÆÂÆûÂ∑≤ÁªèÊâßË°åÊàêÂäü‰∫ÜÔºåËÄå‰∏î‰∫ãÁâ©‰∏ÄÁöÑÊèíÂÖ•ÊÑèÂêëÈîÅÂπ∂Êú™ÈòªÂ°û‰∫ãÁâ©‰∫åÁöÑÊèíÂÖ•ËØ≠Âè•„ÄÇ ÊÄªÁªìÂú®MysqlÁöÑInnoDB‰∏≠ÔºåÂπªËØªÁöÑËß£ÂÜ≥ÊñπÊ°àÊòØÈááÁî®‰∫Ü‰∏Ä‰∏™Èó¥ÈöôÈîÅGAPÈîÅÊù•ÂÆûÁé∞ÁöÑ]]></content>
      <categories>
        <category>Mysql</category>
      </categories>
      <tags>
        <tag>Mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mysql‰∏≠ÁöÑÂπªËØª(‰∏Ä)]]></title>
    <url>%2F2019%2F08%2F18%2FMysql%E4%B8%AD%E7%9A%84%E5%B9%BB%E8%AF%BB-%E4%B8%80%2F</url>
    <content type="text"><![CDATA[‰ªÄ‰πàÊòØÂπªËØªÂπªËØªË°®Á§∫ÁöÑÊòØÂú®‰∏Ä‰∏™‰∫ãÁâ©ÈáåÈù¢ Âêå‰∏Ä‰∏™selectËØ≠Âè•ÔºåÂâçÂêé‰∏§Ê¨°Êü•ËØ¢Âá∫Êù•ÁöÑÁªìÊûúÊòØ‰∏çÁõ∏ÂêåÁöÑÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑ‰∏ÄÁÇπÊòØÔºåÂú®InnoDBÈáåÈù¢ÔºåÂπªËØªË∑ü‰∫ãÁâ©ÁöÑÈöîÁ¶ªÁ∫ßÂà´ÊúâÂÖ≥ÔºåÊõ¥Âä†ÂáÜÁ°ÆÁöÑËØ¥ÊòØË∑ü‰∏Ä‰∏™‰∫ãÁâ©ÁöÑÂø´ÁÖßÂíåÂΩìÂâçËØªÊúâÂÖ≥ ‰∏ãÈù¢ÊòØÂú®Mysql8.0.11ÁâàÊú¨‰∏ãËøõË°åÂπªËØªÁöÑÂ§çÁé∞Ôºö ÂºïÊìéÔºöInnoDB ‰∫ãÁâ©ÈöîÁ¶ªÁ∫ßÂà´ÔºöRead Commited MVCCÂíåÂø´ÁÖßËØª‰ª•ÂèäÂΩìÂâçËØªMVCCÂú®‰ªãÁªçMVCC‰πãÂâçÂÖàÊù•‰ªãÁªç‰∏ãMVCC‰∏∫‰ªÄ‰πà‰ºöÂá∫Áé∞ÔºåÈ¶ñÂÖàÊï∞ÊçÆÂ∫ì‰Ωú‰∏∫‰∏Ä‰∏™Êï∞ÊçÆÂ≠òÂÇ®Â∑•ÂÖ∑ÔºåÈÇ£‰πàËÇØÂÆöÊòØÂ≠òÂú®Âπ∂ÂèëÁöÑÊÉÖÂÜµÔºåÂú®MysqlÁöÑInnoDBÈáåÈù¢ÊúÄÂ∏∏ËßÅÁöÑÂ∞±ÊòØxÈîÅÔºåËøôÊòØ‰∏ÄÁßçÂÜôÈîÅÔºåÂú®Âπ∂ÂèëÁöÑÊÉÖÂÜµ‰∏ãÂè™Êúâ‰∏Ä‰∏™‰∫ãÂä°‰ºöËé∑ÂèñËØ•ÈîÅÔºåÂÖ∂‰ªñ‰∫ãÂä°Âàô‰ºö‰∏ÄÁõ¥Á≠âÂæÖÁõ¥Ëá≥Ëé∑ÂèñÂà∞ËØ•ÈîÅ„ÄÇ ÈÇ£‰πàÂú®ËØªÂèñÁöÑÊó∂ÂÄôÂ¶Ç‰Ωï‰øùËØÅÂπ∂ÂèëÁöÑ‰∫ãÁâ©ÈÉΩËÉΩÊ≠£Á°ÆÁöÑËØªÂèñÂà∞Ëá™Â∑±Ê≠£Á°ÆÁöÑÊï∞ÊçÆÂë¢Ôºü Âú®MVCCÁöÑÊ¶ÇÂøµÈáåÈù¢ÔºåÂ¶ÇÊûú‰∫ãÂä°ÁöÑÈöîÁ¶ªÁ∫ßÂà´ÊòØRead CommitedÁöÑËØùÔºåÈÇ£‰πàÊØè‰∏ÄÊ¨°ÁöÑÂø´ÁÖßÈÉΩÈÉΩ‰ºöËØªÂèñËØ•Ë°åÁöÑÊúÄËøë‰∏ÄÊ¨°commitedÊï∞ÊçÆÔºåËÄåÂ¶ÇÊûúÊòØRepeatable ReadÁöÑËØùÔºåÂàôÊòØ‰ºöËØªÂèñÂΩìÂâç‰∫ãÂä°IDÂºÄÂßã‰πãÂâçÁöÑ‰∏ÄÊ¨°commitedÊï∞ÊçÆ„ÄÇ ÊâÄ‰ª•MVCC‰ªÖ‰ªÖÊòØ‰Ωú‰∏∫‰∏Ä‰∏™‰øùËØÅÊï∞ÊçÆÂ∫ìÂπ∂ÂèëËØªÊÉÖÂÜµ‰∏ãÁöÑ‰∏Ä‰∏™Êï∞ÊçÆÊ≠£Á°ÆÁöÑÊâãÊÆµËÄåÂ∑≤ÔºåÂú®‰∏çÂêåÁöÑÊï∞ÊçÆÂ∫ìÈáåÈù¢ÔºåÊúâ‰∏çÂêåÁöÑÂÆûÁé∞Ôºå‰æãÂ¶ÇÂú®OceanBaseÈáåÈù¢ÔºåÊòØÈÄöËøáÊìç‰ΩúÈìæÊù•Ëß£ÂÜ≥Âπ∂ÂèëËØªÁöÑÈóÆÈ¢ò Âø´ÁÖßËØªÂø´ÁÖßËØªÊòØÂà©Áî®MVCCÂíå undo log Êù•ÂÆûÁé∞ÁöÑÔºåÂÖ∂‰∏ªË¶Å‰ΩúÁî®Â∞±ÊòØÂΩìÊàë‰ª¨ÂØπÊüêË°åÊï∞ÊçÆ‰øÆÊîπ‰πãÂêéÔºåÂπ∂‰∏ç‰ºöÂ∞ÜÂéüÂÄº‰øÆÊîπÔºåËÄåÊòØÂú®‰∏ä‰∏Ä‰∏™ÁâàÊú¨‰∏äÈù¢ÂÜçÊñ∞Âª∫‰∏Ä‰∏™ÁâàÊú¨(‰øÆÊîπInnoDBÁöÑÈöêËóè‰∏§Âàó)„ÄÇÊâÄ‰ª•Âú®‰∏çÂêåÁöÑÈöîÁ¶ªÁ∫ßÂà´‰∏ãÔºåÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÁöÑ‰∫ãÁâ©IDÊù•Ëé∑ÂèñËá™Â∑±ÊâÄÈúÄË¶ÅÁöÑÊï∞ÊçÆ„ÄÇÂΩìÁ¨¨‰∏ÄÊù°‰∏çÊª°Ë∂≥ÁöÑÊó∂ÂÄôÔºå‰ºöÊ≤øÁùÄundo log‰∏ÄÁõ¥ÂØªÊâæÔºåÂú®Read CommitedÈöîÁ¶ªÁ∫ßÂà´‰∏ãÂ∞±ÊòØÁõ¥Êé•ÊâæÂá∫ËØ•Ë°åÊï∞ÊçÆÊúÄÂêé‰∏ÄÊ¨°Êèê‰∫§ÁöÑÁâàÊú¨ ÂΩìÂâçËØªÂΩìÂâçËØªÊòØÂØπÊï∞ÊçÆÁöÑÂä†ÈîÅËØªÂèñÔºåËØªÂèñÁöÑÈÉΩÊòØÊúÄÊñ∞ÁöÑÊï∞ÊçÆÔºå‰æãÂ¶ÇÂ¶Ç‰∏ãSQLÔºö123456select ... for updateselect ... in share modeinsertupdatedelete... ÂêåÊó∂‰πüÈúÄË¶ÅÊ≥®ÊÑèÁöÑ‰∏ÄÁÇπÊòØÔºåÂΩìÂâçËØª‰ºöÂØπÊ∂âÂèäÂà∞ÁöÑË°åÈÉΩËøõË°åÂä†ÈîÅ ‰∏∫‰ªÄ‰πà‰ºöÊúâÂΩìÂâçËØªÂíåÂø´ÊâæËØªÊåâÁÖßMysqlÂÆòÊñπÁöÑËß£ÈáäÔºåÂΩìÂâçËØªÊòØ‰∏∫‰∫ÜÈò≤Ê≠¢ÂÖ∂‰ªñ‰∫ãÁâ©‰øÆÊîπ‰Ω†Âç≥Â∞ÜËøõË°åÁöÑÊìç‰Ωú If you query data and then insert or update related data within the same transaction, the regular SELECT statement does not give enough protection. Other transactions can update or delete the same rows you just queried. InnoDB supports two types of locking reads that offer extra safety ÂπªËØªÂèëÁîüÁöÑÊù°‰ª∂È¶ñÂÖàËß£Èáä‰∏ãMysqlÂÆòÊñπÂØπ‰∫éÂπªËØªÁöÑËß£ÈáäÔºö The so-called phantom problem occurs within a transaction when the same query produces different sets of rows at different times. For example, if a SELECT is executed twice, but returns a row the second time that was not returned the first time, the row is a ‚Äúphantom‚Äù row. ËøôÈáåMysqlÂÆòÊñπËôΩÁÑ∂Âè™ÊòØÁªôÂá∫‰∫ÜÂØπ‰∫éÂπªË°åÁöÑÂÆö‰πâÔºå‰ΩÜÊòØ‰ªçÁÑ∂ÂèØ‰ª•ÁÆÄÂçïËß£Èáä‰∏ãÔºå‰πüÂ∞±ÊòØËØ¥‰∏§Ê¨°ÁöÑselectÂâçÂêéÂæóÂà∞ÁöÑÁªìÊûúÈõÜÊòØ‰∏çÂêåÁöÑÔºåÈÇ£‰πàÊñ∞Â§öÂá∫Êù•ÁöÑ‰∏ÄË°åÂ∞±ÂèØ‰ª•Áß∞‰πã‰∏∫ÂπªË°å Âú®ËøôÈáåÁâπÂà´ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂú®PRÈöîÁ¶ªÁïåÂà´‰∏ãÔºåÂè™ÊúâÂΩìÂâçËØªÊâç‰ºöÂá∫Áé∞ÂπªËØª Read CommitedÂú®Read CommitedÈöîÁ¶ªÁ∫ßÂà´‰∏ãÔºåÊØè‰∏ÄÊ¨°ÁöÑselect ÈÉΩÊòØ‰∏ÄÊ¨°Âø´ÁÖßËØªÔºåÊâÄ‰ª•Âú®ËØ•ÈöîÁ¶ªÁ∫ßÂà´‰∏ãÔºåÂπªËØªÂèØ‰ª•Âú®Âø´ÁÖßËØªÂíåÂΩìÂâçËØªÂèëÁîü„ÄÇ ‰∫ãÂä°‰∏Ä123456789101112131415161718192021222324252627mysql&gt; set session transaction isolation level read committed;Query OK, 0 rows affected (0.00 sec)mysql&gt; START TRANSACTION;Query OK, 0 rows affected (0.00 sec)mysql&gt; begin;Query OK, 0 rows affected (0.00 sec)mysql&gt; select * from szh.t1 -&gt; ;+---------+-----------+| area_id | order_num |+---------+-----------+| 1 | 22 || 2 | 10 |+---------+-----------+2 rows in set (0.00 sec)mysql&gt; select * from `szh`.`t1`;+---------+-----------+| area_id | order_num |+---------+-----------+| 1 | 22 || 2 | 10 |+---------+-----------+2 rows in set (0.00 sec) ‰∫ãÂä°‰∫å1INSERT INTO `szh`.`t1`(`area_id`, `order_num`) VALUES (3, 22); Ê≠§Êó∂‰∫ãÂä°‰∏ÄÂÜçËøõË°åselect123456789mysql&gt; select * from `szh`.`t1`;+---------+-----------+| area_id | order_num |+---------+-----------+| 1 | 22 || 2 | 10 || 3 | 22 |+---------+-----------+3 rows in set (0.00 sec) ‰∫éÊòØÂπªËØªÂèëÁîü‰∫Ü Repeatable ReadÈÇ£‰πàÂ¶ÇÊûúÂú®Repeatable ReadÈöîÁ¶ªÁ∫ßÂà´‰∏ãÔºå‰∏äÈù¢ÁöÑSQLÂú®ÊâßË°å‰∏ÄÈÅç‰ºöÂá∫Áé∞‰ªÄ‰πàÊÉÖÂÜµÂë¢Ôºü ‰∫ãÂä°‰∏Ä123456789101112131415161718mysql&gt; START TRANSACTION;Query OK, 0 rows affected (0.00 sec)mysql&gt; begin;Query OK, 0 rows affected (0.00 sec)mysql&gt; SELECT * FROM `t1` -&gt; ;+---------+-----------+| area_id | order_num |+---------+-----------+| 1 | 22 || 2 | 10 || 3 | 22 || 4 | 33 || 5 | 55 |+---------+-----------+5 rows in set (0.00 sec) ‰∫ãÂä°‰∫å1INSERT INTO `szh`.`t1`(`area_id`, `order_num`) VALUES (6, 66); ‰∫ãÂä°‰∏ÄÂÜçÊ¨°select1234567891011mysql&gt; SELECT * FROM `t1`;+---------+-----------+| area_id | order_num |+---------+-----------+| 1 | 22 || 2 | 10 || 3 | 22 || 4 | 33 || 5 | 55 |+---------+-----------+5 rows in set (0.00 sec) ÂèØ‰ª•ÁúãÂà∞ÁöÑÊòØÂú®Âø´ÁÖßËØª‰∏ãÈù¢ÔºåÊòØÊ≤°ÊúâÂπªËØªÂá∫Áé∞ÁöÑÔºåÈÇ£‰πà‰øÆÊîπselect‰∏∫ÂΩìÂâçËØªÂë¢ÔºüÂú®‰∫ãÂä°‰∏ÄÈáåÈù¢ÂÜçÊ¨°ÊâßË°å‰ª•‰∏ãSQL123456789101112mysql&gt; SELECT * FROM `t1` for update;+---------+-----------+| area_id | order_num |+---------+-----------+| 1 | 22 || 2 | 10 || 3 | 22 || 4 | 33 || 5 | 55 || 6 | 66 |+---------+-----------+6 rows in set (0.00 sec) ÂèØ‰ª•ÁúãÂà∞Á°ÆÂÆûÂá∫Áé∞‰∫Ü‰∏§Ê¨°ÁöÑselect‰∏çÂêåÁöÑÊÉÖÂÜµ„ÄÇÊâÄ‰ª•ÈúÄË¶ÅÂº∫Ë∞É‰∏ÄÁÇπÁöÑÊòØÔºåÂú®Repeatable ReadÈöîÁ¶ªÁ∫ßÂà´‰∏ãÔºåÂè™ÊúâÂΩìÂâçËØªÊâç‰ºöÂá∫Áé∞ÂπªËØªÔºåÂõ†‰∏∫Âú®ËØ•Á∫ßÂà´‰∏ãÔºåÂø´ÁÖßËØªÊòØ‰ªébeginÂºÄÂßãÁöÑÁ¨¨‰∏Ä‰∏™ÊôÆÈÄöselectÂª∫Á´ãÁöÑRead ViewÔºå‰ª•ÂêéÁöÑÊôÆÈÄöselectÈÉΩÊòØÂü∫‰∫éÁ¨¨‰∏ÄÊ¨°ÁöÑselectÔºåËá™ÁÑ∂ËÄåÁÑ∂‰∏ç‰ºöÂá∫Áé∞ÂπªËØª‰∫Ü]]></content>
      <categories>
        <category>Mysql</category>
      </categories>
      <tags>
        <tag>Mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MysqlÊï∞ÊçÆÂ∫ìÂá∫Áé∞Ê≠ªÈîÅÁöÑÊÉÖÂÜµ(‰∏Ä)]]></title>
    <url>%2F2019%2F08%2F04%2FMysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%87%BA%E7%8E%B0%E6%AD%BB%E9%94%81%E7%9A%84%E6%83%85%E5%86%B5-%E4%B8%80%2F</url>
    <content type="text"><![CDATA[Âú®‰∏¥Ëøë‰∏äÁ∫ø‰πãÂâçÔºåÊàë‰ª¨Á≥ªÁªüÂÅö‰∫Ü‰∏ÄÊ¨°ÂéãÂäõÊµãËØïÔºåÂèëÁé∞Êúâ‰∏Ä‰∏™Êé•Âè£Âú®È´òÂπ∂ÂèëÊÉÖÂÜµ‰∏ã‰ºöÂá∫Áé∞‰∏Ä‰∏™Ê≠ªÈîÅÁöÑÊÉÖÂÜµ„ÄÇ„ÄÇÈ¶ñÂÖàÁî≥Êòé‚Ä¶‰∏çÊòØÊàëÂÜôÁöÑÔºåÊàëÂè™ÊòØÂ∏ÆÂøôÊéíÊü•‰∏ã„ÄÇ ÈöèÁùÄÂØπMysqlÈîÅÁöÑÊ∑±ÂÖ•‰∫ÜËß£Ôºå‰∫éÊòØÂ∞±ÂáÜÂ§áÂÜôÂá†ÁØáÊñáÁ´†Êù•ËÆ∞ÂΩï‰∏ãMysqlÂêÑÁßç‰∫ãÁâ©ÂíåÁ¥¢ÂºïÁöÑÊÉÖÂÜµ‰∏ãÂá∫Áé∞Ê≠ªÈîÅÁöÑÊÉÖÂÜµ„ÄÇ ‰ªäÂ§©Â∞±‰ªãÁªç‰∏ãÂú®Âπ∂ÂèëÊèíÂÖ•ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂì™Âá†ÁßçÊÉÖÂÜµ‰ºöÂá∫Áé∞Ê≠ªÈîÅÔºö INNODB‰∏ãÁöÑÂêÑÁßçÈîÅÂú®‰ªãÁªçÈîÅÁöÑÊó∂ÂÄôÂè™‰ºö‰ªãÁªçË∑üÊú¨ËäÇÁõ∏ÂÖ≥ÁöÑÈîÅÔºåËÄå‰∏îÂè™‰ºöËÆ≤Ëø∞Â§ßÊ¶ÇÊòØ‰ªÄ‰πàÔºåËá≥‰∫éÈîÅÁöÑÊõ¥Âä†ËØ¶ÁªÜÁöÑËÆ≤Ëß£ÂèØËÉΩ‰ºöÂà∞‰ª•ÂêéÂÜçËØ¶ÁªÜ‰ªãÁªç„ÄÇ Ë°åÈîÅË°åÈîÅÂàÜ‰∏∫ÂÜôÈîÅÂíåËØªÂèñÈîÅÔºå ËØªÈîÅÔºàSÈîÅÔºâ‰πüÂèØ‰ª•Áß∞‰πã‰∏∫ ÂÖ±‰∫´ÈîÅ Ôºå ÂÆÉË°®Á§∫ÁöÑÊòØ‰ªª‰Ωï‰∏Ä‰∏™‰∫ãÁâ©ÈÉΩÂèØ‰ª•ËØªÂèñËØ•Ë°åÊï∞ÊçÆ(ÂèØ‰ª•Ë¢´Â§ö‰∏™‰∫ãÁâ©Ëé∑ÂèñÂà∞)„ÄÇ ÂÜôÈîÅÔºàXÈîÅÔºâ‰πüÂèØ‰ª•Áß∞‰πã‰∏∫ÊéíÂÆÉÈîÅÔºåÂÆÉË°®Á§∫ÁöÑÊòØËØ•Ë°åÊï∞ÊçÆ‰∏çÂÖÅËÆ∏‰ªª‰Ωï‰∫∫ËøõË°å‰øÆÊîπÔºåÂêåÊó∂‰πü‰∏çÂÖÅËÆ∏‰ªª‰Ωï‰∫ãÁâ©Ëé∑ÂèñËØ•Ë°å‰∫ãÁâ©ÁöÑSÈîÅÔºå‰ΩÜÊòØÊôÆÈÄöÁöÑ select ËØ≠Âè•ÊòØÂèØ‰ª•ÁöÑ„ÄÇ ËÉåÊôØ‰ø°ÊÅØ‰∏ÄÊ≥®ÊÑèÔºö‰ª•‰∏ãÊµãËØïÈÉΩÊòØÂü∫‰∫éËØ•‰∫ãÁâ©ÈöîÁ¶ªÁ∫ßÂà´ÂíåÊï∞ÊçÆÂ∫ìÁâàÊú¨Êï∞ÊçÆÂ∫ìÁâàÊú¨Ôºö8.0.11 ‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´ÔºöREPEATABLE-READ 1234567mysql&gt; SHOW VARIABLES LIKE 'transaction_isolation';+-----------------------+-----------------+| Variable_name | Value |+-----------------------+-----------------+| transaction_isolation | REPEATABLE-READ |+-----------------------+-----------------+1 row in set (0.00 sec) SQLÂáÜÂ§á:12345678910create database if not exists test_lock DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;CREATE TABLE test_lock.`test` ( `user_id` varchar(32) NOT NULL, `user_name` varchar(32) NOT NULL, `user_password` varchar(16) NOT NULL, `is_deleted` int(1) NOT NULL, `phone` varchar(20) NOT NULL, PRIMARY KEY (`user_id`), KEY `t1_god` (`user_name`,`user_password`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci; ÂáÜÂ§áÊï∞ÊçÆÔºö 12345678insert into test_lock.`test` values('a','zhangsan','123456',0,'15112345678');insert into test_lock.`test` values('b','lisi','lisi123456',0,'15112345678');insert into test_lock.`test` values('c','wangwu','wangwu123456',0,'15112345678');insert into test_lock.`test` values('d','caocao','caocao123456',0,'15112345678');insert into test_lock.`test` values('e','liubei','liubei123456',0,'15112345678');insert into test_lock.`test` values('f','zhangfei','zhangfei123456',0,'15112345678');insert into test_lock.`test` values('g','guanyu','guanyu123456',0,'15112345678');insert into test_lock.`test` values('h','xiaoqiao','xiaoqiao123456',0,'15112345678'); ÊÉÖÂÜµ‰∏ÄÔºö ‰∏â‰∏™‰∫ãÁâ©ÈÉΩÊâßË°åÂêå‰∏Ä‰∏™InsertËØ≠Âè•ÔºåÁ¨¨‰∏Ä‰∏™‰∫ãÁâ©ÁÑ∂ÂêéÂõûÊªö Ê≠§Êó∂Á¨¨‰∏â‰∏™‰∫ãÁâ©‰ºöÊèêÁ§∫Ê≠ªÈîÅÔºåÁ¨¨‰∫å‰∏™‰∫ãÁâ©Ê≠£Â∏∏ÊèíÂÖ•„ÄÇ Â§çÁé∞Ê≠•È™§ÔºöÂºÄÂêØ‰∏â‰∏™‰∫ãÁâ©ÔºåÊØè‰∏Ä‰∏™‰∫ãÁâ©ÂàÜÂà´ÊâßË°åÂ¶Ç‰∏ãSQLÔºåÁÑ∂ÂêéÂÜçÂ∞ÜÁ¨¨‰∏Ä‰∏™‰∫ãÁâ©ËøõË°åÂõûÊªöÊàñËÄÖÊèê‰∫§ÔºåÁÑ∂Âêé‰Ω†Â∞±‰ºöÂèëÁé∞Á¨¨‰∏â‰∏™‰∫ãÁâ©ÂèëÁîü‰∫ÜÊ≠ªÈîÅ„ÄÇ 1234## DeadLockstart transaction ;begin;insert into test_lock.`test` values('i','daqiao','daqiao123456',0,'15112345678'); MysqlÊèêÁ§∫Â¶Ç‰∏ãÔºö [2019-08-04 14:33:48] Connectedsql&gt; start transaction[2019-08-04 14:33:49] completed in 4 mssql&gt; begin[2019-08-04 14:33:49] completed in 6 mssql&gt; insert into test_lock.test values(‚Äòi‚Äô,‚Äôdaqiao‚Äô,‚Äôdaqiao123456‚Äô,0,‚Äô15112345678‚Äô)[2019-08-04 14:34:00] [40001][1213] Deadlock found when trying to get lock; try restarting transaction[2019-08-04 14:34:00] [40001][1213] Deadlock found when trying to get lock; try restarting transaction ÈÇ£‰πàÊâìÂç∞Âá∫MysqlÂá∫Áé∞Ê≠ªÈîÅÁöÑÊó•ÂøóÔºöÈáçÁÇπÊó•ÂøóÂ¶Ç‰∏ã 1234567891011121314151617181920212223242526272829303132LATEST DETECTED DEADLOCK------------------------2019-08-04 06:33:59 0x7f1818599700*** (1) TRANSACTION:TRANSACTION 231690, ACTIVE 34 sec insertingmysql tables in use 1, locked 1LOCK WAIT 4 lock struct(s), heap size 1136, 2 row lock(s)MySQL thread id 9, OS thread handle 139741464762112, query id 95 172.17.0.1 root update/* ApplicationName=IntelliJ IDEA 2019.1.3 */ insert into test_lock.`test` values('i','daqiao','daqiao123456',0,'15112345678')*** (1) WAITING FOR THIS LOCK TO BE GRANTED:RECORD LOCKS space id 7 page no 4 n bits 80 index PRIMARY of table `test_lock`.`test` trx id 231690 lock_mode X insert intention waitingRecord lock, heap no 1 PHYSICAL RECORD: n_fields 1; compact format; info bits 0 0: len 8; hex 73757072656d756d; asc supremum;;*** (2) TRANSACTION:TRANSACTION 231691, ACTIVE 10 sec insertingmysql tables in use 1, locked 14 lock struct(s), heap size 1136, 2 row lock(s)MySQL thread id 10, OS thread handle 139741464467200, query id 139 172.17.0.1 root update/* ApplicationName=IntelliJ IDEA 2019.1.3 */ insert into test_lock.`test` values('i','daqiao','daqiao123456',0,'15112345678')*** (2) HOLDS THE LOCK(S):RECORD LOCKS space id 7 page no 4 n bits 80 index PRIMARY of table `test_lock`.`test` trx id 231691 lock mode SRecord lock, heap no 1 PHYSICAL RECORD: n_fields 1; compact format; info bits 0 0: len 8; hex 73757072656d756d; asc supremum;;*** (2) WAITING FOR THIS LOCK TO BE GRANTED:RECORD LOCKS space id 7 page no 4 n bits 80 index PRIMARY of table `test_lock`.`test` trx id 231691 lock_mode X insert intention waitingRecord lock, heap no 1 PHYSICAL RECORD: n_fields 1; compact format; info bits 0 0: len 8; hex 73757072656d756d; asc supremum;;*** WE ROLL BACK TRANSACTION (2)------------ ‰ªé‰ª•‰∏äÊó•ÂøóÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Ôºå‰∫ãÁâ©‰∏ÄÊ≠£Âú®ËØ∑Ê±ÇËØ•Ë°åËÆ∞ÂΩïÁöÑ XÈîÅ Ôºå‰∫ãÁâ©‰∫åÊåÅÊúâËØ•Ë°åÁöÑSÈîÅÔºå‰ΩÜÊòØ‰πüÂú®Á≠âÂæÖËé∑ÂèñËØ•Ë°åÁöÑXÈîÅ„ÄÇ ÂÖ≥‰∫éMysqlÁöÑ insert ÈÄªËæëÔºåÂèØ‰ª•Â§ßËá¥ÁêÜËß£‰∏∫Â¶ÇÊûú‰∏Ä‰∏™‰∫ãÁâ©Ê≠£Âú®ÂØπ‰∏Ä‰∏™ËÆ∞ÂΩïËøõË°å insertÔºåÊ≠§Êó∂ InnoDB Âπ∂‰∏ç‰ºö‰∏ªÂä®ÁöÑÂ∞ÜÂÖ∂Âä†‰∏Ä‰∏™ÈîÅÔºåËÄåÊòØÂú®‰∏ªÈîÆÁ¥¢Âºï‰∏äÂä†‰∏Ä‰∏™ trx_idÔºå ÂΩìÁ¨¨‰∫å‰∏™‰∫ãÁâ©Ê£ÄÊµãÂà∞ËØ•Ë°åËÆ∞ÂΩïÊ≠£Âú®Ë¢´‰∏Ä‰∏™Ê¥ªË∑ÉÁöÑ‰∫ãÁâ©ÊåÅÊúâÁöÑÊó∂ÂÄôÔºåÊ≠§Êó∂Á¨¨‰∫å‰∏™‰∫ãÁâ©‰ºöÂ∏ÆÁ¨¨‰∏Ä‰∏™‰∫ãÁâ©ÁöÑÈöêÂºèÈîÅ‰ΩèËΩ¨‰∏∫ÊòæÂºèÈîÅ„ÄÇÂ¶Ç‰∏ã‰æãÂ≠êÔºö 1234## DeadLockstart transaction ;begin;insert into test_lock.`test` values('i','daqiao','daqiao123456',0,'15112345678'); Ê≠§Êó∂Êü•ÁúãMysql‰∏≠ÈîÅÁöÑÊÉÖÂÜµÔºö ÂèØ‰ª•ÁúãÂà∞Ê≠§Êó∂Mysql‰ªÖ‰ªÖÊòØÂú®Ë°®‰∏äÂä†ÂÖ•‰∫Ü‰∏Ä‰∏™ÊèíÂÖ•ÊÑèÂêëÈîÅÔºàIXÈîÅÔºâÔºåÊåÅÊúâËØ•ÈîÅË°®Á§∫ËØ•‰∫ãÁâ©Âú®Êé•‰∏ãÊù•ÊúâÂèØËÉΩ‰ºöÂØπËá™Â∑±ËÆæËÆ°Âà∞ÁöÑË°åÂä†ÂÖ•ÊéíÂÆÉÈîÅÔºàXÈîÅÔºâ MysqlÂÖ≥‰∫éÊÑèÂêëÈîÅÁöÑ‰ªãÁªç The intention locking protocol is as follows: Before a transaction can acquire a shared lock on a row in a table, it must first acquire an IS lock or stronger on the table. Before a transaction can acquire an exclusive lock on a row in a table, it must first acquire an IX lock on the table. Â§ßÊÑèÂ∞±ÊòØÂ¶ÇÊûú‰Ω†ÊÉ≥Ëé∑Âæó‰∏Ä‰∏™Ë°åÁöÑ XÈîÅÔºåÈÇ£‰πà‰Ω†Â∞±ÂøÖÈ°ªÂÖàËé∑ÂèñË°®ÁöÑ IXÈîÅ ÈÇ£‰πàÊ≠§Êó∂ÂÜçËøõË°åÁ¨¨‰∫å‰∏™‰∫ãÁâ©ÁöÑÊèíÂÖ•Ôºö 1234## DeadLockstart transaction ;begin;insert into test_lock.`test` values('i','daqiao','daqiao123456',0,'15112345678'); ÂÜçÊ¨°Êü•ÁúãÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÈîÅÔºö Ê≠§Êó∂‰ºöÂèëÁé∞Á¨¨‰∏Ä‰∏™‰∫ãÁâ©Â∑≤ÁªèËé∑ÂèñÂà∞‰∫ÜË°åÁ∫ßÂà´ÁöÑXÈîÅÔºåÁ¨¨‰∫å‰∏™‰∫ãÁâ©Ëé∑ÂèñÂà∞‰∫Ü IX ÈîÅ‰ª•Âèä SÈîÅ „ÄÇ ÈÇ£‰πàÊ≠§Êó∂Á¨¨‰∏â‰∏™‰∫ãÁâ©ÂºÄÂêØ‰πãÂêéÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÈîÅÂèà‰ºöÊòØ‰ªÄ‰πàÊ†∑Â≠êÁöÑÂë¢Ôºü ÂèØ‰ª•ÂèëÁé∞Âè¶Â§ñ‰∏§‰∏™‰∫ãÁâ©ÈÉΩÂú®Á≠âÂæÖËé∑ÂèñËØ•Ë°åÁöÑSÈîÅ„ÄÇÁÑ∂ÂêéÊ≠§Êó∂Á¨¨‰∏Ä‰∏™‰∫ãÁâ©ËøõË°åÂõûÊªöÔºåÊ≠§Êó∂Á¨¨‰∏â‰∏™‰∫ãÁâ©Â∞±‰ºöÊèêÁ§∫Ê≠ªÈîÅ„ÄÇ ÂéüÂõ†ÂâçÊèêÁªìËÆ∫ SÈîÅÊòØÂèØ‰ª•ÂçáÁ∫ßÂà∞XÈîÅÁöÑ ‰∏Ä‰∏™SÈîÅÈúÄË¶ÅÂçáÁ∫ßÂà∞XÈîÅÂøÖÈ°ª‰øùËØÅÂè™ÊúâÂΩìÂâç‰∫ãÁâ©ÊåÅÊúâSÈîÅ Ê≠ªÈîÅÂéüÂõ†ÂΩìÁ¨¨‰∏Ä‰∏™‰∫ãÁâ©ÂõûÊªö‰πãÂêéÔºåÁ¨¨‰∫å‰∏™‰∫ãÁâ©ÂíåÁ¨¨‰∏â‰∏™‰∫ãÁâ©ÈÉΩ‰ºöËé∑ÂæóÂà∞ËØ•Ë°åÁöÑSÈîÅÔºå‰ΩÜÊòØÊ≠§Êó∂Á¨¨‰∫å‰∏™‰∫ãÁâ©Â∞ÜË¶ÅÊâßË°å insert ËØ≠Âè•Ôºå‰πüÂ∞±ÊòØÁ¨¨‰∫å‰∏™‰∫ãÁâ©Ê≠£Âú®Á≠âÂæÖËé∑ÂèñËØ•Ë°åÁöÑXÈîÅÔºå‰ΩÜÊòØÊ≠§Êó∂Á¨¨‰∏â‰∏™‰∫ãÁâ©‰πüÊ≠£Âú®ÂáÜÂ§á insertÔºåÂÆÉ‰πüÂú®ÂáÜÂ§áËé∑Âèñ XÈîÅÔºåÁõÆÂâçËøô‰∏§‰∏™‰∫ãÁâ©ÈÉΩÊåÅÊúâËØ•Ë°åÁöÑ SÈîÅ ÔºåËÄåÂ¶ÇÊûúÈúÄË¶ÅËé∑Âèñ XÈîÅÔºåÂàôÊòØÈúÄË¶ÅÂØπÊñπÈáäÊîæSÈîÅ„ÄÇÂ¶Ç‰∏ãÂõæÔºö ÁÆÄÂçïÂ§çÁé∞Ê≠•È™§Ôºö‰∏∫‰∫ÜÈ™åËØÅ‰∏äÈù¢ÁöÑÊÉÖÂÜµÔºåÊàëÂáÜÂ§áÂ¶Ç‰∏ãÂá†‰∏™SQLÔºö 12345678910111213141516171819## ‰∫ãÁâ©‰∏Ästart transaction ;begin;select * from test_lock.test where user_id='h' lock in share mode;## ‰∫ãÁâ©‰∫åstart transaction ;begin;select * from test_lock.test where user_id='h' lock in share mode;## ‰∫ãÁâ©‰∏ÄÂÜçÊâßË°åupdate test_lock.`test` set user_name='abc' where user_id = 'h';## ‰∫ãÁâ©‰∫åÂÜçÊâßË°åupdate test_lock.`test` set user_name='abc' where user_id = 'h';## Ê≠§Êó∂‰∫ãÁâ©‰∫åÂ∞±‰ºöÊèêÁ§∫Ê≠ªÈîÅ ËøôÊòØÂõ†‰∏∫‰∫ãÁâ©‰∏ÄÂíå‰∫ãÁâ©‰∫åÈÉΩÂú®Á≠âÂæÖÂØπÊñπÈáäÊîæSÈîÅÔºå‰ΩÜÊòØÈÉΩ‰∏çËÇØÈáäÊîæÔºå‰∫éÊòØÊ≠ªÈîÅÂèëÁîü‰∫Ü„ÄÇ ÊÉÖÂÜµ‰∫å ‰∏â‰∏™‰∫ãÁâ©ÈÉΩÊâßË°åÂêå‰∏Ä‰∏™InsertËØ≠Âè•ÔºåÁ¨¨‰∏Ä‰∏™‰∫ãÁâ©ÁÑ∂ÂêéÊèê‰∫§ Ê≠§Êó∂Á¨¨‰∫å‰∏™‰∫ãÁâ©ÂíåÁ¨¨‰∏â‰∏™‰∫ãÁâ©ÈÉΩ‰ºöÊèêÁ§∫‰∏ªÈîÆÂÜ≤Á™ÅÔºåÂπ∂Êó†Ê≠ªÈîÅÂá∫Áé∞„ÄÇ ÊÄªÁªìËøôÁßçÊÉÖÂÜµ‰∏ãÁöÑÊ≠ªÈîÅÊòØÁî±‰∫é SÈîÅ ÂçáÁ∫ßÂà∞ XÈîÅÂØºËá¥ÁöÑ‰∏ÄÁßçÊ≠ªÈîÅÔºåÂú®Âπ≥Â∏∏ÁöÑ‰∏öÂä°‰ª£Á†Å‰∏≠Â∫îËØ•Â∞ΩÈáèÈÅøÂÖçÂπ∂ÂèëÊèíÂÖ•‰∏Ä‰∏™‰∏ªÈîÆ„ÄÇ]]></content>
      <categories>
        <category>Mysql</category>
      </categories>
      <tags>
        <tag>Mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VueÈáåÈù¢Áõ∏ÂêåÈ°µÈù¢‰∏çÂêåURLÁöÑÂà∑Êñ∞Ëß£ÂÜ≥ÊñπÊ°à]]></title>
    <url>%2F2019%2F07%2F24%2FVue%E9%87%8C%E9%9D%A2%E7%9B%B8%E5%90%8C%E9%A1%B5%E9%9D%A2%E4%B8%8D%E5%90%8CURL%E7%9A%84%E5%88%B7%E6%96%B0%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%2F</url>
    <content type="text"><![CDATA[ÈöèÁùÄÈ°πÁõÆÁöÑÊî∂Â∞æÔºå‰ΩøÁî®Vue‰πüÊúâÂ§ßÊ¶Ç‰∏§‰∏™ÊúàÊó∂Èó¥‰∫ÜÔºåÂú®ËøôÊúüÈó¥‰πüÊâçÈÅáÂà∞Ëøá‰∫Ü‰∏çÂ∞ëÁöÑÈóÆÈ¢òÔºå‰ªäÂ§©Â∞±Êù•ËØ¥‰∏ã Vue ‰∏≠URL‰∏çÂêå‰ΩÜÊòØÈ°µÈù¢Áõ∏ÂêåÁöÑËß£ÂÜ≥ÂäûÊ≥ï„ÄÇ Áé∞Ë±°ÂÅáËÆæÊúâ‰∏§‰∏™URLÔºåÈÉΩÂØπÂ∫îÁöÑÊòØ‰∏Ä‰∏™Áõ∏ÂêåÁöÑ Vue È°µÈù¢ÔºåURLÂàÜÂà´ÊòØ view/account/1 Âíå edit/account/1ÔºåÊ≠§Êó∂Â¶ÇÊûúÁî± view/account/1 Ë∑≥ËΩ¨Ëá≥ edit/account/1Ôºå‰Ω†‰ºöÂèëÁé∞È°µÈù¢ÊòØ‰∏ç‰ºöÂà∑Êñ∞ÁöÑÔºå ‰ªéËÄåÁõ¥Êé•ÂΩ±Âìç‰∫ÜÊï¥‰ΩìÁöÑÂäüËÉΩ„ÄÇ ‰∫éÊòØÂéªÁΩë‰∏äÂØªÊâæËß£ÂÜ≥ÊñπÊ°àÔºåÂú®‰∏Ä‰∏™ github ÁöÑ issue ÈáåÈù¢ÔºåÁúãÂà∞‰πüÊúâ‰∫∫ÂèçÊò†ËøáËøô‰∏™ÈóÆÈ¢òÔºå‰∏çËøá‰ΩúËÄÖÁöÑÂõûÂ§çÊòØÈááÁî® reload ÊñπÂºèËøõË°åÂº∫Âà∂Âà∑Êñ∞Ôºå‰πüÂ∞±ÊòØÁ±ª‰ºº‰∫é F5 ÈÇ£Ê†∑ÔºåÈ°µÈù¢È¶ñÂÖà‰ºöÁôΩ‰∏Ä‰∏ãÔºåÁÑ∂ÂêéÂ∞±ÂÜçÂá∫Áé∞ÂÖÉÁ¥†„ÄÇËøôÊ†∑ËôΩÁÑ∂ÂèØ‰ª•ÂÆûÁé∞È°µÈù¢‰∏äÂÖÉÁ¥†ÁöÑ‰∏Ä‰∫õÂä†ËΩΩÔºå‰ΩÜÊòØÂêåÊó∂ÂÆÉÁöÑÂºäÁ´Ø‰πü‰ΩìÁé∞Âá∫Êù•‰∫ÜÔºåÂ∞±ÊòØÂØπÁî®Êà∑ÊûÅÂ∫¶ÁöÑ‰∏çÂèãÂ•ΩÔºåÊâÄ‰ª•ÊúÄÂêéÊàë‰ª¨ÊâçÁî®‰∫Ü‰∏ÄÁßçReloadÁöÑÊñπÂºèÊù•ËøõË°åÂà∑Êñ∞ÁöÑ„ÄÇ È¶ñÂÖàÊòØÂú®App.vueÈáåÈù¢Ê∑ªÂä†Â¶Ç‰∏ã‰ª£Á†ÅÔºö 1234567891011121314151617181920212223242526272829303132&lt;template&gt; &lt;div id="app"&gt; &lt;router-view v-if='isAlive'/&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: 'App', provide () &#123; return &#123; reload: this.reload &#125;; &#125;, data () &#123; return &#123; isAlive: true &#125;; &#125;, methods: &#123; reload () &#123; this.isAlive = false; this.$nextTick(function () &#123; this.isAlive = true; &#125;); &#125; &#125;&#125;;&lt;/script&gt;&lt;style&gt;&lt;/style&gt; ÁÑ∂ÂêéÂÜçÈúÄË¶ÅÂà∑Êñ∞ÁöÑ Vue È°µÈù¢Áõ¥Êé•ÈÄöËøá inject Êù•ËøõË°å‰ΩøÁî®Âç≥ÂèØÔºö 12345678910111213141516171819202122232425262728293031323334353637 &lt;template&gt; &lt;div&gt; &lt;el-form :model="account"&gt; &lt;el-form-item label="ÂßìÂêç" prop="name" &gt; &lt;el-input v-model="account.name" placeholder="ËØ∑ËæìÂÖ•"&gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label="Âπ¥ÈæÑ" prop="age" &gt; &lt;el-input v-model="account.age" placeholder="ËØ∑ËæìÂÖ•"&gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label="ÊÄßÂà´" prop="gender" &gt; &lt;el-input v-model="account.gender" placeholder="ËØ∑ËæìÂÖ•"&gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;/el-form&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; inject: ['reload'], data () &#123; return &#123; account: &#123; name: null, age: null, gender: null &#125; &#125;; &#125;, watch: &#123; '$route' (to, from) &#123; this.reload(); &#125; &#125;&#125;;&lt;/script&gt;&lt;style&gt;&lt;/style&gt; ÊúÄÂêé‰æøÂèØ‰ª•ÂÆûÁé∞È°µÈù¢Áä∂ÊÄÅÁöÑÈáçÊñ∞Âä†ËΩΩ„ÄÇ]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰∏∫‰ªÄ‰πàSpringÂÆòÊñπÊé®ËçêÈÄöËøáÊûÑÈÄ†Âô®Ê≥®ÂÖ•]]></title>
    <url>%2F2019%2F07%2F22%2F%E4%B8%BA%E4%BB%80%E4%B9%88Spring%E5%AE%98%E6%96%B9%E6%8E%A8%E8%8D%90%E9%80%9A%E8%BF%87%E6%9E%84%E9%80%A0%E5%99%A8%E6%B3%A8%E5%85%A5%2F</url>
    <content type="text"><![CDATA[‰∏ÄÊàë‰ª¨Âú®‰ΩøÁî®SpringÁöÑÊó∂ÂÄôÔºåÊúÄÊñπ‰æøÁöÑÂ∞±ÊòØÂÆÉÁöÑIOCÔºàÊéßÂà∂ÂèçËΩ¨ÔºâÔºå‰πüÂ∞±ÊòØÊâÄÊúâÁöÑBeanÈÉΩ‰∫§Áî± SpringËøõË°åÁÆ°ÁêÜÔºåÈÇ£‰πàÊàë‰ª¨Âú®ÁúãÁΩë‰∏äÁöÑÊñáÁ´†ÊàñËÄÖËá™Â∑±Âú®ÂÜô‰ª£Á†ÅÁöÑÊó∂ÂÄôÁªèÂ∏∏‰ºöÂÉèËøôÊ†∑ÂÜôÔºö 123456789101112131415161718192021222324@Servicepublic class TestService &#123; @Autowired TestDao TestDao; public void getInfo()&#123; &#125;&#125;@Servicepublic class TestService &#123; private final TestDao TestDao; @Autowired public TestService(TestDao TestDao)&#123; this.TestDao = TestDao; &#125; public void getInfo()&#123; &#125;&#125; ‰ΩÜÊòØË≤å‰ººËÆ∏Â§ö‰∫∫ÈÉΩ‰ºö‰ΩøÁî®Á¨¨‰∏ÄÁßçÊñπÂºèÔºåÂõ†‰∏∫ËøôÊ†∑ÁÆÄÂçïÊñπ‰æøÔºåÂ¶ÇÊûúÊòØÈááÁî®Á¨¨‰∫åÁßçÁöÑËØùÔºåÊØè‰∏ÄÊ¨°Êñ∞Â¢ûÂä†‰∏Ä‰∏™beanÔºåÈÉΩÈúÄË¶ÅÂú®ÊûÑÈÄ†Âô®ÁöÑÂÖ•ÂèÇ‰∏äÈù¢Âä†‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂ∞±‰ºöÊòæÂæóÊúâÁÇπÈ∫ªÁÉ¶„ÄÇ ‰ΩÜÊòØÂ¶ÇÊûúÈááÁî®Á¨¨‰∏Ä‰∏™ÂÜôÊ≥ïÔºåÂ∞±‰ºöÂú®IDEAÈáåÈù¢Âá∫Áé∞‰∏Ä‰∏™ÊèêÁ§∫Ôºö springÂÆòÊñπÂª∫ËÆÆÈÄöËøáÊûÑÈÄ†Âô®ÁöÑÊñπÂºèËøõË°åÊ≥®ÂÖ• ËøôÂèàÊòØ‰∏∫‰ªÄ‰πàÂë¢Ôºü SpringÂÆòÊñπÂØπ‰∫éSetterÊ≥®ÂÖ•ÂíåÊûÑÈÄ†Âô®Ê≥®ÂÖ•ÁöÑÁúãÊ≥ï ‰∫åÂú®springbootÈáåÈù¢ÔºåÊúÄÂ∏∏Áî®ÁöÑÊ≥®ÂÖ•ÊñπÂºèÊúâ‰∏§ÁßçÔºö‰∏ÄÁßçÊòØÊûÑÈÄ†Âô®Ê≥®ÂÖ•Ôºå‰∏ÄÁßçÊòØfieldÊ≥®ÂÖ• Âú®‰∏ä‰∏ÄÈÉ®ÂàÜÁöÑ‰ª£Á†ÅÈáåÈù¢ÔºåÁ¨¨‰∏Ä‰∏™ÊòØ Field Ê≥®ÂÖ•ÔºåÁ¨¨‰∫å‰∏™ÊòØÊûÑÈÄ†Âô®Ê≥®ÂÖ•ÔºåÊó¢ÁÑ∂Ëøô‰∏§ÁßçÊñπÂºèSpringÈÉΩÊîØÊåÅÔºåÈÇ£‰πàÂà∞Â∫ïËøô‰∏§ÁßçÊúâ‰ªÄ‰πàÂå∫Âà´Âë¢Ôºü FieldÊ≥®ÂÖ•ËøôËæπÊñ∞Âª∫‰∏§‰∏™ÊµãËØïÁ±ªÔºö 1234567891011121314151617@Servicepublic class A &#123; public void sayA()&#123; System.out.println("A"); &#125;&#125;@Servicepublic class B &#123; @Autowired A a; public B()&#123; a.sayA(); &#125;&#125; Ê≠§Êó∂‰Ω†ÂêØÂä®SpringÁöÑËØùÔºåÂ∞±‰ºöÂá∫Áé∞‰∏Ä‰∏™Á©∫ÊåáÈíàÁöÑÂºÇÂ∏∏ÔºåÂ¶ÇÊûúÈúÄË¶ÅÈÅøÂÖçÁöÑËØùÔºåÂàôÂøÖÈ°ªÊòØÁ±ª A ÂÖàËøõË°åÂàùÂßãÂåñÔºåÁÑ∂ÂêéÂÜçÂàùÂßãÂåñ B „ÄÇÔºàÂΩìÁÑ∂SpringÂÆòÊñπ‰πüÊèê‰æõ‰∫ÜÂæàÂ§öÊñπÂºèÊù•ÊéßÂà∂ Bean ÁöÑÂàùÂßãÂåñÈ°∫Â∫èÔºå‰ΩÜÊòØÂíåÊú¨ÁØáÊñáÁ´†Êó†ÂÖ≥Ôºâ ÊûÑÈÄ†Âô®Ê≥®ÂÖ•1234567891011@Servicepublic class B &#123; private final A a; @Autowired public B(A a)&#123; a.sayA(); this.a = a; &#125;&#125; Ê≠§Êó∂SpringÁöÑÈ°πÁõÆÂ∞±‰ºöÊ≠£Â∏∏ÁöÑÂêØÂä®ÔºåÈÇ£‰πà‰∏∫‰ªÄ‰πàÂêåÊ†∑ÁöÑ‰ª£Á†ÅÔºå‰∏Ä‰∏™ÈÄöËøáÊûÑÈÄ†Âô®Ê≥®ÂÖ•Ôºå‰∏Ä‰∏™ÈÄöËøáFieldÊ≥®ÂÖ•Ôºå‰∏§ËÄÖÁöÑÁªìÊûúÁõ∏Â∑ÆËøô‰πàÂ§ßÂë¢Ôºü ‰∏âÂÆòÊñπ‰πãÊâÄ‰ª•Áé∞Âú®Êé®Ëçê‰ΩøÁî®ÊûÑÈÄ†Âô®Ê≥®ÂÖ•ÔºåÊòØÂõ†‰∏∫ÈÄöËøáÊûÑÈÄ†Âô®Ê≥®ÂÖ•ÊòØÂèØ‰ª•Èò≤Ê≠¢ Á©∫ÊåáÈíàÂºÇÂ∏∏ÔºåÂêåÊó∂ÂèØ‰ª•Á°Æ‰øùÁöÑÊòØË¢´ÂºïÁî®ÁöÑ Bean ÔºåÂÆÉÁöÑÂºïÁî®ÊòØ‰∏çÂèØ‰ª•ÂèòÁöÑÔºåÊâÄ‰ª•ËøôÂèØËÉΩÊòØSpringÂÆòÊñπÂõ¢ÈòüÁöÑ‰∏Ä‰∫õÊùÉË°°ÁÇπÂêßÂΩìÁÑ∂Êó©ÊúüÁöÑÊó∂ÂÄôÔºåSpringÊõæÊé®ËçêËøá‰ΩøÁî®SetterÊ≥®ÂÖ•Ôºå‰∏çÂ§üÁé∞Âú®ÂèØËÉΩSpringÂèØËÉΩËßâÂæóÊûÑÈÄ†Âô®Ê≥®ÂÖ•ÊØîËæÉÂ•Ω„ÄÇ]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2019Âπ¥07ÊúàÁ¨¨‰∏ÄÂë®ÊÄªÁªì]]></title>
    <url>%2F2019%2F07%2F07%2F2019%E5%B9%B407%E6%9C%88%E7%AC%AC%E4%B8%80%E5%91%A8%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[Ëøô‰∏ÄÂë®‰∏ªË¶ÅÂ≠¶‰π†Â¶Ç‰∏ãÔºö VueÂú®‰ΩøÁî®ElementUIÁöÑÊó∂ÂÄôÊúâ‰∏Ä‰∏™el-selectÊ†áÁ≠æÔºåÊàë‰ª¨Êúâ‰∏Ä‰∏™ÈúÄÊ±ÇÂ∞±ÊòØÈúÄË¶ÅÂú®‰∏ãÊãâÂàóË°®ÁöÑÊó∂ÂÄôËøòÈúÄË¶ÅËøáÊª§Âá∫ÁâπÂÆöÁöÑÈÄâÈ°πÔºå‰ΩÜÊòØElementUIÂÆòÊñπÈªòËÆ§ÁöÑËøáÊª§Âç¥Âè™ËÉΩÊîØÊåÅ label ÁöÑÁ≠õÈÄâÔºåÊâÄ‰ª•Ëøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶ÅÈáçÊñ∞filter-methodÊñπÊ≥ïÊù•ËøáÊª§Âá∫ÊâÄÈúÄË¶ÅÁöÑÈÄâÈ°π„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263&lt;template&gt; &lt;div&gt; &lt;el-form v-model="selectData"&gt; &lt;el-select v-model="selectData.value" placeholder="ËØ∑ÈÄâÊã©" filterable :filter-method="search" prop="value"&gt; &lt;el-option v-for="item in options" :key="item.value" :label="item.label" :value="item.value"&gt; &lt;span style="float: left"&gt;&#123;&#123; item.label &#125;&#125;&lt;/span&gt; &lt;span style="float: right; font-size: 15px"&gt;&#123;&#123; item.value &#125;&#125;&lt;/span&gt; &lt;/el-option&gt; &lt;/el-select&gt; &lt;/el-form&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; data () &#123; return &#123; options: [&#123; value: 'ÈÄâÈ°π1', label: 'ÈªÑÈáëÁ≥ï' &#125;, &#123; value: 'ÈÄâÈ°π2', label: 'ÂèåÁöÆÂ•∂' &#125;, &#123; value: 'ÈÄâÈ°π3', label: 'Ëöµ‰ªîÁÖé' &#125;, &#123; value: 'ÈÄâÈ°π4', label: 'ÈæôÈ°ªÈù¢' &#125;, &#123; value: 'ÈÄâÈ°π5', label: 'Âåó‰∫¨ÁÉ§È∏≠' &#125;], selectData: &#123; value: '' &#125; &#125;; &#125;, methods: &#123; search (val) &#123; let copyObj2 = JSON.parse(JSON.stringify(this.options)); if (val != null &amp;&amp; val !== '') &#123; this.options = copyObj2.filter((item) =&gt; &#123; if (item.value.indexOf(val) &gt; -1) &#123; debugger; return true; &#125; else &#123; return false; &#125; &#125;); &#125; else &#123; this.options = copyObj2; &#125; &#125; &#125;&#125;;&lt;/script&gt;&lt;style&gt;&lt;/style&gt; ‰ΩÜÊòØÂêéÊù•ÂèàËØ¥Ë¶ÅÊääÈÄâÊã©ÁöÑÂÄºÁªôÂè¶‰∏Ä‰∏™Â≠óÊÆµ‚Ä¶‰∫éÊòØÊàëÂ∞±Âú®searchÊñπÊ≥ï‰∏ãÈù¢Âä†‰∫Ü‰∏ÄË°åthis.otherField = val„ÄÇ„ÄÇÂêéÊù•ÂâçÁ´ØÊääÈÇ£‰∏ÄË°åÁªôÂéªÈô§‰∫Ü„ÄÇ„ÄÇ„ÄÇÁÑ∂Âêé‰øÆÊîπ‰∏∫Â¶Ç‰∏ã‰ª£Á†Å„ÄÇ 123456&lt;el-select v-model="selectData.value" placeholder="ËØ∑ÈÄâÊã©" filterable :filter-method="(val)=&gt;search(val,()=&gt;&#123;this.otherField=val&#125;)" prop="value"&gt; search (val, callback) &#123; callback(); // ‰∏ÄÊ†∑ÁöÑ‰ª£Á†Å &#125; ÂêéÊù•Â∞±Ê≤°ÁÆ°‰∫ÜÔºå‰∏çËøáÁé∞Âú®ËßâÂæóËøôÊ†∑ÂÜôÁöÑËØùÊúâÂ•ΩÂ§Ñ‰πüÊúâÂùèÂ§Ñ„ÄÇÂ•ΩÂ§ÑÂ∞±ÊòØÂØπ‰∫éÂ¶ÇÊûúÂè™ÊúâÂæàÂ∞ëÁöÑÂ≠óÊÆµÂèòÂä®ÁöÑËØùÔºåËøôÊ†∑ÊîπÊó†ÁñëÁöÑÂ•ΩÁöÑÔºåÂõ†‰∏∫ÂèØ‰ª•ÈÅøÂÖçÂú®ÊñπÊ≥ïÈáåÈù¢ÂÜôÂ§™Â§öÁöÑÂ≠óÊÆµÔºå‰ΩÜÊòØ‰∏ÄÊó¶ÈáçÂ§çÁöÑÂ§öËµ∑Êù•ÔºåÊàëËßâÂæóÂú®ÊñπÊ≥ïÈáåÈù¢ÂÜôËµ∑Êù•ÊØîËæÉÂ•Ω„ÄÇ ElasticSearchÁöÑ‰πêËßÇÈîÅÊú∫Âà∂ÔºàÂêåÊ≠•ÁöÑÂùëÔºâ‰∏äÂë®Áî±‰∫éÂú®ÂÅöË°•ÂÅøÊú∫Âà∂ÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÂØπEs‰∏Ä‰∫õÊï∞ÊçÆËøõË°åÈ¢ëÁπÅÁöÑÊõ¥Êñ∞Ôºå‰ΩÜÊòØÂú®ÊµãËØïÁöÑÊó∂ÂÄô ES ÁªèÂ∏∏‰ºöËøîÂõûversion conflict ÔºåÂêéÊù•ÊêúÁ¥¢‰∫Ü‰∏Ä‰∏ãÔºåÂèëÁé∞ ES ÂØπ‰∫éÊØè‰∏Ä‰∏™Êï∞ÊçÆÈÉΩÊúâ‰∏Ä‰∏™_versionÂ≠óÊÆµ ËÄåÊàë‰ª¨ÂØπ‰∏Ä‰∏™Êï∞ÊçÆÂ¶ÇÊûúÈ¢ëÁπÅÊõ¥Êñ∞ÁöÑËØùÔºåÂ∞±‰ºöÂØºËá¥ESÁöÑ‰πêËßÇÈîÅÁîüÊïàÔºå‰ªéËÄåÊõ¥Êñ∞Â§±Ë¥•„ÄÇÂ¶Ç‰∏ãÔºö Áî±‰∫éÊàë‰ΩøÁî®ÁöÑESÁâàÊú¨ÊòØES6.7.1ÔºåËøôÊó∂ÂÄôÂè™ËÉΩÈÄöËøáif_seq_noÊù•Ëß£ÂÜ≥‰∫ÜÔºåÂõ†‰∏∫ÂΩìÊàëÂ∞ùËØï‰ΩøÁî®Â§ñÈÉ®ÁâàÊú¨Âè∑ÊéßÂà∂ÁöÑÊó∂ÂÄôÔºåÁ™ÅÁÑ∂ÂèëÁé∞„ÄÇ„ÄÇ„ÄÇESÂÆòÊñπÁ´üÁÑ∂‰∏çÊé®Ëçê‰∫Ü ËøôÈÉ®ÂàÜÂêéÁª≠ÂÜôÊñáÁ´†ÁªßÁª≠ÂàÜÊûê‰∫Ü„ÄÇ„ÄÇ„ÄÇ ESÁöÑÂçáÁ∫ß‰ª•ÂèäÂü∫Á°ÄÊéíÂ∫èÊñπÊ≥ïÁî±‰∫éÈúÄË¶ÅÂàóË°®ÁöÑÊï∞ÊçÆËøõË°åÁªºÂêàÊü•ËØ¢ÁÑ∂ÂêéÊéíÂ∫èÔºåËøô‰∏™Êó∂ÂÄôÂ∞±Âè™ËÉΩÊâãÂÜôÊéíÂ∫èÊñπÊ≥ï‰∫ÜÔºåÂ•ΩÂú®ESÁöÑÂÆòÊñπÊñáÊ°£ÂÄí‰πüËØ¶ÁªÜÔºåÊâÄ‰ª•ÂèÇÁÖßÂÆòÊñπÁöÑÊñáÊ°£ÔºåËá™Â∑±Êë∏Á¥¢‰∫Ü‰∏§‰∏™Â∞èÊó∂ÂÄí‰πüÂÜôÂá∫Êù•‰∫Ü„ÄÇ 12345String script = "‰Ω†ÁöÑÊéíÂ∫èËÑöÊú¨";Script inline = new Script(script);SearchRequest searchRequest = new SearchRequest("‰Ω†ÁöÑÁ¥¢Âºï");SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();sourceBuilder.sort(new ScriptSortBuilder(inline,ScriptSortBuilder.ScriptSortType.NUMBER).order(SortOrder.DESC)); RabbitmqÁî±‰∫éMqÁéØÂ¢ÉÈúÄË¶ÅÁªü‰∏Ä‰∏ãÔºåÊâÄ‰ª•ËøôÊÆµÊó∂Èó¥‰πüÊääËá™Â∑±Ë¥üË¥£ÁöÑMqÂèàfanoutÊîπ‰∏∫direct‰∫Ü„ÄÇÊîπÂä®Ëµ∑Êù•Âà∞‰πüÊ≤°Âï•ÈöæÂ∫¶ÔºåÂ∞±ÊòØÂú®convertAndSendÊñπÊ≥ïÈáåÈù¢Â§öÂä†‰∫Ü‰∏Ä‰∏™routeKeyÂèÇÊï∞ËÄåÂ∑≤ ÁÆóÊ≥ïËøôÂë®‰∏ªË¶ÅÊòØÂú® Leetcode ‰∏äÂÜô‰∫ÜÁÇπArrayÁöÑ‰∏Ä‰∫õÁÆóÊ≥ïÈ¢òÔºåÂõ†‰∏∫ÈÉΩÊòØÁÆÄÂçïÁöÑÈ¢òÁõÆÔºåÊöÇÊó∂ËøòÊú™ÈÅáÂà∞‰∏Ä‰∫õÊØîËæÉÁªèÂÖ∏ÁöÑÈ¢òÁõÆ ÊÄªÁªìÂë®‰∏âÊâçÊÉ≥Ëµ∑Êù•ËØïËØïËÆ∞ÂΩï‰∏ãÔºå‰∏ãÂë®‰º∞ËÆ°‰ºöËØ¶ÁªÜÁÇπ]]></content>
      <categories>
        <category>Âë®ËÆ∞</category>
      </categories>
      <tags>
        <tag>Âë®ËÆ∞</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Es6.XÂçáÁ∫ßÂà∞Es7.xÁöÑÂèòÂåñ]]></title>
    <url>%2F2019%2F07%2F07%2FEs6-X%E5%8D%87%E7%BA%A7%E5%88%B0Es7-x%E7%9A%84%E5%8F%98%E5%8C%96%2F</url>
    <content type="text"><![CDATA[ElasticSearch6.ÂçáÁ∫ßËá≥ElasticSearch7.xÁöÑ‰∏Ä‰∫õÂèòÂåñ Áî±‰∫éÊúÄËøëÈúÄË¶ÅÂ∞ÜEs6.xÂçáÁ∫ßËá≥Es7ÔºåÊâÄ‰ª•Ê≠£Â•ΩËÆ∞ÂΩï‰∏ãÂú®ÂçáÁ∫ßËøáÁ®ã‰∏≠ÈÅáÂà∞ÁöÑ‰∏Ä‰∫õÈóÆÈ¢òÔºå‰ª•‰æø‰ª•ÂêéÁøªÈòÖ„ÄÇ Âå∫Âà´Es7.xÁ≥ªÂàó‰∏≠ÂèñÊ∂à‰∫ÜTypeÂú®Es6Á≥ªÂàó‰πãÂâçÔºåÂàõÂª∫‰∏Ä‰∏™Á¥¢ÂºïÊòØÈúÄË¶Åindex,typeËøô‰∏§‰∏™Áº∫‰∏Ä‰∏çÂèØÁöÑÔºå‰æãÂ¶ÇÂ¶Ç‰∏ãËØ∑Ê±ÇÔºö 1234567891011121314151617181920 PUT localhost:9200/es_6 &#123; "mappings":&#123; "index_type":&#123; "properties":&#123; "message":&#123; "type":"text" &#125; &#125; &#125; &#125;&#125;response:&#123; "acknowledged": true, "shards_acknowledged": true, "index": "es_6"&#125; ‰ΩÜÊòØÂú® ES7 ÁâàÊú¨‰∏≠ÔºåÂ¶ÇÊûúÂÜç‰ΩøÁî®Ëøô‰∏™ Json ‰∏≤ÁöÑËØùÊòØ‰ºöË∑ëÂá∫‰∏Ä‰∏™ÂºÇÂ∏∏ÁöÑÔºåÂ¶Ç‰∏ãÔºö 1234567891011121314151617&#123; "error": &#123; "root_cause": [ &#123; "type": "mapper_parsing_exception", "reason": "Root mapping definition has unsupported parameters: [index_type : &#123;properties=&#123;message=&#123;type=text&#125;&#125;&#125;]" &#125; ], "type": "mapper_parsing_exception", "reason": "Failed to parse mapping [_doc]: Root mapping definition has unsupported parameters: [index_type : &#123;properties=&#123;message=&#123;type=text&#125;&#125;&#125;]", "caused_by": &#123; "type": "mapper_parsing_exception", "reason": "Root mapping definition has unsupported parameters: [index_type : &#123;properties=&#123;message=&#123;type=text&#125;&#125;&#125;]" &#125; &#125;, "status": 400&#125; ÈÇ£‰πàÊ≠§Êó∂Âú®ES7ÁâàÊú¨‰∏≠ÔºåÂª∫Á´ã mapping ÊòØ‰∏çÈúÄË¶Å Type ÁöÑÔºåÊâÄ‰ª•ÂÖ∂Á¥¢Âºï‰øÆÊîπ‰∏∫‰∏ãÔºö 1234567891011121314151617PUT localhost:9201/es_7&#123; "mappings":&#123; "properties":&#123; "message":&#123; "type":"text" &#125; &#125; &#125;&#125;&#123; "acknowledged": true, "shards_acknowledged": true, "index": "es_7"&#125; ES7.x‰∏≠Êñ∞Âª∫Êï∞ÊçÆÂú® ES6 ‰∏≠Áî±‰∫éÊúâ‰∏Ä‰∏™ Type Á±ªÂûãÔºåÂõ†Ê≠§Âú®Êñ∞Âª∫Êï∞ÊçÆÁöÑÊó∂ÂÄôÈÉΩÈúÄË¶ÅÁ©øÂÖ•‰∏Ä‰∏™TypeÔºåÈÇ£‰πàÂú® Es7 ÈáåÈù¢ÔºåÁî±‰∫é Type Ë¢´ÂèñÊ∂à‰∫ÜÔºåÊâÄ‰ª•Âú® ES7 ÈáåÈù¢ÁöÑÊñ∞Â¢ûÂ∞±ÈúÄË¶ÅÁ®çÂæÆ‰øÆÊîπ‰∏ã‰∫Ü„ÄÇ 1234567891011121314151617181920POST localhost:9201/es_7/_create/1&#123; "message":"a"&#125;&#123; "_index": "es_7", "_type": "_doc", "_id": "1", "_version": 1, "result": "created", "_shards": &#123; "total": 2, "successful": 1, "failed": 0 &#125;, "_seq_no": 0, "_primary_term": 1&#125; ÂÖ∂ÂÆûËøòÊúâÂè¶‰∏ÄÁßçÂÜôÊ≥ïÔºö 1POST localhost:9201/es_7/_doc/2?op_type=create Ââ©‰∏ãÁöÑ‰∏Ä‰∫õÊîπÂä®ÂèØËÉΩÂ∞±ÊòØÊñ∞ÁöÑ‰∏öÂä°‰∏äÁ∫øÈúÄË¶ÅÂØπÊüê‰∫õÊï∞ÊçÆËøõË°åÈ¢ëÁπÅÁöÑÊîπÂä®ÔºåËÄåESÁöÑ‰πêËßÇÈîÅÊú∫Âà∂ÂØºËá¥ÁªèÂ∏∏Â§±Ë¥•ÔºåËøô‰∏™ÈóÆÈ¢òÂæóÈúÄË¶ÅÂçïÁã¨Â§ÑÁêÜ‰∏ã]]></content>
      <categories>
        <category>ElasticSearch</category>
      </categories>
      <tags>
        <tag>ElasticSearch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vueÈáåÈù¢ÂÜíÂè∑ÂíåÈùûÂÜíÂè∑Âå∫Âà´]]></title>
    <url>%2F2019%2F06%2F27%2Fvue%E9%87%8C%E9%9D%A2%E5%86%92%E5%8F%B7%E5%92%8C%E9%9D%9E%E5%86%92%E5%8F%B7%E5%8C%BA%E5%88%AB%2F</url>
    <content type="text"><![CDATA[vueÈáåÈù¢ÂÜíÂè∑ÂíåÈùûÂÜíÂè∑ÁöÑÂç¥Âà´‰ªäÂ§©Âú®‰ΩøÁî®VueÁöÑÊó∂ÂÄôÔºåÁ™ÅÁÑ∂ÂèëÁé∞‰∫Ü‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂ∞±ÊòØÂú®ÂêéÁ´Ø‰º†ËøáÊù•ÁöÑÂÄºÂõ†‰∏∫ÊòØ‰∏Ä‰∏™booleanÁ±ªÂûãÁöÑÔºå‰ΩÜÊòØÂâçÁ´ØÂèàÈúÄË¶ÅËøõË°åÂ±ïÁ§∫ÔºåÁî±‰∫éÊàë‰ª¨‰ΩøÁî®ÁöÑÊòØElementUIÁöÑËØùÔºå‰∫éÊòØÂèÇÁÖßÂÆòÁΩë‰∏äÂ∞±ÊòØËøôÊ†∑ÂÜôÁöÑÔºö 1234&lt;el-select v-model=&quot;option_boolean&quot;&gt; &lt;el-option label=&quot;1&quot; value=&quot;true&quot;&gt;&lt;/el-option&gt; &lt;el-option label=&quot;2&quot; value=&quot;false&quot;&gt;&lt;/el-option&gt;&lt;/el-select&gt; ‰ΩÜÊòØÊ≠§Êó∂È°µÈù¢‰∏äÂ±ïÁ§∫Âπ∂ÈùûÊòØ 1 Âíå 2 ÔºåËÄåÊòØ true Âíå false„ÄÇÂ¶Ç‰∏ãÔºö ÊåâÁÖßÊ≠£Â∏∏ÁöÑÈÄªËæëÔºåÊ≠§Êó∂Ëøô‰∏™‰∏ãÊãâÊ°ÜÈáåÈù¢ÁöÑÂÄºÂ∫îËØ•ÊòØ1ÔºåËÄå‰∏çÊòØtrue„ÄÇÂ¶ÇÊûúÊ≠§Êó∂‰øÆÊîπ‰∏∫Â¶Ç‰∏ãÂÜôÊ≥ïÔºö 1234&lt;el-select v-model=&quot;option_boolean&quot;&gt; &lt;el-option label=&quot;1&quot; :value=&quot;true&quot;&gt;&lt;/el-option&gt; &lt;el-option label=&quot;2&quot; :value=&quot;false&quot;&gt;&lt;/el-option&gt; &lt;/el-select&gt; Ê≠§Êó∂ÁöÑÈ°µÈù¢Â∞±‰ºöÊòæÁ§∫Ê≠£Â∏∏‰∫Ü„ÄÇ Ëß£ÈáäÂú® Vue ÈáåÈù¢ÔºåÂÜíÂè∑:‰ª£Ë°®ÁöÑÊòØ‰∏Ä‰∏™ÂèåÂêëÁªëÂÆöÔºåÂÖ∂ÂÄºË¶Å‰πàÊòØ‰∏Ä‰∏™ÂèòÈáèÔºåË¶Å‰πàÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåËÄåÊ≠§ Demo ÈáåÈù¢ÔºåÁ¨¨‰∏Ä‰∏™‰æãÂ≠ê‰∏≠Ôºåvalue‰ªÖ‰ªÖÊòØ‰Ωú‰∏∫‰∏Ä‰∏™Â±ûÊÄßÔºåÊâÄ‰ª•ÂÆÉÂè™ËÉΩÊòØÊé•ÂèóÂ≠óÁ¨¶‰∏≤Á±ªÂûãÁ≠â ‰ΩÜÊòØÂú®Á¨¨‰∫å‰∏™‰æãÂ≠êÈáåÈù¢ÔºåÁî±‰∫é‰ΩøÁî®‰∫Ü Vue ÁöÑ‰∏Ä‰∏™ÂèåÂêëÁªëÂÆöÊ®°ÂºèÔºåÊâÄ‰ª•Ê≠§Êó∂‰æøÂèØ‰ª•Ê≠£Á°ÆÁöÑËØÜÂà´Âá∫ boolean Á±ªÂûãÁöÑÂÄº‰∫Ü]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â¶Ç‰ΩïÂØπÂ§ö‰∏™IFËøõË°å‰ºòÂåñÂë¢?]]></title>
    <url>%2F2019%2F06%2F11%2F%E5%A6%82%E4%BD%95%E5%AF%B9%E5%A4%9A%E4%B8%AAIF%E8%BF%9B%E8%A1%8C%E4%BC%98%E5%8C%96%E5%91%A2%2F</url>
    <content type="text"><![CDATA[Âú®È°πÁõÆ‰∏≠Ôºå‰∏çÂèØÈÅøÂÖçÁöÑ‰ºö‰ΩøÁî®Âà∞IFÊù°‰ª∂ÔºåÂ¶ÇÊûú‰ªÖ‰ªÖÊòØÂÅ∂Â∞îËØï‰ΩøÁî®‰ª•‰∏ãÔºåÂÄí‰πüÊó†Â¶®Ôºå‰ΩÜÊòØÂ¶ÇÊûúÂú®È°πÁõÆ‰∏≠Â§ßÈáèÁöÑ‰ΩøÁî®IFÂà§Êñ≠ÔºåÈÇ£‰πà‰ºöÈÄ†ÊàêÈ°πÁõÆÁöÑÊùÇ‰π±Êó†Á´†„ÄÇ]]></content>
  </entry>
  <entry>
    <title><![CDATA[Êï∞ÊçÆÂ∫ìË∞É‰ºò(‰∏Ä)]]></title>
    <url>%2F2019%2F06%2F09%2F%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B0%83%E4%BC%98-%E4%B8%80%2F</url>
    <content type="text"><![CDATA[ÂºÄÁØáÂú®‰∏ä‰∏ÄÁØáÊñáÁ´†‰∏≠ÔºåÊàë‰ª¨Êúâ‰∏Ä‰∏™Ë°®ÔºåÈáåÈù¢ÁöÑÂÜÖÂÆπÂ¶Ç‰∏ãÔºö 123456789101112131415mysql&gt; select * from org_copy;+--------+-----------------+---------------+----------+| org_id | org_name | org_parent_id | org_copy |+--------+-----------------+---------------+----------+| 1 | ‰∏ÄÁ∫ßÈÉ®Èó® | 0 | 1 || 2 | ‰∏Ä‰∏ÄÁ∫ßÈÉ®Èó® | 0 | 2 || 3 | 1.1Á∫ßÈÉ®Èó® | 1 | 3 || 4 | 1.2Á∫ßÈÉ®Èó® | 1 | 4 || 5 | 1.1.1ÈÉ®Èó® | 3 | 5 || 6 | 1.1.2ÈÉ®Èó® | 3 | 6 || 7 | 1.1.1.1ÈÉ®Èó® | 5 | 7 || 8 | 1.3ÈÉ®Èó® | 1 | 8 || 9 | 1.2.1ÈÉ®Èó® | 4 | 9 |+--------+-----------------+---------------+----------+9 rows in set (0.00 sec) ËøôÂ∫îËØ•ÊòØ‰∏Ä‰∏™ÂæàÂü∫Êú¨ÁöÑ‰∏Ä‰∏™mysqlË°®ÔºåÂêåÊó∂Êàë‰ª¨Âú®‰∏ä‰∏ÄÁØáÊñáÁ´†‰∏≠Ôºå‰πüÊâßË°å‰∫ÜÂ¶Ç‰∏ãSQL„ÄÇ 1234567mysql&gt; explain SELECT * FROM org_copy WHERE org_name&gt;'‰∏ÄÁ∫ßÈÉ®Èó®' and org_parent_id=1;+----+-------------+----------+------------+-------+---------------+------------+---------+------+------+----------+-----------------------+| id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra |+----+-------------+----------+------------+-------+---------------+------------+---------+------+------+----------+-----------------------+| 1 | SIMPLE | org_copy | NULL | range | index_name | index_name | 768 | NULL | 1 | 11.11 | Using index condition |+----+-------------+----------+------------+-------+---------------+------------+---------+------+------+----------+-----------------------+1 row in set, 1 warning (0.00 sec) ÈÇ£‰πàÂ¶ÇÊûúÊ≠§Êó∂Êàë‰ª¨Êç¢‰∏Ä‰∏™SQLÊù•ËøõË°åÊü•ËØ¢Âë¢? 1234567mysql&gt; explain SELECT * FROM org_copy WHERE org_name&gt;'1' and org_parent_id=1;+----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+| id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra |+----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+| 1 | SIMPLE | org_copy | NULL | ALL | index_name | NULL | NULL | NULL | 9 | 11.11 | Using where |+----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+1 row in set, 1 warning (0.00 sec) Ê≠§Êó∂ÊòØ‰∏çÊòØ‰ºö‰∏ÄËÑ∏ÁñëÊÉë‚Ä¶‰∏∫Âï•ÊàëÁöÑËøô‰∏™SQLÔºåÊòéÊòé‰∏ÄÊ†∑ÂëÄÔºå‰ΩÜÊòØ‰∏∫Âï•Á¨¨‰∏Ä‰∏™Â∞±ÂèØ‰ª•Ëµ∞Á¥¢ÂºïÂë¢???Âõ†‰∏∫Âú®mysqlÈáåÈù¢Ôºå‰ºöÂà§Êñ≠ÂΩìÂâçwhereÊù°‰ª∂Êü•ËØ¢ÁöÑÊï∞ÊçÆÈáèÔºåÁî±‰∫éÁ¥¢ÂºïÊòØÁî±‰∏Ä‰∏™B+Ê†ëÁöÑÂΩ¢ÂºèÂ≠òÂú®ÔºåÊâÄ‰ª•ÂΩìÈÄöËøáorg_nameÊù•ËøõË°åÊØîËæÉÁ≠õÈÄâÁöÑÊó∂ÂÄôÔºåÊòØÂèØ‰ª•ÂæàÂø´ÁöÑÂÆö‰ΩçÂá∫Â§ßËá¥ÈúÄË¶ÅÊü•ËØ¢ÁöÑÊï∞ÊçÆÈáè„ÄÇ ËÄåÂΩìÊï∞ÊçÆÈáèÂ§ß‰∫é30%ÁöÑÊó∂ÂÄôÔºåmysqlÂ∞±‰ºöÈááÁî®‰∏ÄÁßçÂÖ®Ë°®Êâ´ÊèèÁöÑÊñπÂºèÊù•ËøõË°åÊü•ËØ¢ÔºåËøô‰πüÂ∞±ÊòØ‰∏∫‰ªÄ‰πà‰∏çÂª∫ËÆÆÂú®Âå∫ÂàÜÂ∫¶‰ΩéÁöÑÂ≠óÊÆµ‰∏äÂª∫Á´ãÁ¥¢Âºï‰∫ÜÔºåÂÅáËÆæ‰∏Ä‰∏™Â≠óÊÆµÂè™Êúâ‰∏â‰∏™ÂÄºÊàñËÄÖ‰∏§‰∏™ÂÄºÔºåÈÇ£‰πàÊûÅÊúâÂèØËÉΩmysql‰ºöÁõ¥Êé•ÈÄöËøáÂÖ®Ë°®Êâ´ÊèèÁöÑÊñπÂºèËøõË°åÊü•ËØ¢„ÄÇ Á¥¢ÂºïË¶ÜÁõñËøô‰∏™ÊòØmysqlË∞É‰ºò‰∏≠ÁªèÂ∏∏ÂøΩÁï•ÁöÑ‰∏ÄÁÇπÔºåÁî±‰∫émysqlÂú®Âª∫Á´ãÁ¥¢ÂºïÁöÑÊó∂ÂÄô‰ºö‰∏ÄÊ¨°ÊÄßÂ∞ÜÁ¥¢ÂºïÂ≠óÊÆµÂ≠òÂÖ•Âà∞Á¥¢ÂºïÊ†ë‰∏≠ÔºåÊâÄ‰ª•Â¶ÇÊûúÊàë‰ª¨ÁöÑwhereÊù°‰ª∂‰∏≠ÊâÄÂåÖÂê´ÁöÑÂ≠óÊÆµÂùáÂèØ‰ª•Âú®Á¥¢Âºï‰∏≠ÊâæÂà∞ÁöÑËØùÔºåÈÇ£‰πàmysqlÂ∞±‰ºöÁõ¥Êé•‰ªéÁ¥¢Âºï‰∏≠ÂéªÂèñÊï∞ÊçÆÔºåËÄå‰∏ç‰ºöËøõË°åÂõûË°®„ÄÇ‰æãÂ¶ÇÂ¶Ç‰∏ãSQLÔºö 1234567mysql&gt; explain SELECT org_parent_id FROM org_copy WHERE org_copy=1;+----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+| id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra |+----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+| 1 | SIMPLE | org_copy | NULL | ALL | NULL | NULL | NULL | NULL | 4325 | 10.00 | Using where |+----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+1 row in set, 1 warning (0.00 sec) Áî±‰∫éorg_copyÂ≠óÊÆµÈùûÁ¥¢ÂºïÔºåÊâÄ‰ª•Ê≠§Êó∂Âè™ËÉΩÊòØÈÄöËøáÂõûË°®ÁöÑÊñπÂºèËøõË°åÊü•ËØ¢„ÄÇ ÊÄªÁªì Áî±‰∫émysql‰ºöÂú®Êï∞ÊçÆÈáèÂ§ß‰∫é30%ÁöÑÊó∂ÂÄôËøõË°åÂÖ®Ë°®Êâ´ÊèèÔºåÊâÄ‰ª•ÊúÄÂ•ΩÂ∞±ÊòØ‰∏çË¶ÅÂú®Âå∫ÂàÜÂ∫¶‰ΩéÁöÑÂ≠óÊÆµ‰∏äÂª∫Á´ãÁ¥¢ÂºïÔºåÈÅøÂÖçËøõË°å‰∫ÜÂÖ®Ë°®Êâ´Êèè„ÄÇ ÂØπ‰∫éËøáÊª§Â≠óÊÆµÁöÑ‰ΩøÁî®ÔºåÂ∫îËØ•ÊòØÂ∞ΩÊúÄÂ§ßÁöÑÂä™ÂäõËÆ©SQLÈááÁî®Á¥¢ÂºïË¶ÜÁõñÔºåÂ¶ÇÊûúÊó†Ê≥ïÈÅøÂÖçÁöÑËØùÂ∞±Â∞ΩÈáèËÆ©ÊúÄÂ∑¶ÂéüÂàôÁîüÊïà„ÄÇËøõËÄåÂä†Âø´Êü•ËØ¢ÈÄüÂ∫¶„ÄÇ]]></content>
      <categories>
        <category>Mysql</category>
      </categories>
      <tags>
        <tag>Mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êï∞ÊçÆÂ∫ìÊúÄÂ∑¶ÂéüÂàô‰ª•ÂèäÁêÜËß£]]></title>
    <url>%2F2019%2F06%2F04%2F%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%80%E5%B7%A6%E5%8E%9F%E5%88%99%E4%BB%A5%E5%8F%8A%E7%90%86%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[Êú¨Ê¨°ÁöÑÂÆûÈ™åÊòØÂü∫‰∫éMysql8ÁâàÊú¨„ÄÇÈ¶ñÂÖàÂú®Êï∞ÊçÆÂ∫ì‰∏≠Êúâ‰∏Ä‰∏™Ë°®ÔºåÂÖ∂ÁªìÊûÑÂ¶Ç‰∏ãÔºö12345678910111213mysql&gt; show create table org;+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| Table | Create Table |+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| org | CREATE TABLE `org` ( `org_id` int(5) NOT NULL, `org_name` varchar(255) DEFAULT NULL, `org_parent_id` int(5) DEFAULT NULL, PRIMARY KEY (`org_id`), KEY `index_name` (`org_name`,`org_parent_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8 |+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+1 row in set (0.00 sec) ÂèØ‰ª•ÁúãÂà∞Âú®Ëøô‰∏™Ë°®‰∏≠ÔºåÊúâ‰∏Ä‰∏™‰∏ªÈîÆorg_id‰ª•Âèä‰∏Ä‰∏™ËÅîÂêàÁ¥¢Âºïindex_name„ÄÇÂÖ∂‰ªñÁöÑÂπ∂Êó†ÁâπÂà´‰πãÂ§Ñ„ÄÇ ÊúÄÂ∑¶ÂéüÂàôÂú®MysqlÈáåÈù¢ÔºåÊúâ‰∏Ä‰∏™ÊúÄÂ∑¶ÂéüÂàôÔºåÂÆòÁΩëÁöÑ‰ªãÁªçÂ¶Ç‰∏ãÔºö The name index is an index over the last_name and first_name columns. The index can be used for lookups in queries that specify values in a known range for combinations of last_name and first_name values. It can also be used for queries that specify just a last_name value because that column is a leftmost prefix of the index (as described later in this section). Therefore, the name index is used for lookups in the following queries„ÄÇ Êó¢ÁÑ∂ÊòØÊúÄÂ∑¶ÂéüÂàôÔºåÈÇ£‰πàÂ∞ùËØïÁùÄÂÜô‰∏ÄÊù°SQLÂ¶Ç‰∏ãÔºö1234567mysql&gt; explain SELECT * FROM org WHERE org_name='1' and org_parent_id=1;+----+-------------+-------+------------+------+---------------+------------+---------+-------------+------+----------+-------------+| id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra |+----+-------------+-------+------------+------+---------------+------------+---------+-------------+------+----------+-------------+| 1 | SIMPLE | org | NULL | ref | index_name | index_name | 773 | const,const | 1 | 100.00 | Using index |+----+-------------+-------+------------+------+---------------+------------+---------+-------------+------+----------+-------------+1 row in set, 1 warning (0.01 sec) ÂèØ‰ª•ÁúãÂà∞ÂÖ∂typeÊòØ ref Á±ªÂûãÁöÑÔºå‰∫éÊòØÂéªmysqlÂÆòÁΩëÂØªÊâærefÁ±ªÂûãÁöÑÁ¥¢ÂºïÊòØ‰ªÄ‰πàÔºö All rows with matching index values are read from this table for each combination of rows from the previous tables. ref is used if the join uses only a leftmost prefix of the key or if the key is not a PRIMARY KEY or UNIQUE index (in other words, if the join cannot select a single row based on the key value). If the key that is used matches only a few rows, this is a good join type. Âï•ÊÑèÊÄùÂë¢ÔºåÂ∞±ÊòØÂΩì‰ΩøÁî®ÁöÑÁ¥¢ÂºïÁ¨¶ÂêàÊúÄÂ∑¶ÂéüÂàôÁöÑÊó∂ÂÄôÔºå‰∏îÁ¥¢ÂºïÂç≥‰∏çÊòØ‰∏ªÈîÆ‰πü‰∏çÊòØÂîØ‰∏ÄÁ¥¢Âºï„ÄÇÈÇ£‰πàÂÆÉÊâÄ‰ΩøÁî®ÁöÑÁ±ªÂûãÂ∞±ÊòØref„ÄÇ ÈÇ£Â¶ÇÊûúÂ∞Üorg_nameÂíåorg_parant_idÂèçÁùÄÂë¢?1234567mysql&gt; explain SELECT * FROM org WHERE org_parent_id =1 and org_name='1';+----+-------------+-------+------------+------+---------------+------------+---------+-------------+------+----------+-------------+| id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra |+----+-------------+-------+------------+------+---------------+------------+---------+-------------+------+----------+-------------+| 1 | SIMPLE | org | NULL | ref | index_name | index_name | 773 | const,const | 1 | 100.00 | Using index |+----+-------------+-------+------------+------+---------------+------------+---------+-------------+------+----------+-------------+1 row in set, 1 warning (0.00 sec) ËØ¥Â•ΩÁöÑÊúÄÂ∑¶ÂéüÂàôÂë¢„ÄÇ„ÄÇ„ÄÇÁ¥¢ÂºïÁöÑorg_parent_id‰∏çÊòØÂú®Âè≥ËæπÁöÑÂòõ„ÄÇ ÂÖ∂ÂÆûÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÊó†ËÆ∫org_parent_idÂú®Â∑¶ËæπËøòÊòØÂú®Âè≥ËæπÔºåÂØπ‰∫éÊü•ËØ¢ÁªìÊûúÊù•ËØ¥ÔºåÈÉΩÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇÊó¢ÁÑ∂ÈÉΩÊòØ‰∏ÄÊ†∑ÁöÑÔºåÈÇ£‰πàMysqlÁöÑ‰ºòÂåñÂô®Â∞±Áõ¥Êé•ÊääËØ•Êù°ËØ≠Âè•Áªô‰ºòÂåñÊéâ‰∫ÜÔºåÊâÄ‰ª•‰Ω†‰ºöÂèëÁé∞Êó†ËÆ∫ÊòØorg_nameÂú®Â∑¶ËøòÊòØÂú®Âè≥ËæπÈÉΩÊòØ‰ºö‰ΩøÁî®Âà∞Á¥¢Âºï„ÄÇ ÈÇ£ÂÜçÊç¢‰∏ÄÊù°SQLÂë¢Ôºü1234567mysql&gt; explain SELECT * FROM org WHERE org_name&gt;'1' and org_parent_id=1;+----+-------------+-------+------------+-------+---------------+------------+---------+------+------+----------+--------------------------+| id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra |+----+-------------+-------+------------+-------+---------------+------------+---------+------+------+----------+--------------------------+| 1 | SIMPLE | org | NULL | index | index_name | index_name | 773 | NULL | 9 | 11.11 | Using where; Using index |+----+-------------+-------+------------+-------+---------------+------------+---------+------+------+----------+--------------------------+1 row in set, 1 warning (0.00 sec) ËøôÂ∞±Â∞¥Â∞¨‰∫Ü‚Ä¶Áî±‰∫éÂú®ÊúÄÂ∑¶ÂéüÂàôÈáåÈù¢ÔºåËã•Ââç‰∏Ä‰∏™Á¥¢Âºï‰ΩøÁî®‰∫Ü&gt;„ÄÅ&lt;Á≠âÊØîËæÉÁ¨¶ÁöÑÊó∂ÂÄôÔºåÂêéÈù¢‰∏Ä‰∏™ÊòØ‰∏ç‰ºöËøõË°åÁ¥¢ÂºïÊü•ËØ¢ÁöÑÔºåËøô‰∏™Ë∑üMysqlÁöÑÁ¥¢ÂºïÁªìÊûÑÊúâÂÖ≥Á≥ª(ÊñáÁ´†ÂêéÈù¢‰ºö‰ªãÁªç)Ôºå‰ΩÜÊòØ‰∏∫Âï•ËøôÈáåÂèà‰ºöËµ∞Á¥¢ÂºïÂë¢? Ëøô‰∏™Êó∂ÂÄôÁî±‰∫éÂú®ExtraÈáåÈù¢ÁúãÂà∞‰∫ÜUsing indexÔºåÁåúÊµãÈöæÈÅìÊòØÂèëÁîü‰∫ÜÁ¥¢ÂºïË¶ÜÁõñ? ‰∫éÊòØÊàëÂèàÂª∫Á´ã‰∫Ü‰∏Ä‰∏™Ë°®„ÄÇ‰∫éÊòØÁ´ãÂç≥ÂèàÊñ∞Âª∫‰∫Ü‰∏ÄÂº†Ë°®1234567891011121314mysql&gt; show create table org_copy;+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| Table | Create Table |+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| org_copy | CREATE TABLE `org_copy` ( `org_id` int(5) NOT NULL, `org_name` varchar(255) DEFAULT NULL, `org_parent_id` int(5) DEFAULT NULL, `org_copy` varchar(255) DEFAULT NULL, PRIMARY KEY (`org_id`), KEY `index_name` (`org_name`,`org_parent_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8 |+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+1 row in set (0.00 sec) ËøôÊó∂ÔºåÊàëÂÜçÊ¨°ÊâßË°åÂàöÊâçÁöÑsql„ÄÇ1234567mysql&gt; explain SELECT * FROM org_copy WHERE org_name&gt;'‰∏ÄÁ∫ßÈÉ®Èó®' and org_parent_id=1;+----+-------------+----------+------------+-------+---------------+------------+---------+------+------+----------+-----------------------+| id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra |+----+-------------+----------+------------+-------+---------------+------------+---------+------+------+----------+-----------------------+| 1 | SIMPLE | org_copy | NULL | range | index_name | index_name | 768 | NULL | 1 | 11.11 | Using index condition |+----+-------------+----------+------------+-------+---------------+------------+---------+------+------+----------+-----------------------+1 row in set, 1 warning (0.00 sec) ÁúãËµ∑Êù•ÁöÑÁ°ÆÊòØÁî±‰∫éÂèëÁîü‰∫ÜÁ¥¢ÂºïË¶ÜÁõñÔºåÂØºËá¥‰∫ÜËôΩÁÑ∂‰∏çÁ¨¶ÂêàÊúÄÂ∑¶ÂéüÂàôÔºå‰ΩÜÊòØËøòÊòØËµ∞‰∫Ü‰∏Ä‰∏™Á¥¢Âºï„ÄÇ Á¥¢ÂºïË¶ÜÁõñ‰ªÄ‰πàÊòØÁ¥¢ÂºïË¶ÜÁõñÂë¢?Âú®orgËøô‰∏™Ë°®ÈáåÈù¢ÔºåÊúâ‰∏â‰∏™Â≠óÊÆµÔºå‰ΩÜÊòØËøô‰∏â‰∏™Â≠óÊÆµÂàÜÂà´ÊòØ‰∏Ä‰∏™‰∏ªÈîÆÁ¥¢ÂºïÂíå‰∏Ä‰∏™ËÅîÂêàÁ¥¢ÂºïÔºåÁî±‰∫éÊàëÊü•ËØ¢ÁöÑÂ≠óÊÆµÂ∞±ÂåÖÂê´Âú®Á¥¢ÂºïÈáåÈù¢ÔºåÈÇ£‰πàËÄåÊÅ∞Â•ΩËøô‰∏™Ë°®ÁöÑÊâÄÊúâÂ≠óÊÆµÈÉΩÂú®Á¥¢ÂºïÈáåÈù¢ÔºåËøôÂ∞±ÂØºËá¥‰∫ÜmysqlÂèØ‰ª•Áõ¥Êé•‰ªéÁ¥¢ÂºïÈáåÈù¢Ëé∑ÂèñÂà∞ÊâÄÈúÄË¶ÅÁöÑÊï∞ÊçÆÔºåÈÇ£‰πàÊ≠§Êó∂Â∞±‰∏çÂøÖË¶ÅÂÜçÂéªÈÄöËøáÁ£ÅÁõòIOÂéªÊü•ËØ¢È¢ùÂ§ñÁöÑÂ≠óÊÆµÊï∞ÊçÆ‰∫Ü„ÄÇ‰πüÂ∞±‰∏çÈúÄË¶ÅËøõË°å ÁªßÁª≠ÂõûÂà∞ÊúÄÂ∑¶ÂéüÂàôÔºåÁî±‰∫éÊúÄÂ∑¶ÂéüÂàôË¶ÅÊ±ÇÂú®ËÅöÂêàÁ¥¢ÂºïÈáåÈù¢ÔºåÊØè‰∏Ä‰∏™ÂàóÊòØË¶Å‰∏∫‰∏Ä‰∏™Á≠âÂÄºËøûÊé•„ÄÇÂç≥ÔºåÂ¶ÇÊûúorg_name‰ΩøÁî®‰∫ÜÈùûÁ≠âÂÄºËøûÊé•ÔºåÈÇ£‰πàÂ∞±‰ºöÂØºËá¥org_parent_idÊó†Ê≥ï‰ΩøÁî®ÊúÄÂ∑¶ÂéüÂàô„ÄÇ‰æãÂ≠êÂ¶Ç‰∏ãÔºöËã•org_parent_id‰ΩøÁî®ÈùûÁ≠âÂÄºËøûÊé•Ôºå‰∏∫‰∫ÜÈÅøÂÖçÁ¥¢ÂºïË¶ÜÁõñÂØπSQLÁöÑÂΩ±ÂìçÔºåÊâÄ‰ª•Ê≠§Ê¨°ÁöÑSQLÂú® copyË°®ÈáåÈù¢ÊâßË°å„ÄÇ1234567mysql&gt; explain SELECT * FROM org_copy WHERE org_name='1' and org_parent_id&gt;1;+----+-------------+----------+------------+-------+---------------+------------+---------+------+------+----------+-----------------------+| id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra |+----+-------------+----------+------------+-------+---------------+------------+---------+------+------+----------+-----------------------+| 1 | SIMPLE | org_copy | NULL | range | index_name | index_name | 773 | NULL | 1 | 100.00 | Using index condition |+----+-------------+----------+------------+-------+---------------+------------+---------+------+------+----------+-----------------------+1 row in set, 1 warning (0.00 sec) ÂèØ‰ª•ÁúãÂà∞Á°ÆÂÆûÊòØ‰ΩøÁî®‰∫ÜËÅöÂêàÁ¥¢ÂºïÔºåÂêåÊó∂ÊúÄÂêé‰∏ÄÂàóÁöÑUsing index condition‰πüË°®ÊòéÔºåËøôÊù°Êü•ËØ¢ËØ≠Âè•‰ºöÂÖàÈÄöËøáÁ¥¢ÂºïÊù•ËøáÊª§Âá∫Á¨¶ÂêàÁöÑÊï∞ÊçÆÔºåÁÑ∂Âêé‰ªéËøáÊª§Âá∫Êù•ÁöÑÊï∞ÊçÆÈáåÈù¢Âú®‰ΩøÁî®Êàë‰ª¨ÁöÑwhereÊù°‰ª∂ËøõË°å‰∫åÊ¨°ËøáÊª§ÔºåÊúÄÁªàÊâæÂá∫Á¨¶ÂêàÁöÑÊï∞ÊçÆ„ÄÇ Ëß£ÈáäÂú®MysqlÈáåÈù¢ÔºåÁ¥¢ÂºïÊòØ‰ª•B+Ê†ëÁöÑÂΩ¢ÂºèÂÆûÁé∞ÁöÑÔºåËÄåÁ¥¢ÂºïÂèàÂàÜ‰∏∫‰∏ÄÁ∫ßÁ¥¢Âºï(‰∏ªÈîÆ)Âíå‰∫åÁ∫ßÁ¥¢Âºï(ËØ•ÊñáÁ´†‰∏≠ÁöÑindex_name)ÔºåÂÖ∂ÂÆûÂú®InnoDBÈáåÈù¢Ôºå‰∫åÁ∫ßÁ¥¢ÂºïÁöÑÂè∂Â≠êËäÇÁÇπÊâÄÂ≠òÊîæÁöÑÊï∞ÊçÆÂ∞±ÊòØ‰∏ªÈîÆÁ¥¢ÂºïÊâÄÂØπÂ∫îÁöÑÂú∞ÂùÄÔºåËøô‰πüÁß∞‰πã‰∏∫ÂõûË°®„ÄÇÂõûÂà∞ÊñáÁ´†‰∏≠Êù•ÔºåÂú®ËøôÁØáÊñáÁ´†‰∏≠‰ªãÁªçÁöÑindex_nameÁ¥¢ÂºïÈáåÈù¢ÔºåmysqlÊòØÊ†πÊçÆÁ¥¢ÂºïÂàóÁöÑÈ°∫Â∫èÔºå‰∏Ä‰∏™‰∏Ä‰∏™Âú®Á¥¢ÂºïÈáåÈù¢ËøõË°åÊü•ÊâæËøáÊª§ÔºåÂ¶ÇÊûúËØ•Á¥¢ÂºïÂú®Êüê‰∏ÄÂàóÊñ≠ÂºÄ‰∫ÜÔºå‰æãÂ¶ÇÁ¥¢ÂºïAÁöÑÂàóÊòØ(A„ÄÅB„ÄÅC)Ôºå‰ΩÜÊòØÂú®SQLÈáåÈù¢Âç¥ÊòØwhere A =&#39;a&#39; and C=&#39;c&#39;ÔºåÊ≠§Êó∂Â∞±‰ºöÂè™‰ΩøÁî®ËØ•Á¥¢ÂºïAÁöÑAÂàóÔºåËøô‰∏™Ë∑üB+Ê†ëÁöÑÁâπÁÇπÊúâÂÖ≥„ÄÇ1234567891011121314151617181920212223mysql&gt; show create table index_test;+------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| Table | Create Table |+------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| index_test | CREATE TABLE `index_test` ( `a` int(5) NOT NULL, `b` varchar(255) DEFAULT NULL, `c` int(5) DEFAULT NULL, `d` varchar(255) DEFAULT NULL, `f` varchar(255) DEFAULT NULL, PRIMARY KEY (`a`), KEY `index_name` (`b`,`c`,`d`)) ENGINE=InnoDB DEFAULT CHARSET=utf8 |+------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+1 row in set (0.00 sec)mysql&gt; EXPLAIN SELECT * FROM `index_test` WHERE b='b' and d='d';+----+-------------+------------+------------+------+---------------+------------+---------+-------+------+----------+-----------------------+| id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra |+----+-------------+------------+------------+------+---------------+------------+---------+-------+------+----------+-----------------------+| 1 | SIMPLE | index_test | NULL | ref | index_name | index_name | 768 | const | 1 | 50.00 | Using index condition |+----+-------------+------------+------------+------+---------------+------------+---------+-------+------+----------+-----------------------+1 row in set, 1 warning (0.00 sec) ÂèØ‰ª•ÁúãÂà∞refÂ∞±‰∏Ä‰∏™constÔºåÊâÄ‰ª•Âü∫Êú¨ÂèØ‰ª•Êé®ÊµãÁõÆÂâçÂè™Áî®‰∫ÜbÂàóÔºåÈÇ£‰πàÊç¢ÊàêWHERE b=&#39;b&#39; and c=&#39;c&#39;Âë¢?1234567mysql&gt; EXPLAIN SELECT * FROM `index_test` WHERE b='b' and c='c';+----+-------------+------------+------------+------+---------------+------------+---------+-------------+------+----------+-------+| id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra |+----+-------------+------------+------------+------+---------------+------------+---------+-------------+------+----------+-------+| 1 | SIMPLE | index_test | NULL | ref | index_name | index_name | 773 | const,const | 1 | 100.00 | NULL |+----+-------------+------------+------------+------+---------------+------------+---------+-------------+------+----------+-------+1 row in set, 1 warning (0.00 sec) ÊâÄÊúâÂØπ‰∫é‰ΩøÁî®ÊúÄÂ∑¶ÂéüÂàôÊù•ËøõË°åË∞É‰ºòÁöÑËØùÔºåÈ¶ñÂÖàÂ∫îËØ•Ê≥®ÊÑèÁöÑÊòØÁ¥¢ÂºïÂàóÊúÄÂ•ΩÈÉΩÊòØÁ≠âÂÄºËøûÊé•ÔºåÂπ∂‰∏î‰∏≠ÈÄîÊúÄÂ•Ω‰∏çË¶ÅÊúâ‰ªª‰ΩïÁöÑÊñ≠Ë£Ç„ÄÇËøôÊ†∑ÊâçËÉΩÂèëÊå•Âá∫ËÅîÂêàÁ¥¢ÂºïÁöÑ‰ºòÂäø]]></content>
  </entry>
  <entry>
    <title><![CDATA[ElementUI‰ΩøÁî®rulesÈÅáÂà∞ÁöÑ‰∏Ä‰∫õÈóÆÈ¢ò]]></title>
    <url>%2F2019%2F05%2F30%2FElementUi%E4%BD%BF%E7%94%A8rules%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Ëøô‰∫õÂ§©‰∏ÄÁõ¥Âú®Ë∏©VueÁöÑÂùë‚Ä¶‰ªäÂ§©ÈÅáÂà∞ÁöÑ‰∏Ä‰∏™ÈóÆÈ¢òÊòØÂú®‰∏Ä‰∏™Áà∂ÁªÑ‰ª∂‰∏≠ÔºåÂ∞ÜÊüê‰∫õÊï∞ÊçÆÈÄöËøáprops‰º†ÈÄíÁªôÂ≠êÁªÑ‰ª∂ÔºåÂêåÊó∂Âú®Â≠êÁªÑ‰ª∂ÈáåÈù¢‰πüÊúâÁõ∏Â∫îÁöÑ‰∏Ä‰∫õrulesËßÑÂàôÔºå‰ΩÜÊòØÂú®ÂÆûÈôÖÁöÑÂºÄÂèë‰∏≠ÔºåÂç¥ÂèëÁé∞Â≠êÁªÑ‰ª∂ÁöÑrulesÂπ∂Êú™ÁîüÊïà‚Ä¶ÂèçËÄå‰∏ÄÁõ¥ÊèêÁ§∫ÂØπÂ∫îÁöÑ messageÔºåÂêéÊù•ÊâçÂèëÁé∞ÊòØË∑ü ElementUI ÁöÑpropÊúâÂÖ≥„ÄÇ È¶ñÂÖàÁúã‰∏ÄÊÆµ‰ª£Á†Å:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778&lt;template&gt;&lt;div&gt; &lt;p&gt;ËØ•DemoÊòØ‰∏∫‰∫ÜÊµãËØïVue‰∏≠ruleÂíåpropÁöÑ‰∏çÂêå&lt;/p&gt; &lt;el-form :model="vehicles"&gt; &lt;el-form-item label="ÂÖ¨ÂÖ±Ê±ΩËΩ¶ËΩ¶ËΩÆ‰∏™Êï∞" prop="bus.wheel" :rules="&#123;required: true,message: 'ËØ∑ËæìÂÖ•ÂÖ¨ÂÖ±Ê±ΩËΩ¶ËΩ¶ËΩÆ‰∏™Êï∞'&#125;"&gt; &lt;el-input v-model="vehicles.bus.wheel" placeholder="ËØ∑ËæìÂÖ•"&gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label="ÂÖ¨ÂÖ±Ê±ΩËΩ¶Âè∏Êú∫È©æÁÖß" prop="bus.driver.license" :rules="&#123;validator: licenseCheck ,trigger:'blur'&#125;"&gt; &lt;el-input v-model="vehicles.bus.driver.license" placeholder="ËØ∑ËæìÂÖ•"&gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label="ÂÖ¨ÂÖ±Ê±ΩËΩ¶ËΩ¶ËΩÆ‰∏™Êï∞" prop="bus.driver.years"&gt; &lt;el-input v-model="vehicles.bus.driver.years" placeholder="ËØ∑ËæìÂÖ•"&gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;car :car="vehicles.car"&gt;&lt;/car&gt; &lt;/el-form&gt;&lt;/div&gt;&lt;/template&gt;&lt;script&gt;import Car from './Car';export default &#123; components: &#123; Car &#125;, data () &#123; return &#123; vehicles: &#123; bus: &#123; wheel: null, driver: &#123; license: null, years: null &#125; &#125;, car: &#123; wheel: null, driver: &#123; license: null, years: null &#125; &#125;, train: &#123; wheel: null, driver: &#123; license: null, years: null &#125; &#125; &#125;, person: &#123; child: &#123; year: null &#125; &#125; &#125;; &#125;, methods: &#123; licenseCheck (rule, value, callback) &#123; let m = this.car; console.log(m); debugger; if (value != null) &#123; if (value != 'A') &#123; callback(new Error('ÂøÖÈ°ªAÁÖß')); &#125; else &#123; callback(); &#125; &#125; &#125;, init () &#123; console.log(this.car); &#125; &#125;&#125;;&lt;/script&gt;&lt;style&gt;&lt;/style&gt; Ê≠§Êó∂Âú®Ëøô‰∏™ÁªÑ‰ª∂‰∏≠Ôºå‰∏ÄÂàáÈÉΩÊòØÊ≠£Â∏∏ÁöÑÔºå‰ΩÜÊòØ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÈ°πÁõÆÈáåÈù¢ÔºåÊòØ‰∏çÂèØËÉΩÂ∞ÜÊâÄÊúâÁöÑÂÖÉÁ¥†ÈÉΩÂ†ÜÁßØÂú®‰∏Ä‰∏™È°µÈù¢‰∏≠ÔºåÈÇ£Ê†∑ÁöÑËØù‰ª•ÂêéÁöÑÁª¥Êä§Â∞±‰ºöÈùûÂ∏∏ÁöÑÈ∫ªÁÉ¶„ÄÇÊâÄ‰ª•Ê≠§Êó∂Â∞±ÈúÄË¶Å‰∏Ä‰∏™Â≠êÁªÑ‰ª∂ÔºåÁÑ∂ÂêéÂ∞ÜÁà∂ÁªÑ‰ª∂‰∏≠‰∏Ä‰∫õÊï∞ÊçÆ‰º†ÈÄíËá≥Â≠êÁªÑ‰ª∂„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ã:12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;template&gt; &lt;div&gt; &lt;p&gt;Â∞èÊ±ΩËΩ¶Â≠êÁªÑ‰ª∂&lt;/p&gt; &lt;el-form-item label="Â∞èÊ±ΩËΩ¶ËΩ¶ËΩÆ‰∏™Êï∞" prop="wheel" :rules="&#123;required: true,message: 'ËØ∑ËæìÂÖ•ÂÖ¨ÂÖ±Ê±ΩËΩ¶ËΩ¶ËΩÆ‰∏™Êï∞'&#125;"&gt; &lt;el-input v-model="car.wheel" placeholder="ËØ∑ËæìÂÖ•"&gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label="Â∞èÊ±ΩËΩ¶Âè∏Êú∫È©æÁÖß" prop="driver.license" :rules="&#123;validator: licenseCheck ,trigger:'blur'&#125;"&gt; &lt;el-input v-model="car.driver.license" placeholder="ËØ∑ËæìÂÖ•"&gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label="Â∞èÊ±ΩËΩ¶ËΩ¶ËΩÆ‰∏™Êï∞" prop="driver.years"&gt; &lt;el-input v-model="car.driver.years" placeholder="ËØ∑ËæìÂÖ•"&gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; props: &#123; car: &#123; type: Object, default: function () &#123; return &#123;&#125;; &#125; &#125; &#125;, methods: &#123; licenseCheck (rule, value, callback) &#123; let m = this.car; console.log(m); debugger; if (value != null) &#123; if (value &lt;= 'D') &#123; callback(new Error('ÂøÖÈ°ªCÁÖß‰ª•‰∏ä')); &#125; else &#123; callback(); &#125; &#125; &#125;, init () &#123; console.log(this.car); &#125; &#125;, mounted () &#123; this.init(); &#125;&#125;;&lt;/script&gt;&lt;style&gt;&lt;/style&gt; ÂΩìÁÑ∂Âú®Ëøô‰∏™È°µÈù¢ÈáåÈù¢Ôºå‰∏ÄÂàáÈÉΩÊòØÂèØ‰ª•Ê≠£Â∏∏ËæìÂÖ•ÁöÑ‚Ä¶Â∞±ÊòØrulesÊó†Ê≥ï‰ΩøÁî®„ÄÇÁî±‰∫éËá™Â∑±ÊâçÊòØÂàöÂàöÂºÄÂßãÊé•Ëß¶vueÂíåElementUIÔºåÊâÄ‰ª•ÂØπvueÈáåÈù¢ÁöÑ‰∏Ä‰∫õ‰ΩøÁî®ÊäÄÂ∑ßËøò‰∏çÊòØÂæàÁÜüÊÇâÔºåËøô‰∏™Êó∂ÂÄôÁúã‰∫Ü‰∏ãÁà∂ÁªÑ‰ª∂ÈáåÈù¢ÁöÑpropÂíåv-modelÔºåÂèëÁé∞propÈÉΩÊòØÊØîv-modelÂ∞ë‰∏Ä‰∏™ÂâçÁºÄ‚Ä¶ÊâÄ‰ª•‰ª•‰∏∫Âú®Â≠êÁªÑ‰ª∂ÈáåÈù¢‰πüÊòØËøôÊ†∑..ÂÖ∂ÂÆûÂêéÊù•ÊâçÂèëÊñ∞Ëøô‰∏™„ÄÇ ÁÑ∂ÂêéÂÜçÂéªÊü•ÁúãElementUIÁöÑÂÆòÁΩëÔºåÂèëÁé∞ prop Ë°®ÂçïÂüü model Â≠óÊÆµÔºåÂú®‰ΩøÁî® validate„ÄÅresetFields ÊñπÊ≥ïÁöÑÊÉÖÂÜµ‰∏ãÔºåËØ•Â±ûÊÄßÊòØÂøÖÂ°´ÁöÑ string ‰º†ÂÖ• Form ÁªÑ‰ª∂ÁöÑ model ‰∏≠ÁöÑÂ≠óÊÆµ ‰∫éÊó∂ÂÄíÁà∂ÁªÑ‰ª∂‰∏≠Áúã‰∫Ü‰∏ãÔºåÂèëÁé∞el-formÁ°ÆÂÆûÊúâ:modelÔºåÁÑ∂ÂêéÂèÇÁÖß‰∫Ü‰∏ãElementUIÁöÑ‰ªãÁªç‚Ä¶Á™ÅÁÑ∂ÊÉ≥Âà∞ÊòØ‰∏çÊòØpropÂ∑≤ÁªèËá™Âä®ÁöÑÂ∞Ü:modelÁöÑÂØπË±°Â∏¶ËøáÊù•‰∫Ü‚Ä¶ÂêéÊù•Âú®Â≠êÁªÑ‰ª∂‰∏≠ËøõË°å‰∫ÜÊµãËØïÔºå‰øÆÊîπÂêéÂ¶Ç‰∏ã:12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;template&gt; &lt;div&gt; &lt;p&gt;Â∞èÊ±ΩËΩ¶Â≠êÁªÑ‰ª∂&lt;/p&gt; &lt;el-form-item label="Â∞èÊ±ΩËΩ¶ËΩ¶ËΩÆ‰∏™Êï∞" prop="car.wheel" :rules="&#123;required: true,message: 'ËØ∑ËæìÂÖ•ÂÖ¨ÂÖ±Ê±ΩËΩ¶ËΩ¶ËΩÆ‰∏™Êï∞'&#125;"&gt; &lt;el-input v-model="car.wheel" placeholder="ËØ∑ËæìÂÖ•"&gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label="Â∞èÊ±ΩËΩ¶Âè∏Êú∫È©æÁÖß" prop="car.driver.license" :rules="&#123;validator: licenseCheck ,trigger:'blur'&#125;"&gt; &lt;el-input v-model="car.driver.license" placeholder="ËØ∑ËæìÂÖ•"&gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label="Â∞èÊ±ΩËΩ¶ËΩ¶ËΩÆ‰∏™Êï∞" prop="car.driver.years"&gt; &lt;el-input v-model="car.driver.years" placeholder="ËØ∑ËæìÂÖ•"&gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; props: &#123; car: &#123; type: Object, default: function () &#123; return &#123;&#125;; &#125; &#125; &#125;, methods: &#123; licenseCheck (rule, value, callback) &#123; let m = this.car; console.log(m); debugger; if (value != null) &#123; if (value === 'A') &#123; callback(new Error('ÂøÖÈ°ªAÁÖß')); &#125; else &#123; callback(); &#125; &#125; &#125;, init () &#123; console.log(this.car); &#125; &#125;, mounted () &#123; this.init(); &#125;&#125;;&lt;/script&gt;&lt;style&gt;&lt;/style&gt; ‰∫éÊòØ‰∏ÄÂàáÈÉΩÊ≠£Â∏∏‰∫ÜÔºåÂêéÊù•‰∏∫‰∫ÜÊµãËØïÊòØ‰∏çÊòØÈùûË¶ÅÂú®el-form‰∏äÂä†‰∏Ä‰∏™:modelÊâçËÉΩÊ≠£Â∏∏‰ΩøÁî®rulesÔºåÊâÄ‰ª•Â∞±ÂÜô‰∫Ü‰∏Ä‰∏™el-formÊµãËØï„ÄÇ12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;template&gt;&lt;div&gt; &lt;el-form&gt; &lt;el-form-item label="" prop="person.child.year" :rules="&#123;validator: childCheck ,trigger:'blur'&#125;"&gt; &lt;el-input v-model="person.child.year" placeholder="ËØ∑ËæìÂÖ•Â∞èÂ≠©ÁöÑÂπ¥ÈæÑ" &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;/el-form&gt;&lt;/div&gt;&lt;/template&gt;&lt;script&gt;import Car from './Car';export default &#123; components: &#123; Car &#125;, data () &#123; return &#123; person: &#123; child: &#123; year: null &#125; &#125; &#125;; &#125;, methods: &#123; childCheck (rule, value, callback) &#123; debugger; if (parseInt(value) &gt; 16) &#123; callback(new Error('ËØ∑ËæìÂÖ•16‰ª•‰∏ã')); &#125; else &#123; callback(); &#125; &#125;, init () &#123; console.log(this.car); &#125; &#125;&#125;;&lt;/script&gt;&lt;style&gt;&lt;/style&gt; ÁÑ∂ÂêéÂèëÁé∞Âú®childCheckÈáåÈù¢valueÊÄªÊòØËé∑Âèñ‰∏çÂà∞ÂÄº‚Ä¶‰∏ÄÁõ¥ÊòØ undefinded ,ÁÑ∂ÂêéÂÜçÂú®el-formÈáåÈù¢Âä†‰∏ä‰∏Ä‰∏™:modele‚Ä¶‰øÆÊîπÂ¶Ç‰∏ã:12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;template&gt;&lt;div&gt; &lt;el-form :model="person"&gt; &lt;el-form-item label="" prop="child.year" :rules="&#123;validator: childCheck ,trigger:'blur'&#125;"&gt; &lt;el-input v-model="person.child.year" placeholder="ËØ∑ËæìÂÖ•Â∞èÂ≠©ÁöÑÂπ¥ÈæÑ" &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;/el-form&gt;&lt;/div&gt;&lt;/template&gt;&lt;script&gt;import Car from './Car';export default &#123; components: &#123; Car &#125;, data () &#123; return &#123; person: &#123; child: &#123; year: null &#125; &#125; &#125;; &#125;, methods: &#123; childCheck (rule, value, callback) &#123; debugger; if (parseInt(value) &gt; 16) &#123; callback(new Error('ËØ∑ËæìÂÖ•16‰ª•‰∏ã')); &#125; else &#123; callback(); &#125; &#125;, init () &#123; console.log(this.car); &#125; &#125;&#125;;&lt;/script&gt;&lt;style&gt;&lt;/style&gt; ÁÑ∂ÂêéÂ∞±ÈÉΩÂ•Ω‰∫Ü‚Ä¶ ÊâÄ‰ª•‰ª•ÂêéËøòÊòØÂæóÂ§öÁúãÁúãÂÆòÊñπÊñáÊ°£‚Ä¶]]></content>
  </entry>
  <entry>
    <title><![CDATA[Âú®Vue‰∏≠‰ΩøÁî®filtersÊù•ËøõË°åÂ≠óÂÖ∏ÂÄºÁöÑËΩ¨Êç¢]]></title>
    <url>%2F2019%2F05%2F27%2F%E5%9C%A8Vue%E4%B8%AD%E4%BD%BF%E7%94%A8filters%E6%9D%A5%E8%BF%9B%E8%A1%8C%E5%AD%97%E5%85%B8%E5%80%BC%E7%9A%84%E8%BD%AC%E6%8D%A2%2F</url>
    <content type="text"><![CDATA[Âú®VueÈáåÈù¢ÔºåÁªèÂ∏∏‰ºöÈÅáÂà∞‰∏Ä‰∫õÂ≠óÂÖ∏ÂÄºÁöÑËΩ¨Êç¢ÔºåËÄåËøô‰∫õÂ≠óÂÖ∏ÂÄºÁî±‰∫éÂíåÂêéÁ´ØËøõË°å‰∫ÜÁ∫¶ÂÆöÁöÑÔºå‰∏ÄËà¨‰∏ç‰ºöËΩªÊòìÁöÑÊîπÂèòÔºåÊâÄ‰ª•Âú®ÂâçÂêéÁ´ØÂºÄÂèëÁöÑÈ°πÁõÆ‰∏≠ÔºåËøôÁßçÂ≠óÂÖ∏ÂÄºÊúÄÂ•ΩÁöÑÂÅöÊ≥ïÊòØÂâçÁ´ØÁã¨Á´ãÁöÑ‰øùÂ≠ò‰∏Ä‰ªΩÔºåËá™Â∑±Âú®ÂâçÁ´ØËá™Ë°åËøõË°åÂ§ÑÁêÜ„ÄÇ Êàë‰ª¨ÁöÑÂÅöÊ≥ïÊòØ‰ΩøÁî®VuexÁöÑstoreÈÖçÂêàfiltersÊù•ËøõË°åÂâçÁ´ØÁöÑÂ≠óÂÖ∏ÂÄºËΩ¨ÂåñÔºåÈ¶ñÂÖàÊòØÂú®storeÈáåÈù¢Â∞ÜÂ≠óÂÖ∏ÂÄºËøõË°åÂõ∫ÂÆöÔºåÁÑ∂ÂêéÈÄöËøáfiltersÂú®È°µÈù¢‰∏≠ËøõË°å‰∏Ä‰∏™ËΩ¨Êç¢„ÄÇ ‰ΩøÁî®StoreÂú®VueÈáåÈù¢‰ΩøÁî®storeÈ¶ñÂÖàÈúÄË¶ÅÂÆâË£ÖvuexÔºåÂÆâË£ÖÂÆåÊØï‰πãÂêéÂ∞±ÂèØ‰ª•Áõ¥Êé•Âú®main.jsÈáåÈù¢Áõ¥Êé•ÂºïÁî®‰∫ÜÔºå‰ΩÜÊòØ‰∏∫‰∫ÜÁªü‰∏ÄÁÆ°ÁêÜËøòÊòØÂÜ≥ÂÆöÊñ∞Âª∫‰∏Ä‰∏™storeÊñá‰ª∂Â§πÔºåÁÑ∂ÂêéÂ∞ÜstoreÁõ∏ÂÖ≥ÁöÑÊñá‰ª∂ÂÖ®ÈÉ®Áªü‰∏ÄÂ≠òÊîæÔºåÊñ∞Âª∫ÂÆåÊØï‰πãÂêéÈ°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÔºö1234---App.vue---main.js---store-----index.js Âú®Êñ∞Âª∫ÁöÑindex.jsÈáåÈù¢Â∞ÜVuexÂÆû‰æãÊ≥®ÂÖ•Âà∞Vue‰∏≠ÔºåÂ¶Ç‰∏ã:12345678910111213141516171819import Vue from 'vue';import Vuex from 'vuex';Vue.use(Vuex);const store = new Vuex.Store(&#123; state: &#123; score: [ 60, 80, 100 ], enum: &#123; 60: 'ÂèäÊ†º', 80: 'ËâØÂ•Ω', 100: '‰ºòÁßÄ' &#125; &#125;&#125;);export default store; Âú®ËøôÈáåÊàëÂÆö‰πâ‰∫Ü‰∏§‰∏™ÂèòÈáèÔºå‰∏Ä‰∏™ÊòØscoreÔºå‰∏Ä‰∏™ÊòØenumÔºåscore‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜÂ±ïÁ§∫‰∏Ä‰∫õÂõ∫ÂÆöÁöÑÂÄºÂú®ÂâçÁ´ØÁöÑÂ±ïÁ§∫ÔºåËÄåenumÂàôÊòØÂáÜÂ§á‰ªãÁªçfilterÁöÑ‰ΩøÁî® Êñ∞Âª∫‰∏Ä‰∏™VueÈ°µÈù¢Âú®Ëøô‰∏™È°µÈù¢ÈáåÈù¢Ôºå‰∏ªË¶ÅÊòØ‰ªãÁªçstoreÁöÑÁõ¥Êé•‰ΩøÁî® 123456789101112131415161718192021&lt;template&gt;&lt;div&gt; &lt;div v-for="(item, index) of score" :key="index"&gt; &#123;&#123;item&#125;&#125; &lt;/div&gt;&lt;/div&gt;&lt;/template&gt;&lt;script&gt;import &#123;mapState&#125; from 'vuex';import Vue from 'vue';export default &#123; computed: &#123; ...mapState(['score']) &#125;, &#125;&#125;;&lt;/script&gt;&lt;style&gt;&lt;/style&gt; ÁÑ∂ÂêéÊü•ÁúãÈ°µÈù¢ÔºåÂ∞±‰ºöÂèëÁé∞È°µÈù¢‰∏äÂ∑≤ÁªèÂá∫Áé∞‰∫Ü‰∏â‰∏™ÂàÜÊï∞ÔºåÂàÜÂà´ÊòØÂú®storeÈáåÈù¢ÂÆö‰πâÁöÑ60Ôºå80Ôºå100„ÄÇËøôÁßçÊñπÂºèÊòØÈÄöËøá...mapStateÊù•Ëé∑ÂèñÁöÑstateÈáåÈù¢ÂÆö‰πâÁöÑ‰∏Ä‰∫õÂÄº„ÄÇ ÈÄöËøáËøôÁßçÊñπÂºèÊúâÂá†ÁßçÂ•ΩÂ§ÑÔºåÁ¨¨‰∏ÄÂ∞±ÊòØÂΩìÈúÄË¶ÅÊîπÂèòÂâçÁ´ØÊüê‰∏Ä‰∏™Â≠óÊÆµÁöÑÂÄºÁöÑÊó∂ÂÄôÔºåÂàôÂèØ‰ª•Áõ¥Êé•ÈÄöËøástore‰ªéËÄåÂáèÂ∞ëÂØπÈ°πÁõÆÁöÑÊîπÂä®ÔºåÂÖ∂‰∫åÂ∞±ÊòØÂèØ‰ª•ËÆ©ÂâçÁ´ØÈ°πÁõÆÊõ¥Âä†ËßÑËåÉ„ÄÅÂèØÊâ©Â±ï„ÄÇ ‰ΩøÁî®filterÊù•ËøõË°å‰∏Ä‰∫õÂÄºÁöÑÂ§ÑÁêÜ‰∏∫‰∫ÜÂ§ßÂ§ßÊèêÈ´òÂâçÁ´ØÁöÑÂèØÊâ©Â±ïÊÄßÔºåÈÄöËøá‰ºöÂØπ‰∏Ä‰∫õÂõ∫ÂÆöÁöÑÂÄºËøõË°åËΩ¨Êç¢„ÄÇ‰æãÂ¶ÇÊÄßÂà´ÔºåÂêéÁ´ØÂèØËÉΩ‰ºöËøîÂõû 0 ÊàñËÄÖ 1ÔºåËã•ÂâçÁ´ØÂú®Êüê‰∫õÈ°µÈù¢‰∏äÈúÄË¶ÅÊòæÁ§∫‰∏∫Áî∑|Â•≥ÔºåËÄåÂú®Êüê‰∏Ä‰∫õÈ°µÈù¢‰∏äÈúÄË¶ÅÊòæÁ§∫ÂÖàÁîü|Â•≥Â£´ÔºåÊ≠§Êó∂ÈÄöËøáfilterÊù•ËøõË°åÂ§ÑÁêÜÔºåÂàôÊòØ‰∏Ä‰∏™‰∏çÈîôÁöÑÈÄâÊã©„ÄÇ Êñ∞Âª∫‰∏Ä‰∏™Êñá‰ª∂Â§πÂíåjsÊñá‰ª∂123456---App.vue---main.js---store-----index.js---utils-----filter.js filter.js12345import store from '../store/index';export function enumConvert (val) &#123; return store.state.enum[val];&#125; main.js12345import * as filters from './utils/filter';Object.keys(filters).forEach((key) =&gt; &#123; Vue.filter(key, filters[key]);&#125;); Âú®ËøôÈáåÈÄöËøáVue.filterÂ∞ÜfilterÊñπÊ≥ïËøõË°åÂÖ®Â±ÄÊ≥®ÂÜåÔºåÁÑ∂ÂêéÂú®VueÈ°µÈù¢ËøõË°å‰ΩøÁî®12345678910111213141516171819202122232425&lt;template&gt;&lt;div&gt; &lt;div v-for="(item, index) of score" :key="index"&gt; &#123;&#123;item | convert&#125;&#125; &lt;/div&gt;&lt;/div&gt;&lt;/template&gt;&lt;script&gt;import &#123;mapState&#125; from 'vuex';import Vue from 'vue';export default &#123; computed: &#123; ...mapState(['score']) &#125;, filters: &#123; convert (val) &#123; return Vue.filter('enumConvert')(val); &#125; &#125;&#125;;&lt;/script&gt;&lt;style&gt;&lt;/style&gt; Ê≠§Êó∂È°µÈù¢‰∏äÂ∞±‰ºöÂ±ïÁ§∫ÂèäÊ†ºÔºåËâØÂ•ΩÔºå‰ºòÁßÄ‰∫Ü]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vue‰∏≠nextTickÁöÑ‰ΩøÁî®]]></title>
    <url>%2F2019%2F05%2F20%2FVue%E4%B8%ADnextTick%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[ËøôÊÆµÊó∂Èó¥‰∏ÄÁõ¥Âú®Ë¥üË¥£‰∏Ä‰∏™ÂâçÂêéÁ´ØÈ°πÁõÆÔºåÂâçÁ´ØÊòØVue+ElemeUIÔºåÁî±‰∫éËá™Â∑±‰πãÂâçÂè™ÊòØ‰ºöÁÆÄÂçïÁöÑ‰ΩøÁî® Vue ÁöÑ‰∏Ä‰∫õÂàùÁ∫ßÂëΩ‰ª§ÔºåËá™ÁÑ∂Âè™ËÉΩÊÖ¢ÊÖ¢ÁöÑË∏©ÂùëÔºåÁÑ∂ÂêéÂÜçÂá∫Âùë‚Ä¶.„ÄÇ‰æãÂ¶ÇÊï∞ÁªÑÊó†Ê≥ïËß¶ÂèëVueÁöÑËßÜÂõæÊõ¥Êñ∞ ÂàöÂºÄÂßãÂú®‰ΩøÁî® Vue ÁöÑÊó∂ÂÄôÔºå‰∏ÄÁõ¥ÈÉΩÊòØÂú® created ÊñπÊ≥ïÈáåÈù¢Ëé∑ÂèñÂêéÁ´ØÊï∞ÊçÆËøõË°åÊ∏≤ÊüìÔºåËøôÊ†∑Áî®Ëµ∑Êù•ÂÄí‰πüÊ≤°‰ªÄ‰πàÈóÆÈ¢òÔºåÂè™‰∏çËøá‰ªäÂ§©Á™ÅÁÑ∂ÁúãÂà∞‰∫Ü Vue ÁöÑnextTick ÊñπÊ≥ïÔºåÊÑüËßâÊØî‰πãÂâçÂú®createdÈáåÈù¢ËØ∑Ê±ÇÂêéÁ´ØÊõ¥Âä†È´òÁ∫ß„ÄÇÊâÄ‰ª•È°∫‰æøÁ†îÁ©∂‰∫Ü‰∏ÄÊ≥¢„ÄÇ ‰ΩøÁî®Âú∫ÊôØnextTickÂ∏∏Áî®‰∫éÊï∞ÊçÆÊõ¥Êñ∞ÂêéÔºå‰ΩÜÊòØdomÂÖÉÁ¥†ËøòÊú™ÂÆåÊàêÂà∑Êñ∞ÔºåÂ¶Ç‰ΩïÁêÜËß£Âë¢? Âú® Vue ÈáåÈù¢ÔºåÊõ¥Êñ∞ DOM ÂÖÉÁ¥†ÊòØÂºÇÊ≠•ÁöÑÔºå‰πüÂ∞±ÊòØËØ¥ÂΩìÊàë‰ª¨‰øÆÊîπ‰∫ÜÊï∞ÊçÆ‰πãÂêéÔºåDOMÂÖÉÁ¥†Âπ∂‰∏ç‰ºöÁ´ãÂç≥Ë¢´Âà∑Êñ∞„ÄÇÂèÇËÄÉÊ∑±ÂÖ•ÂìçÂ∫îÂºèÂéüÁêÜ Â¶Ç‰∏ãDemo1234567891011121314151617181920212223242526272829&lt;template&gt;&lt;div&gt;&lt;div :id='id'&gt;&lt;/div&gt;&lt;el-button type="button" @click="nextClick"&gt;ÁÇπÂáªÊµãËØï&lt;/el-button&gt;&lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; data () &#123; return &#123; id: 'q' &#125;; &#125;, mounted () &#123; &#125;, methods: &#123; nextClick () &#123; this.id = 'm'; let obj = document.getElementById(this.id); var _this = this; this.$nextTick(() =&gt; &#123; let one = document.getElementById(_this.id); console.log(one); &#125;); console.log(obj); &#125; &#125;&#125;;&lt;/script&gt; Ê≠§Êó∂‰Ω†Âú®ÊéßÂà∂Âè∞‰ºöÁúãÂà∞objËé∑ÂèñÁöÑÊòØnullÔºåoneËé∑ÂèñÁöÑdomËäÇÁÇπÊâçÊòØÊ≠£Á°ÆÁöÑ„ÄÇ StackOverFlowÂÖ≥‰∫éËøô‰∏™ÁöÑÂè¶‰∏Ä‰∏™Ëß£Èáä]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JDK1.8‰∏ãConcurrentHashMapÁöÑ‰∏Ä‰∫õÁêÜËß£(‰∏Ä)]]></title>
    <url>%2F2019%2F05%2F13%2FJDK1.8%E4%B8%8BConcurrentHashMap%E7%9A%84%E4%B8%80%E4%BA%9B%E7%90%86%E8%A7%A3(%E4%B8%80)%2F</url>
    <content type="text"><![CDATA[Âú®JDK1.8ÈáåÈù¢ÔºåConcurrentHashMapÂú®putÊñπÊ≥ïÈáåÈù¢Â∑≤ÁªèÂ∞ÜÂàÜÊÆµÈîÅÁßªÈô§‰∫ÜÔºåËΩ¨ËÄåÊòØCASÈîÅÂíåsynchronized ConcurrentHashMapÊòØJavaÈáåÈù¢ÂêåÊó∂ÂÖºÈ°æÊÄßËÉΩÂíåÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ‰∏Ä‰∏™ÈîÆÂÄºÂØπÈõÜÂêàÔºåÂêåÂ±û‰∫éÈîÆÂÄºÂØπÁöÑÈõÜÂêàËøòÊúâHashTable‰ª•ÂèäHashMapÔºåHashTableÊòØ‰∏Ä‰∏™Á∫øÁ®ãÂÆâÂÖ®ÁöÑÁ±ªÔºåÂõ†‰∏∫ÂÆÉÁöÑÊâÄÊúâpublicÊñπÊ≥ïÈÉΩË¢´synchronized‰øÆÈ•∞ÔºåËøôÊ†∑Â∞±ÂØºËá¥‰∫Ü‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂ∞±ÊòØÊïàÁéáÂ§™‰Ωé„ÄÇ ËôΩÁÑ∂HashMapÂú®JDK1.8ÁöÑÂπ∂ÂèëÂú∫ÊôØ‰∏ãËß¶ÂèëÊâ©ÂÆπÊó∂‰∏ç‰ºöÂá∫Áé∞ÊàêÁéØ‰∫ÜÔºå‰ΩÜÊòØ‰ºöÂá∫Áé∞Êï∞ÊçÆ‰∏¢Â§±ÁöÑÊÉÖÂÜµ„ÄÇÊâÄ‰ª•Â¶ÇÊûúÈúÄË¶ÅÂú®Â§öÁ∫øÁ®ãÁöÑÊÉÖÂÜµ‰∏ã(Â§öËØªÂ∞ëÂÜô))‰ΩøÁî®MapÈõÜÂêàÁöÑËØùÔºåConcurrentHashMapÊòØ‰∏Ä‰∏™‰∏çÈîôÁöÑÈÄâÊã©„ÄÇ ConcurrentHashMapÂú®JDK1.8ÁöÑÊó∂ÂÄôÂ∞Üput()ÊñπÊ≥ï‰∏≠ÁöÑÂàÜÊÆµÈîÅSegmentÁßªÈô§ÔºåËΩ¨ËÄåÈááÁî®‰∏ÄÁßçCASÈîÅÂíåsynchronizedÊù•ÂÆûÁé∞ÊèíÂÖ•ÊñπÊ≥ïÁöÑÁ∫øÁ®ãÂÆâÂÖ®„ÄÇÂ¶Ç‰∏ã‰ª£Á†ÅÔºö 12345678910111213141516171819202122232425262728293031/** Implementation for put and putIfAbsent */ final V putVal(K key, V value, boolean onlyIfAbsent) &#123; //ÁúÅÁï•Áõ∏ÂÖ≥‰ª£Á†Å for (Node&lt;K,V&gt;[] tab = table;;) &#123; Node&lt;K,V&gt; f; int n, i, fh; if (tab == null || (n = tab.length) == 0) tab = initTable(); else if ((f = tabAt(tab, i = (n - 1) &amp; hash)) == null) &#123; if (casTabAt(tab, i, null, new Node&lt;K,V&gt;(hash, key, value, null))) break; // no lock when adding to empty bin &#125; else if ((fh = f.hash) == MOVED) tab = helpTransfer(tab, f); else &#123; V oldVal = null; synchronized (f) &#123; //ÁúÅÁï•Áõ∏ÂÖ≥‰ª£Á†Å &#125; if (binCount != 0) &#123; if (binCount &gt;= TREEIFY_THRESHOLD) treeifyBin(tab, i); if (oldVal != null) return oldVal; break; &#125; &#125; &#125; addCount(1L, binCount); return null; &#125; ÂèØ‰ª•ÁúãÂà∞Âú®JDK1.8ÈáåÈù¢ÔºåConcurrentHashMapÊòØÁõ¥Êé•ÈááÁî®Êï∞ÁªÑ+ÈìæË°®+Á∫¢ÈªëÊ†ëÊù•ÂÆûÁé∞ÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶Âú®O(1)ÂíåO(n)‰πãÈó¥ÔºåÂ¶ÇÊûúÈìæË°®ËΩ¨Âåñ‰∏∫Á∫¢ÈªëÊ†ë‰∫ÜÔºåÈÇ£‰πàÂ∞±ÊòØO(1)Âà∞O(nlogn)„ÄÇÂú®ËøôÈáåÂÄºÂæó‰∏ÄÊèêÁöÑÊòØÔºåConcurrentHashMap‰ºöÂà§Êñ≠tabAt(tab, i = (n - 1) &amp; hash)ÊòØ‰∏çÊòØ nullÔºåÊòØÁöÑËØùÂ∞±Áõ¥Êé•ÈááÁî®CASËøõË°åÊèíÂÖ•ÔºåËÄåÂ¶ÇÊûú‰∏ç‰∏∫Á©∫ÁöÑËØùÔºåÂàôÊòØsynchronizedÈîÅ‰ΩèÂΩìÂâçNodeÁöÑÈ¶ñËäÇÁÇπÔºåËøôÊòØÂõ†‰∏∫ÂΩìËØ•Node‰∏ç‰∏∫Á©∫ÁöÑÊó∂ÂÄôÔºåËØÅÊòé‰∫ÜÊ≠§Êó∂Âá∫Áé∞‰∫ÜHashÁ¢∞ÊíûÔºåÂ∞±‰ºöÊ∂âÂèäÂà∞ÈìæË°®ÁöÑÂ∞æËäÇÁÇπÊñ∞Â¢ûÊàñËÄÖÁ∫¢ÈªëÊ†ëÁöÑËäÇÁÇπÊñ∞Â¢û‰ª•ÂèäÁ∫¢ÈªëÊ†ëÁöÑÂπ≥Ë°°ÔºåËøô‰∫õÊìç‰ΩúËá™ÁÑ∂ÈÉΩÊòØÈùûÂéüÂ≠êÊÄßÁöÑ„ÄÇ ‰ªéËÄåÂØºËá¥Êó†Ê≥ï‰ΩøÁî®CASÔºåÂΩìNodeÁöÑÂΩìÂâç‰∏ãÊ†á‰∏∫nullÁöÑÊó∂ÂÄôÔºåÁî±‰∫éÂè™ÊòØÊ∂âÂèäÊï∞ÁªÑÁöÑÊñ∞Â¢ûÔºåÊâÄ‰ª•Áî®CASÂç≥ÂèØ„ÄÇ Âõ†‰∏∫CASÊòØ‰∏ÄÁßçÂü∫‰∫éÁâàÊú¨ÊéßÂà∂ÁöÑÊñπÂºèÊù•ÂÆûÁé∞ÔºåËÄåÁ¢∞Êíû‰πãÂêéÁöÑÊìç‰ΩúÂ§™Â§öÔºåÊâÄ‰ª•Áõ¥Êé•Áî®synchronizedÊØîËæÉÂêàÈÄÇ„ÄÇ ConcurrentHashMapÂú®Ëø≠‰ª£Êó∂ÂíåHashMapÁöÑÂå∫Âà´ÂΩì‰∏Ä‰∏™ÈõÜÂêàÂú®Ëø≠‰ª£ÁöÑÊó∂ÂÄôÂ¶ÇÊûúÂä®ÊÄÅÁöÑÊ∑ªÂä†ÊàñËÄÖÂà†Èô§ÂÖÉÁ¥†ÔºåÈÇ£‰πàÂ∞±‰ºöÊäõÂá∫ConcurrentmodificationexceptionÔºå‰ΩÜÊòØÂú®ConcurrentHashMapÈáåÈù¢Âç¥‰∏ç‰ºöÔºå‰æãÂ¶ÇÂ¶Ç‰∏ã‰ª£Á†Å:12345678910111213141516171819202122public static void main(String[] args) &#123; Map&lt;String,String&gt; map = new ConcurrentHashMap&lt;String, String&gt;(); map.put("a","a1"); map.put("b","b1"); map.put("c","c1"); map.put("d","d1"); map.put("e","e1"); Iterator&lt;String&gt; iterator = map.keySet().iterator(); while (iterator.hasNext())&#123; String it = iterator.next(); if("b".equals(it))&#123; map.remove("d"); &#125; System.out.println(it); &#125;&#125;ÊéßÂà∂Âè∞ÊâìÂç∞Â¶Ç‰∏ãÔºöabce ËÄåÂΩì‰Ω†ÊääConcurrentHashMapÊç¢ÊàêHashMapÁöÑÊó∂ÂÄôÔºåÊéßÂà∂Âè∞Â∞±‰ºöÊäõÂá∫‰∏Ä‰∏™ÂºÇÂ∏∏:123456Exception in thread "main" abjava.util.ConcurrentModificationException at java.util.HashMap$HashIterator.nextNode(HashMap.java:1442) at java.util.HashMap$KeyIterator.next(HashMap.java:1466) at xyz.somersames.ListTest.main(ListTest.java:22) ÂéüÂõ†Âú®‰∫éConcurrentHashMapÁöÑnextÊñπÊ≥ïÂπ∂‰∏ç‰ºöÂéªÊ£ÄÊü•modCountÂíåexpectedModCountÔºå‰ΩÜÊòØ‰ºöÊ£ÄÊü•‰∏ã‰∏Ä‰∏™ËäÇÁÇπÊòØ‰∏çÊòØ‰∏∫Á©∫12if ((p = next) == null) throw new NoSuchElementException(); ÂΩìÊàë‰ª¨ËøõË°åremoveÁöÑÊó∂ÂÄôÔºåConcurrentHashMap‰ºöÁõ¥Êé•ÈÄöËøá‰øÆÊîπÊåáÈíàÁöÑÊñπÂºèÊù•ËøõË°åÁßªÈô§Êìç‰ΩúÔºåÂêåÊ†∑ÁöÑÔºå‰πü‰ºöÈîÅ‰ΩèÊï∞ÁªÑÁöÑÂ§¥ËäÇÁÇπÁõ¥Ëá≥ÁßªÈô§ÁªìÊùüÔºåÊâÄ‰ª•Âú®Âêå‰∏Ä‰∏™Êó∂ÂàªÔºåÂè™‰ºöÊúâ‰∏Ä‰∏™Á∫øÁ®ãÂØπÂΩìÂâçÊï∞ÁªÑ‰∏ãÊ†áÁöÑÊâÄÊúâËäÇÁÇπËøõË°åÊìç‰Ωú„ÄÇ ‰ΩÜÊòØÂú®HashMapÈáåÈù¢ÔºånextÊñπÊ≥ï‰ºöËøõË°å‰∏Ä‰∏™checkÔºåËÄåremoveÊìç‰Ωú‰ºö‰øÆÊîπmodCountÔºåÂØºËá¥modCountÂíåexpectedModCount‰∏çÁõ∏Á≠âÔºåÊâÄ‰ª•Â∞±‰ºöÂØºËá¥ConcurrentModificationException Á®çÂæÆ‰øÆÊîπ‰∏ã‰ª£Á†Å:123456789101112131415161718192021public static void main(String[] args) &#123; Map&lt;String,String&gt; map = new ConcurrentHashMap&lt;String, String&gt;(); map.put("a","a1"); map.put("b","b1"); map.put("c","c1"); map.put("d","d1"); map.put("e","e1"); Iterator&lt;String&gt; iterator = map.keySet().iterator(); while (iterator.hasNext())&#123; if("b".equals(iterator.next()))&#123; map.remove("d"); &#125; System.out.println(iterator.next()); &#125;&#125;ÊéßÂà∂Âè∞ÊâìÂç∞Â¶Ç‰∏ã:bdException in thread "main" java.util.NoSuchElementException at java.util.concurrent.ConcurrentHashMap$KeyIterator.next(ConcurrentHashMap.java:3416) at com.xzh.ssmtest.ListTest.main(ListTest.java:25) Âπ∂Âèë‰∏ãÁöÑÂ§ÑÁêÜÁî±‰∫éÊØè‰∏Ä‰∏™NodeÁöÑÈ¶ñËäÇÁÇπÈÉΩ‰ºöË¢´synchronized‰øÆÈ•∞Ôºå‰ªéËÄåÂ∞Ü‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÊñ∞Â¢ûËΩ¨Âåñ‰∏∫‰∏Ä‰∏™ÂéüÂ≠êÊìç‰ΩúÔºåÂêåÊó∂NodeÁöÑvalueÂíånextÈÉΩÊòØÁî±volatileÂÖ≥ÈîÆÂ≠óËøõË°å‰øÆÈ•∞Ôºå‰ªéËÄåÂèØ‰ª•‰øùËØÅÂèØËßÅÊÄß„ÄÇ]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âçï‰æãÊ®°ÂºèÂºïËµ∑ÁöÑ‰∏Ä‰∫õÊÄùËÄÉ]]></title>
    <url>%2F2019%2F05%2F04%2F%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E5%BC%95%E8%B5%B7%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83%2F</url>
    <content type="text"><![CDATA[Âçï‰æãÊ®°ÂºèÈÄöÂ∏∏ÊúâÈ•øÊ±âÂºèÂíåÊáíÊ±âÂºèÔºåÊáíÊ±âÂºè È•øÊ±âÂºèÊó†Á∫øÁ®ãÂÆâÂÖ®ÊÄßÈóÆÈ¢ò12345678public class SingleHungryStyle &#123; private static SingleHungryStyle instince = new SingleHungryStyle(); public static SingleHungryStyle getInstince()&#123; return instince; &#125; &#125; ÊáíÊ±âÂºèÂçïÁ∫øÁ®ã‰∏ã demo1 12345678910public class SingleLazyStyle &#123; private static SingleLazyStyle instance = null; public static SingleLazyStyle getInstance()&#123; if(instance == null)&#123; instance = new SingleLazyStyle(); &#125; return instance; &#125;&#125; ‰∏äËø∞‰ª£Á†ÅÂú®Â§öÁ∫øÁ®ãÁöÑÊÉÖÂÜµ‰∏ã‰ºöÂá∫Áé∞Â§ö‰∏™ÂÆû‰æãÔºåÊâÄ‰ª•ÈúÄË¶ÅËøõË°å‰∏Ä‰∏™Âä†ÈîÅÂà§Êñ≠„ÄÇ Â§öÁ∫øÁ®ã‰∏ã demo2 123456789101112public class SingleLazy1Style &#123; private static SingleLazy1Style instance = null; public static SingleLazy1Style getInstance()&#123; synchronized (SingleLazy1Style.class)&#123; if(instance == null)&#123; instance = new SingleLazy1Style(); &#125; return instance; &#125; &#125;&#125; ‰∏äËø∞‰ª£Á†ÅÂú®Â§öÁ∫øÁ®ãÁöÑÊÉÖÂÜµ‰∏ãËøêË°åÂ§öÊ¨°ÂÅ∂Â∞î‰ºöÂá∫Áé∞‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂ∞±ÊòØCPUÁöÑÈáçÊéíÂ∫è‰ºöÂØºËá¥instanceËøòÊú™ÂÆåÂÖ®ÂàùÂßãÂåñÂ∞±Ë¢´‰ΩøÁî®‰∫Ü„ÄÇ ‰æãÂ¶Ç: Ê≠§Êó∂Á∫øÁ®ã‰∫åÂ∞±ÊúâÂèØËÉΩÊä•ÈîôÔºåÂõ†‰∏∫JVMÂú®ËøõË°å‰∏Ä‰∏™Á±ªÁöÑÂàùÂßãÂåñÁöÑÊó∂ÂÄôÊòØÂàÜ‰∏∫‰∏âÊ≠•ÁöÑ„ÄÇ Java SE 8ÁöÑJVMËßÑËåÉÈáåÈù¢ÂØπ‰∏Ä‰∏™Á±ªÁöÑÂä†ËΩΩËøõË°å‰∫ÜËØ¶ÁªÜÁöÑÊèèËø∞ÔºöJava SE 8ÁöÑJVMËßÑËåÉ„ÄÇÂÖ∑‰ΩìÊù•ËØ¥Â∞±ÊòØÂàÜ‰∏∫‰∏âÊ≠•Ôºö Loading Linking Initializing Creation and LoadingÂú®Ëøô‰∏ÄÊ≠•ÔºåJVMÈúÄË¶ÅÂà§Êñ≠ÈúÄË¶ÅÂàùÂßãÂåñÁöÑÁ±ªÊòØÊï∞ÁªÑËøòÊòØ‰∏Ä‰∏™ÊôÆÈÄöÁ±ªÔºåÂ¶ÇÊûúÊòØ‰∏Ä‰∏™ÊôÆÈÄöÁ±ªÁöÑËØùÔºåÂ∞±ÂÜçËøõË°åÂà§Êñ≠ÊòØÈúÄË¶Å‰ΩøÁî®bootstrap class loaderÊù•ËøõË°åÂä†ËΩΩËøòÊòØËØ¥Áî®user-defined class loaderËøõË°åÂä†ËΩΩ„ÄÇ LinkingÂú®Ëøô‰∏ÄÊ≠•‰∏ªË¶ÅÊòØÈ™åËØÅÂíåÂáÜÂ§á Verification Preparation Resolution ËÄåÂ∞ÜÊú™ÂàùÂßãÂåñÁöÑÂºïÁî®ÁªëÂÆöÂà∞ÂÆû‰æã‰∏äÂ∞±ÊòØResolution„ÄÇÂÖ∑‰ΩìÂèØ‰ª•ÂèÇËÄÉ: Java SE 8ÁöÑJVMËßÑËåÉ 5.4.3 InitializingÂàùÂßãÂåñÔºåÂç≥Â∞ÜÂ≠óÊÆµËøõË°å‰∏Ä‰∏™ÈªòËÆ§ÂÄºÂàùÂßãÂåñ„ÄÇ ‰ΩÜÊòØËøôÈáåÂõ†‰∏∫LinkingÂíåInitializing‰πãÈó¥Âπ∂Êó†‰ªª‰ΩïÁöÑÂÖ≥ËÅîÊÄßÔºåÊâÄ‰ª•ÂèØËÉΩ‰ºöÂØºËá¥ÂÖàËøõË°å‰∫Ü‰∏Ä‰∏™ÂàùÂßãÂåñÔºå‰ΩÜÊòØÂπ∂Êú™Â∞ÜËØ•ÂºïÁî®ÁªëÂÆöÂà∞Â†ÜÁöÑ‰∏Ä‰∏™ÂÆû‰æã‰∏äÔºåËÄåÊ≠§Êó∂Áî±ËΩÆÂà∞Âè¶‰∏Ä‰∏™Á∫øÁ®ãÊâßË°å„ÄÇÊâÄ‰ª•Â∞±‰ºöÂØºËá¥Âè¶‰∏Ä‰∏™Á∫øÁ®ãËé∑ÂèñÁöÑÊòØÁ©∫ÂØπË±°„ÄÇ ÈóÆÈ¢ò‰ΩÜÊòØÂú®Ëøô‰∏™ÂàùÂßãÂåñÁöÑËøáÁ®ã‰∏≠ÔºåLinkingÂíåInitializing‰πãÈó¥Áî±‰∫é‰∫íÁõ∏‰∏ç‰æùËµñÔºåÊâÄ‰ª•CPUÂèØËÉΩ‰ºöÂÖàËøõË°åÂàùÂßãÂåñÔºå‰ΩÜÊòØÂπ∂Êú™ËøõË°åÂÖ≥ËÅîÔºåÂç≥Â∞ÜÂºïÁî®ÂÖ≥ËÅîÂà∞JVMÈáåÈù¢ÁöÑ‰∏Ä‰∏™ÂÆû‰æã„ÄÇËÄåÁõ¥Êé•ËøîÂõû‰∫Ü„ÄÇÊ≠§Êó∂Áî±‰∫éhappens-beforeÂéüÂàôÂπ∂‰∏çËÉΩË∑®Á∫øÁ®ãÔºåÊâÄ‰ª•‰ºöÂá∫Áé∞‰∏§ÁßçÊÉÖÂÜµÔºö Â¶ÇÊûúÁ∫øÁ®ã‰∏ÄÂú®Á∫øÁ®ã‰∫å‰πãÂâç‰ΩøÁî®‰∫ÜinstanceÔºåÊ≠§Êó∂Á∫øÁ®ã‰∫å‰ΩøÁî®instance‰∏ç‰ºöÂá∫Áé∞‰ªª‰ΩïÈóÆÈ¢ò Â¶ÇÊûúÁ∫øÁ®ã‰∏ÄÂú®ÂàùÂßãÂåñÂÆåÊØï‰πãÂêéÈáäÊîæ‰∫ÜÈîÅËµÑÊ∫êÔºåÁÑ∂ÂêéÁ∫øÁ®ã‰∫åÊâßË°åÔºåÂõ†‰∏∫Á∫øÁ®ã‰∫åÂà§Êñ≠instanceÂ∑≤ÁªèË¢´ÂàùÂßãÂåñ‰∫ÜÔºà‰ΩÜÊ≠§Êó∂ÂÆûÈôÖ‰∏äÂπ∂Êú™LinkingÔºâÔºåÊâÄ‰ª•Âú®‰ΩøÁî®ÁöÑÊó∂ÂÄô‰ºöÊä•Èîô„ÄÇ ‰ΩÜÊòØËøô‰∏™Êó∂ÂÄôÔºåÁî±‰∫éCPUÁöÑÈáçÊéíÂ∫èÔºåÂØºËá¥Á∫øÁ®ã‰∫åËé∑ÂèñÁöÑinstanceÂèØËÉΩÂá∫Áé∞Á©∫ÊåáÈíàÂºÇÂ∏∏; ÊâÄ‰ª•‰∏ÄËà¨‰∏∫‰∫ÜÈÅøÂÖçËøôÁßçÊÉÖÂÜµÔºå‰ºöÂä†‰∏Ä‰∏™volatileÂÖ≥ÈîÆÂ≠óÊù•Á¶ÅÊ≠¢ÂÜÖÂ≠òÈáçÊéíÂ∫è„ÄÇ demo3 123456789101112131415public class SingleLazy2Style &#123; private volatile static SingleLazy2Style instance = null; public static SingleLazy2Style getInstance()&#123; if(instance == null) &#123; synchronized (SingleLazy2Style.class) &#123; if (instance == null) &#123; instance = new SingleLazy2Style(); &#125; return instance; &#125; &#125; return instance; &#125;&#125; volatileÂú®ËøôÈáå‰πãÊâÄ‰ª•‰ΩøÁî®volatileÁöÑÁâπÊÄß‰πã‰∏ÄÔºöÈò≤Ê≠¢ÂÜÖÂ≠òËøõË°åÈáçÊéíÂ∫èÔºàÂåÖÂê´ÂÜôÂ±èÈöúÂíåËØªÂ±èÈöúÔºâ happens-beforeÂéüÂàôJava SE 8‰∏≠Happens-beforeÂéüÂàô 1234567891011Two actions can be ordered by a happens-before relationship. If one action happens-before another, then the first is visible to and ordered before the second.If we have two actions x and y, we write hb(x, y) to indicate that x happens-before y.If x and y are actions of the same thread and x comes before y in program order, then hb(x, y).There is a happens-before edge from the end of a constructor of an object to the start of a finalizer (¬ß12.6) for that object.If an action x synchronizes-with a following action y, then we also have hb(x, y).If hb(x, y) and hb(y, z), then hb(x, z) happens-beforeÂéüÂàôË¶ÅÊ±ÇÂú®‰∏Ä‰∏™Á∫øÁ®ãÂÜÖÔºåÈáçÊéíÂ∫èÂêéÊâßË°åÁöÑÁªìÊûú‰∏éÊú™ÈáçÊéíÂ∫è‰πãÂâçÁöÑÊâßË°åÁªìÊûúÂøÖÈ°ª‰∏ÄËá¥„ÄÇÊâÄ‰ª•Âú®demo1‰∏≠ÂçïÁ∫øÁ®ãÈáåÈù¢ÔºåÊòØ‰∏ç‰ºöÂá∫Áé∞‰ªª‰ΩïÈóÆÈ¢òÁöÑÔºåÂõ†‰∏∫Âç≥‰ΩøÂèëÁîüÈáçÊéíÂ∫èÔºåÊúÄÂêéÂú®‰ΩøÁî®instanceÁöÑÊó∂ÂÄôÔºåinstance‰πü‰∏ÄÂÆö‰ºöÂÆåÊàêÂàùÂßãÂåñÔºåÂê¶ÂàôÂ∞±ÊòØÁºñËØëÂô®bug‰∫Ü„ÄÇ ‰ΩÜÊòØÂú®Â§öÁ∫øÁ®ãÁöÑÊÉÖÂÜµ‰∏ãÔºåhappens-beforeÂéüÂàôÊó†Ê≥ïÁîüÊïàÔºåÊâÄ‰ª•Â∞±‰ºöÂØºËá¥ÂÖ∂‰ªñÁ∫øÁ®ãÂú®Ëé∑ÂèñÂÆû‰æãÁöÑÊó∂ÂÄô‰ºöÂá∫Áé∞ÂºÇÂ∏∏„ÄÇ ÊâÄ‰ª•Âú®Â§öÁ∫øÁ®ãÁöÑÊÉÖÂÜµ‰∏ãÈúÄË¶Å‰ΩøÁî®volatileÂÖ≥ÈîÆÂ≠óËøõË°å‰øÆÈ•∞Ôºå‰∏ªË¶ÅÊòØÂõ†‰∏∫ÈúÄË¶ÅÁ°Æ‰øùÈ¶ñ‰∏™ÂàùÂßãÂåñÁöÑÁ∫øÁ®ãÂøÖÈ°ªÂÆåÊàêÊï¥‰∏™Á±ªÁöÑÂàùÂßãÂåñÁöÑÊìç‰Ωú„ÄÇ]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°Âºè</category>
      </categories>
      <tags>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JDK1.7Âíå1.8‰∏≠ÁöÑHashMapÂå∫Âà´]]></title>
    <url>%2F2019%2F04%2F08%2FJDK1-7%E5%92%8C1-8%E4%B8%AD%E7%9A%84HashMap%E5%8C%BA%E5%88%AB%2F</url>
    <content type="text"><![CDATA[Jdk1.7Âíå1.8‰∏≠ÔºåHashMapÁöÑ‰∏Ä‰∫õÂÖ≥ÈîÆÁÇπÂá†‰πéÈáçÂÜô‰∫Ü„ÄÇ ‰∏ªË¶ÅÂèòÊõ¥ÁÇπÔºö1. hashÊâ∞Âä®ÁÆóÊ≥ïÂú®jdk1.7ÁöÑÊó∂ÂÄôÔºåHahMapÁöÑhashÊâ∞Âä®ÁÆóÊ≥ïÂ¶Ç‰∏ã:1234567static int hash(int h) &#123; // This function ensures that hashCodes that differ only by // constant multiples at each bit position have a bounded // number of collisions (approximately 8 at default load factor). h ^= (h &gt;&gt;&gt; 20) ^ (h &gt;&gt;&gt; 12); return h ^ (h &gt;&gt;&gt; 7) ^ (h &gt;&gt;&gt; 4);&#125; ËÄåÂú®jdk1.8ÁöÑÊó∂ÂÄôÔºåÂÖ∂hashÁÆóÊ≥ïÂ∑≤Áªè‰øÆÊîπ‰∏∫Â¶Ç‰∏ã‰∫Ü:1234static final int hash(Object key) &#123; int h; return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16);&#125; HashMapÂú®ÊîæÂÖ•‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÊó∂ÂÄôÔºåÈ¶ñÂÖà‰ºöËé∑ÂèñÂÖ∂HashCodeÔºåÁÑ∂ÂêéÂ∞Ü key ÁöÑ HashCode ËøõË°åÊâ∞Âä®ÔºåÈÅøÂÖçÂêå‰∏Ä‰∏™Á¢∞ÊíûÊ¶ÇÁéáÂ§™Â§ß„ÄÇÂ¶Ç‰∏ã‰æãÂ≠ê„ÄÇ ÂÅáËÆæ‰∏Ä‰∏™key a ÁöÑ hashCode ‰∏∫ 1010 1010 1110 1101 1110 1111 1000 0110ÔºåÂ¶ÇÊûú‰∏çËøõË°åÊâ∞Âä®ÔºåÈÇ£‰πàÁõ¥Êé•‰∏étableÁöÑÈïøÂ∫¶ -1 ËøõË°å‰∏éËøêÔºåËã•tableÁöÑÈïøÂ∫¶ÊòØ16ÔºåÂàôËÆ°ÁÆóÁöÑËøáÁ®ãÂ¶Ç‰∏ã:12341010 1010 1110 1101 1110 1111 1000 01100000 0000 0000 0000 0000 0000 0000 1111-----------------------------------------0000 0000 0000 0000 0000 0000 0000 0110 ËÆ°ÁÆóÁªìÊûúÂæóÂá∫Ôºö a ÁöÑÊï∞ÁªÑ‰∏ãÊ†áÂ∞±ÊòØ 6 ‰ΩÜÊòØËøôÊ†∑Â∞±‰ºöÂá∫Áé∞‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂç≥ÊØè‰∏ÄÊ¨°ÊØîËæÉÁöÑÈÉΩÊòØÊúÄ‰Ωé‰ΩçÔºåÂ¶ÇÊûúÊüê‰∏Ä‰∏™ key ÂíåaÁöÑÈ´ò‰Ωç‰∏çÂêåÔºå‰Ωé‰ΩçÂç¥Áõ∏Âêå„ÄÇÊØè‰∏ÄÊ¨°ÈÉΩÊòØÂèñÊúÄ‰Ωé‰ΩçÁöÑÂá†‰∏™Êï∞ÂÄºËøõË°åËøêÁÆóÔºåÈÇ£‰πàÂ∞±‰ºö‰∫ßÁîüÂæà‰∏•ÈáçÁöÑhashÁ¢∞ÊíûÔºåÊâÄ‰ª•Â∞±ÈúÄË¶ÅËøõË°åhashÊâ∞Âä®‰ª•ÂáèÂ∞ëhashÁ¢∞ÊíûÁöÑÊ¶ÇÁéá„ÄÇ ‰ª• jdk1.8 ÁöÑÊâ∞Âä®ÁÆóÊ≥ï‰∏∫‰æã12345671010 1010 1110 1101 1110 1111 1000 01100000 0000 0000 0000 1010 1010 1110 1101 ^ &gt;&gt;&gt;16-----------------------------------------1010 1010 1110 1101 0101 0101 0110 10000000 0000 0000 0000 0000 0000 0000 1111 &amp;-----------------------------------------0000 0000 0000 0000 0000 0000 0000 1000 8 ‰∏∫‰ªÄ‰πàËøõË°åÊâ∞Âä®ÂêéÔºåÁ¢∞ÊíûÁöÑÊ¶ÇÁéá‰ºöÈôç‰Ωé„ÄÇÂÖ∑‰ΩìÁöÑÂéüÂõ†ÂèØ‰ª•ÈòÖËØªËøôËæπÊñáÁ´†An introduction to optimising a hashing strategy 2. HashMapÁöÑÊï∞ÊçÆÁªìÊûÑÂá∫Áé∞‰∫ÜÂèòÂåñÂú® jdk1.7ÁöÑÊó∂ÂÄôÔºåHashMapÊòØÁî±‰∏Ä‰∏™Êï∞ÁªÑÂíå‰∏Ä‰∏™ÈìæË°®ÊûÑÊàêÁöÑ„ÄÇÊèíÂÖ•ËßÑÂàôÂ¶Ç‰∏ãÔºö ËÆ°ÁÆóÊñ∞ÊèíÂÖ•ÁöÑ key ÁöÑ hashCodeÔºåÁÑ∂ÂêéÈÄöËøá hashCode ËÆ°ÁÆóÁ¥¢ÂºïÔºåÊâæÂá∫ËØ•keyÂú®Entry‰∏≠ÁöÑ‰ΩçÁΩÆÔºåÁÑ∂ÂêéÂà§Êñ≠ËØ•‰∏ãÊ†áÊòØÂê¶ÊúâÂÖÉÁ¥†ÔºåÂ¶ÇÊûúÊ≤°ÊúâÂàôÁõ¥Êé•ËøõË°åÊèíÂÖ•„ÄÇ Â¶ÇÊûúÊúâÁöÑËØùÂ∞±ÊåâÁÖßÂ¶Ç‰∏ãËßÑÂàôÊâæÂá∫ÊòØÂê¶ÊúâÁõ∏ÂêåÁöÑ keyÔºö hashÁõ∏Âêå‰∏îkeyÁõ∏ÂêåhashÁõ∏Âêå‰∏îequalsÊñπÊ≥ïËøîÂõûÁõ∏Âêå Ëã•Áõ∏ÂêåÔºåÂàôÁõ¥Êé•Â∞ÜÂΩìÂâçÁöÑ value ÊõøÊç¢ÂéüÊù•ÁöÑ value„ÄÇ Â¶ÇÊûúÊúÄÂêéËøòÊòØÊú™ÂèëÁé∞Áõ∏ÂêåÁöÑ key ÔºåÂàôÊñ∞Âª∫‰∏Ä‰∏™Entry ÔºåÂπ∂Â∞ÜÂ§¥ËäÇÁÇπËÆæÁΩÆ‰∏∫ËØ•Entry„ÄÇ12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849/** * Associates the specified value with the specified key in this map. * If the map previously contained a mapping for the key, the old * value is replaced. * * @param key key with which the specified value is to be associated * @param value value to be associated with the specified key * @return the previous value associated with &lt;tt&gt;key&lt;/tt&gt;, or * &lt;tt&gt;null&lt;/tt&gt; if there was no mapping for &lt;tt&gt;key&lt;/tt&gt;. * (A &lt;tt&gt;null&lt;/tt&gt; return can also indicate that the map * previously associated &lt;tt&gt;null&lt;/tt&gt; with &lt;tt&gt;key&lt;/tt&gt;.) */ public V put(K key, V value) &#123; if (key == null) return putForNullKey(value); int hash = hash(key.hashCode()); int i = indexFor(hash, table.length); for (Entry&lt;K,V&gt; e = table[i]; e != null; e = e.next) &#123; Object k; if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) &#123; V oldValue = e.value; e.value = value; e.recordAccess(this); return oldValue; &#125; &#125; modCount++; addEntry(hash, key, value, i); return null; &#125; void addEntry(int hash, K key, V value, int bucketIndex) &#123; Entry&lt;K,V&gt; e = table[bucketIndex]; //ÊâæÂá∫ÂéüÊù•table‰∏≠ÁöÑÂÖÉÁ¥† table[bucketIndex] = new Entry&lt;&gt;(hash, key, value, e); if (size++ &gt;= threshold) resize(2 * table.length); &#125; //Ê≥®ÊÑèÔºåÊ≠§Êó∂Â∞ÜËØ•ËäÇÁÇπÊòØ‰Ωú‰∏∫Áé∞Âú®ÁöÑtableÁöÑÂ§¥ËäÇÁÇπÔºåÂéüÊù•ÁöÑeÂàôÊòØÊñ∞ËäÇÁÇπÁöÑnext /** * Creates new entry. */ Entry(int h, K k, V v, Entry&lt;K,V&gt; n) &#123; value = v; next = n; key = k; hash = h; &#125; ‰ª•‰∏ãÊòØÂú® jdk1.7 ÁöÑÊó∂ÂÄôÁ¨¨‰∏âÁßçÊñπÂºèÊèíÂÖ•ÁöÑÊûÅÁÆÄÁâàÔºö ËÄåÂú® jdk1.8 ÁöÑÊó∂ÂÄôÔºåÂàôÊòØÁî±‰∏Ä‰∏™Êï∞ÁªÑÂä†‰∏Ä‰∏™ÈìæË°®„ÄÅÁ∫¢ÈªëÊ†ëÁªÑÊàê‰πãÊâÄ‰ª•ËøôÊ†∑ÊîπËøõÔºåÊòØÂõ†‰∏∫Âú®ÊûÅÁ´ØÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûúÊâÄÊúâÁöÑÂÖÉÁ¥†ÈÉΩ hash Âà∞‰∫Ü‰∏Ä‰∏™‰∏ãÊ†áÔºåÈÇ£‰πàËøôÊ†∑ÁöÑËØùÔºåHashMapÂú®Êü•ÊâæÂÖÉÁ¥†ÁöÑÊó∂ÂÄôÂ∞±‰ºöÈÄÄÂåñÂà∞‰∏Ä‰∏™ÈìæË°®ÔºåÂÖ∂Êó∂Èó¥Â§çÊùÇÂ∫¶ÊòØO(n)„ÄÇ ‰∏∫‰∫ÜÂ∫îÂØπËøôÁßçÊÉÖÂÜµÔºåHashMapÂú®1.8ÁöÑÊó∂ÂÄô‰ºöÂà§Êñ≠ÈìæË°®‰∏äÁöÑÂÖÉÁ¥†ÔºåÂ¶ÇÊûúË∂ÖËøá‰∫Ü 8 ‰∏™ÔºåÂ∞±‰ºöÂ∞ÜÈìæË°®ËΩ¨Âåñ‰∏∫Á∫¢ÈªëÊ†ë„ÄÇÂêåÊó∂Âú® 1.8 ÁöÑÊó∂ÂÄôÔºåHashMapÂ∞ÜÈìæË°®ÁöÑÊèíÂÖ•ÊñπÂºè‰øÆÊîπ‰∏∫Â∞æÊèíÂÖ•„ÄÇ ÊèêÁ§∫Ôºö‰øÆÊîπ‰∏∫Â∞æÊèíÂÖ•ÊòØ‰∏∫‰∫ÜÈÅøÂÖçÂú®Âπ∂ÂèëÁöÑÊÉÖÂÜµ‰∏ãÂá∫Áé∞ÈìæË°®ÊàêÁéØÔºàÂú®jdk1.7‰πãÂâç‰ºöÂá∫Áé∞„ÄÅÂêåÊó∂HashMapÂπ∂‰∏çÈÄÇÁî®Âπ∂ÂèëÂú∫ÊôØ‰∏ãÔºâ 12345678910111213141516171819202122232425262728293031final V putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict) &#123; //......ÁúÅÁï•Áõ∏ÂÖ≥‰ª£Á†Å for (int binCount = 0; ; ++binCount) &#123; if ((e = p.next) == null) &#123; // Âú®Êú™ËäÇÁÇπËøõË°åÊèíÂÖ• p.next = newNode(hash, key, value, null); if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st„ÄÇÂ¶ÇÊûúÂ§ß‰∫é8ÔºåÂàô‰ºöÂ∞ÜÈìæË°®ËΩ¨‰∏∫Á∫¢ÈªëÊ†ë treeifyBin(tab, hash); break; &#125; if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) break; p = e; &#125; &#125; if (e != null) &#123; // existing mapping for key V oldValue = e.value; if (!onlyIfAbsent || oldValue == null) e.value = value; afterNodeAccess(e); return oldValue; &#125; &#125; ++modCount; if (++size &gt; threshold) resize(); afterNodeInsertion(evict); return null; &#125; ‰∏äËø∞ÁöÑÂèòÂä®ÊúÄÂ§ßÁÇπÂú®‰∫éËøô‰∏§Ë°å‰ª£Á†ÅÔºö1234p.next = newNode(hash, key, value, null);if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st treeifyBin(tab, hash);&#125; Á¨¨‰∏ÄË°åÊòØËøõË°åÂ∞æÊèíÂÖ•(1.7ÊòØÂ§¥ÊèíÂÖ•) Á¨¨‰∫åË°åÊòØÂ§ß‰∫é8‰ºöËøõË°åÈìæË°®Âà∞Á∫¢ÈªëÊ†ëÁöÑËΩ¨Âåñ jdk1.7ÈááÁî®Â§¥ËäÇÁÇπÊèíÂÖ•ÂØºËá¥ÁöÑÈìæË°®ÊàêÁéØËôΩÁÑ∂HashMapÊòØ‰∏Ä‰∏™ÈùûÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºå‰ΩÜÊòØÂ¶ÇÊûúÂú® jdk1.7 ÁâàÊú¨‰∏≠Â∞ÜHashMapÁî®‰∫éÂπ∂ÂèëÁéØÂ¢É‰∏ã‰ºöÂá∫Áé∞‰ªÄ‰πàÊÉÖÂÜµÂë¢Ôºü123456789101112131415161718192021222324252627282930313233void resize(int newCapacity) &#123; Entry[] oldTable = table; int oldCapacity = oldTable.length; if (oldCapacity == MAXIMUM_CAPACITY) &#123; threshold = Integer.MAX_VALUE; return; &#125; Entry[] newTable = new Entry[newCapacity]; transfer(newTable); table = newTable; threshold = (int)(newCapacity * loadFactor); &#125; // jdk1.7 Êâ©ÂÆπ‰ª£Á†Åvoid transfer(Entry[] newTable) &#123; Entry[] src = table; int newCapacity = newTable.length; for (int j = 0; j &lt; src.length; j++) &#123; Entry&lt;K,V&gt; e = src[j]; if (e != null) &#123; src[j] = null; do &#123; Entry&lt;K,V&gt; next = e.next; int i = indexFor(e.hash, newCapacity); e.next = newTable[i]; newTable[i] = e; e = next; &#125; while (e != null); &#125; &#125; &#125; Á¨¨‰∏ÄÊ≠• Ê≠§Êó∂ÂÅáËÆæÁ∫øÁ®ã‰∫åÂ∑≤ÁªèÂ∞ÜhashMapÊâ©ÂÆπÂÆåÊØïÔºå‰ΩÜÊòØÁ∫øÁ®ã‰∏ÄËøòÂú®Ë¢´ÊåÇËµ∑„ÄÇ Á∫øÁ®ã‰∏ÄÊâßË°åÔºåÊ≠§Êó∂ eÊòØ‰∏∫1ÔºånextÂç¥ÊòØ2„ÄÇ Á∫øÁ®ã‰∏ÄÁ¨¨‰∏ÄÊ¨°Âæ™ÁéØÊâßË°åÂÆåÊØïÔºåÊ≠§Êó∂ÁöÑeÊòØ2ÔºåÁÑ∂Âêé`e.nextÊòØ3„ÄÇ Á∫øÁ®ã‰∏ÄÁ¨¨‰∫åÊ¨°Âæ™ÁéØÊâßË°åÂÆåÊØïÔºåÊ≠§Êó∂ÁöÑeÊòØ3ÔºåÁÑ∂Âêée.nextÊòØ1ÔºåÊ≥®ÊÑèÊ≠§Êó∂Á∫øÁ®ã‰∫å‰∏≠ÔºåÂ∑≤ÁªèÂ∞Ü 3 ÁöÑnextÊåáÂêë‰∫Ü 1 ÔºåÊâÄ‰ª•Ê≠§Êó∂eÊòØ3ÔºåÁÑ∂Âêé next ÊòØ1„ÄÇ Ê≠§Êó∂Á¨¨‰∏âÊ¨°Âæ™ÁéØÂÆåÊØïÔºåÁî±‰∫éeËøò‰∏ç‰∏∫Á©∫Ôºå‰∫éÊòØËøõË°åÁ¨¨ÂõõÊ¨°Âæ™ÁéØ(‰∏ªË¶ÅÂéüÂõ†ÊòØÁ∫øÁ®ã‰∫åÂ∑≤ÁªèÂ∞Ü3ÁöÑnextÊåáÂêë‰∏∫1)„ÄÇ Áî±‰∫é1ÁöÑ next ÊòØ nullÔºåÊâÄ‰ª•Âæ™ÁéØÁªìÊùü„ÄÇ jdk1.8ÁöÑÂ∞æËäÇÁÇπÊèíÂÖ•Áî±‰∏äÈù¢ÁöÑÂàÜÊûêÂèØ‰ª•‰∏çÈöæÂèëÁé∞ÔºåÈÄ†ÊàêÈìæË°®ÊàêÁéØÁöÑ‰∏ªË¶ÅÂéüÂõ†‰∏∫ÔºöÂ§öÁ∫øÁ®ã‰∏ãÔºåÂ§¥ËäÇÁÇπÊèíÂÖ•ÂØºËá¥ÂéüÊù•ÁöÑÈìæË°®ÁöÑÂ∞æËäÇÁÇπÊúâ‰∫ÜnextÔºåÊâÄ‰ª•ÊúÄÂêé‰ºöÂ§öÂæ™ÁéØ‰∏ÄÈÅçÔºå‰ªéËÄåÊàêÁéØ„ÄÇ ËÄåÂú®jdk1.8ÈááÁî®ÁöÑ‰∏∫ËäÇÁÇπÊèíÂÖ•Âú®Â§öÁ∫øÁ®ã‰∏ãÔºåÈ°∂Â§öÊòØÂè¶‰∏Ä‰∏™Á∫øÁ®ãÊääÂâçÈù¢‰∏Ä‰∏™Á∫øÁ®ã resize ÁöÑËøáÁ®ãÂÜçÈáçÂ§ç‰∏ÄÈÅçÔºåÂç¥‰∏ç‰ºöÂÜçÂá∫Áé∞ÈìæË°®ÊàêÁéØ„ÄÇ Â§öÁ∫øÁ®ã‰∏ãÈÄöÁî®ÁöÑbugËôΩÁÑ∂ jdk1.8 ‰øÆÂ§ç‰∫ÜÈìæË°®ÊàêÁéØËøô‰∏Ä‰∏™ÈóÆÈ¢òÔºå‰ΩÜÊòØÂ§öÁ∫øÁ®ãÁöÑÊÉÖÂÜµ‰∏ãÂØºËá¥ÁöÑÊï∞ÊçÆ‰∏¢Â§±ÈóÆÈ¢òÁ°ÆÂÆû‰∏ÄÁõ¥Â≠òÂú®ÁöÑ„ÄÇ ÊâÄ‰ª•‰∏çË¶ÅÂ∞ùËØïÂú®Â§öÁ∫øÁ®ãÁöÑÊÉÖÂÜµ‰∏ã‰ΩøÁî®HashMapÔºåÂ¶ÇÊûúÈúÄË¶ÅÁî®Âà∞MapÁªìÊûÑÁöÑËØùÔºåÂèØ‰ª•Áî®CurrentHashMapÊàñËÄÖHashTable]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>JavaÈõÜÂêà</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÈõÜÂêàÂ≠¶‰π†‰πãHashSet]]></title>
    <url>%2F2019%2F04%2F04%2FJava%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0%E4%B9%8BHashSet%2F</url>
    <content type="text"><![CDATA[ÁÆÄ‰ªãÂú®‰∏ÄËà¨ÁöÑ‰ΩøÁî®‰∏≠ÔºåHashSetÁªèÂ∏∏Áî®‰∫éÊï∞ÊçÆÁöÑÂéªÈáçÔºå‰æãÂ¶ÇÊàë‰ª¨Êúâ‰∏Ä‰∏™ListÔºåËøô‰∏™ListÈáåÈù¢Êúâ‰∏Ä‰∫õÈáçÂ§çÁöÑÊï∞ÊçÆÔºå‰∫éÊòØÊàë‰ª¨‰æøÂèØ‰ª•ËøôÊ†∑Êìç‰Ωú1234567List&lt;String&gt; list = new ArrayList&lt;&gt;();list.add("a");list.add("b");list.add("c");list.add("a");Set&lt;String&gt; set =new HashSet&lt;&gt;();set.addAll(list); Ê≠§Êó∂ÔºåÂú®SetÈáåÈù¢ÔºåÂè™‰ºöÊúâ‰∏Ä‰∏™aÂÖÉÁ¥†„ÄÇ Â∫ïÂ±ÇÂÖ∂ÂÆûHashSetÁöÑÂ∫ïÂ±ÇÊòØ‰∏Ä‰∏™HashMapÔºåHashSetÁöÑÂéªÈáç‰ΩøÁî®‰∫ÜHashMapÁöÑKey„ÄÇÂ¶ÇÂõæÊâÄÁ§∫Ôºö 123456789101112131415/** * Adds the specified element to this set if it is not already present. * More formally, adds the specified element &lt;tt&gt;e&lt;/tt&gt; to this set if * this set contains no element &lt;tt&gt;e2&lt;/tt&gt; such that * &lt;tt&gt;(e==null&amp;nbsp;?&amp;nbsp;e2==null&amp;nbsp;:&amp;nbsp;e.equals(e2))&lt;/tt&gt;. * If this set already contains the element, the call leaves the set * unchanged and returns &lt;tt&gt;false&lt;/tt&gt;. * * @param e element to be added to this set * @return &lt;tt&gt;true&lt;/tt&gt; if this set did not already contain the specified * element */public boolean add(E e) &#123; return map.put(e, PRESENT)==null;&#125; HashSetÁöÑaddÊñπÊ≥ïÊòØÂêë‰∏Ä‰∏™mapÈáåÈù¢ÊîæÂÖ•ÂÖÉÁ¥†ÔºåËÄåHashMapÂàôÊòØ‰∏çÂÖÅËÆ∏ÈîÆÈáçÂ§çÔºåÊâÄ‰ª•Â∞±ÂèØ‰ª•Á°Æ‰øùÂú®HashMap‰∏äÁöÑÈîÆÈÉΩÊòØ‰∏çÈáçÂ§çÁöÑ„ÄÇ HashMapÊòØÂ¶Ç‰ΩïÁ°Æ‰øùÊØè‰∏Ä‰∏™ÂØπË±°ÈÉΩÂè™Êúâ‰∏Ä‰∏™ÁöÑÂë¢?È¶ñÂÖàÂΩìË∞ÉÁî®HashSetÁöÑaddÊñπÊ≥ïÁöÑÊó∂ÂÄôÔºåÂÖ∂ÂÆûÊòØË∞ÉÁî®HashMapÁöÑputÊñπÊ≥ïÔºå123456789101112131415/** * Associates the specified value with the specified key in this map. * If the map previously contained a mapping for the key, the old * value is replaced. * * @param key key with which the specified value is to be associated * @param value value to be associated with the specified key * @return the previous value associated with &lt;tt&gt;key&lt;/tt&gt;, or * &lt;tt&gt;null&lt;/tt&gt; if there was no mapping for &lt;tt&gt;key&lt;/tt&gt;. * (A &lt;tt&gt;null&lt;/tt&gt; return can also indicate that the map * previously associated &lt;tt&gt;null&lt;/tt&gt; with &lt;tt&gt;key&lt;/tt&gt;.) */ public V put(K key, V value) &#123; return putVal(hash(key), key, value, false, true); &#125; Ëøô‰∏™ÊñπÊ≥ïÊó†ÈùûÊòØÂÖàÂ∞ÜËøô‰∏™keyËøõË°åhashÔºåÁÑ∂ÂêéÂÜçË∞ÉÁî®putValÊñπÊ≥ïËøõË°å‰øùÂ≠òÔºå123456789101112131415161718192021222324252627282930313233343536373839404142final V putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict) &#123; Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i; if ((tab = table) == null || (n = tab.length) == 0) n = (tab = resize()).length; if ((p = tab[i = (n - 1) &amp; hash]) == null) tab[i] = newNode(hash, key, value, null); else &#123; Node&lt;K,V&gt; e; K k; if (p.hash == hash &amp;&amp; ((k = p.key) == key || (key != null &amp;&amp; key.equals(k)))) e = p; else if (p instanceof TreeNode) e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value); else &#123; for (int binCount = 0; ; ++binCount) &#123; if ((e = p.next) == null) &#123; p.next = newNode(hash, key, value, null); if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st treeifyBin(tab, hash); break; &#125; if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) break; p = e; &#125; &#125; if (e != null) &#123; // existing mapping for key V oldValue = e.value; if (!onlyIfAbsent || oldValue == null) e.value = value; afterNodeAccess(e); return oldValue; &#125; &#125; ++modCount; if (++size &gt; threshold) resize(); afterNodeInsertion(evict); return null; &#125; Ëøô‰∏™ÊòØHashMapÁöÑÂ∫ïÂ±ÇÊñπÊ≥ïÔºåÂΩìÈ¶ñÊ¨°‰º†ÂÖ•ÂÄºÁöÑÊó∂ÂÄôÔºå if ((tab = table) == null || (n = tab.length) == 0){ n = (tab = resize()).length;} Â¶ÇÊûútableÊú™Á©∫Â∞±ËøõË°åÂàùÂßãÂåñÔºåÂ¶ÇÊûú‰∏ç‰∏∫Á©∫ÂàôÊâßË°å‰∏ãÈù¢ÁöÑ‰ª£Á†Å1234567891011121314151617181920Node&lt;K,V&gt; e; K k;if (p.hash == hash &amp;&amp; ((k = p.key) == key || (key != null &amp;&amp; key.equals(k)))) e = p;else if (p instanceof TreeNode) e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value);else &#123; for (int binCount = 0; ; ++binCount) &#123; if ((e = p.next) == null) &#123; p.next = newNode(hash, key, value, null); if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st treeifyBin(tab, hash); break; &#125; if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) break; p = e; &#125;&#125; Âú®HashMapÈáåÈù¢ÔºåÊúâ‰∏Ä‰∏™Êï∞ÁªÑtableÂ≠òÊîæÁùÄÊâÄÊúâÁöÑkeyÔºåËÄå HashMap ÂÆö‰Ωç‰∏ãÊ†áÁöÑÊñπÂºèÂ∞±ÊòØÈÄöËøá(n - 1) &amp; hash„ÄÇ ÂΩìHashMapÂèëÁé∞ËØ•‰∏ãÊ†áÁöÑÂÄºÊòØnullÔºåÂ∞±‰ºöÁõ¥Êé•Â∞ÜÂÖ•ÂèÇÁöÑkeyÂíåvalueÁñØËΩ¨Êàê‰∏Ä‰∏™Node‰øùÂ≠òËøõÂéªÔºåÂ¶ÇÊûúÂèëÁé∞‰∏çÊòØnullÔºåÂàôHashMapËÆ§‰∏∫ÂèëÁîü‰∫ÜHashMapÁ¢∞ÊíûÔºå‰∫éÊó∂ËøõË°åÂ¶Ç‰∏ãÂà§Êñ≠: Â¶ÇÊûúÊñ∞‰º†ÂÖ•ÁöÑ‰∏Ä‰∏™keyÂú®HashMap‰∏≠Â∑≤ÁªèÂ≠òÂú®ÔºåÂàôHashMap‰ºöÁõ¥Êé•Â∞ÜÊóßÁöÑkeyÁöÑvalueÊõøÊç¢Êéâ„ÄÇÂê¶ÂàôÂ∞±‰ºöËøõË°åÊñ∞Â¢ûHashMapÂú®Âà§Êñ≠‰∏Ä‰∏™keyÊòØÂê¶Áõ∏Á≠â‰ºöÈááÂèñ‰ª•‰∏ãÊé™ÊñΩÔºö Â¶ÇÊûú‰∏§‰∏™KeyÁöÑhash‰∏çÂêåÔºåÂàôHashMapÁõ¥Êé•‰ºöÂà§Êñ≠key‰∏çÁ≠â KeyÂíåhashÂÆåÂÖ®Áõ∏Âêå Á¨¨‰∏ÄÊ¨°‰º†ÂÖ•key=aÔºåHashÂÄºÊòØ1ÔºåvalueÊòØ100;Á¨¨‰∫åÊ¨°‰º†ÂÖ•key=aÔºåHashÂÄºÊòØ1ÔºåvalueÊòØ101; Ê≠§Êó∂hashMap‰ºöËÆ§‰∏∫Êñ∞‰º†ÂÖ•ÁöÑkeyÂ∑≤ÁªèÂ≠òÂú®ÔºåÊâÄ‰ª•‰ºöÂ∞ÜÊóßÁöÑvalueÊõøÊç¢‰∏∫Êñ∞ÁöÑvalue ‰∫ßÁîüHashÁ¢∞ÊíûÔºå‰πüÂ∞±ÊòØ‰∏§‰∏™keyÁöÑhashÈÉΩÊòØ‰∏ÄÊ†∑ÁöÑÔºåÈÇ£‰πàÂ∞±‰ºöÈÄöËøákeyÊòØÂê¶Áõ∏ÂêåÊàñËÄÖequalsÊñπÊ≥ïÂà§Êñ≠ÂØπË±°ÊòØÂê¶Áõ∏Á≠â‰∫Ü Key‰∏çÂêåÔºåhashÁõ∏Âêå HashMap‰ºöÂà§Êñ≠‰º†ÂÖ•ÁöÑkey„ÄÅ‰ª•ÂèäkeyÁöÑhashÂÄºÔºåÂ¶ÇÊûúÁõ∏Á≠âÂàôËÆ§‰∏∫ËØ•ÈîÆ‰ª•Áõ∏Á≠âÔºå‰æãÂ¶Ç: Á¨¨‰∏ÄÊ¨°‰º†ÂÖ•key:aÔºåHashÂÄºÊòØ1;Á¨¨‰∫åÊ¨°‰º†ÂÖ•key:bÔºåHashÂÄºÊòØ1; Ëøô‰∏™Êó∂ÂÄôÁî±‰∫ékey‰∏çÂêåÔºåhashMapËøò‰ºöÈÄöËøáequalsÁªßÁª≠Âà§Êñ≠„ÄÇ Áî±‰∫éÁ¨¨‰∫åÊ¨°‰º†ÂÖ•ÁöÑkeyÊòØbÔºå‰ΩÜÊòØ‰ªñ‰ª¨ÁöÑKeyÂπ∂‰∏çÁõ∏Á≠âÔºåÊ≠§Êó∂HashMapÂ∞±‰ºöË∞ÉÁî®‰ªñ‰ª¨ÁöÑequalsÊñπÊ≥ïÔºåÂ¶ÇÊûúÈÄöËøáequalsÊñπÊ≥ïÂà§Êñ≠ÁöÑÊòØÁõ∏ÂêåÂØπË±°ÔºåÂàô‰πü‰ºöËÆ§‰∏∫ÊòØÂêå‰∏Ä‰∏™key„ÄÇ Ê≠§Êó∂Â¶ÇÊûúÂà§Êñ≠Êñ∞Â¢ûÁöÑkeyÁ°ÆÂÆû‰∏çÂ≠òÂú®Â∞±‰ºöÂú®ÂΩìÂâçÁöÑtable‰ΩçÁΩÆÈÄöËøáÈìæË°®Âú∞ÂùÄÊñπÊ≥ïËæõÂ¢û‰∏Ä‰∏™key‰∫Ü„ÄÇ ÈÇ£‰πàÂà∞ËøôÈáåÂ∞±ÂèØ‰ª•ÁúãÂà∞ÔºåÂÖ∂ÂÆûHashSetÂ∞±ÊòØÂÆåÂÖ®ÁöÑÂà©Áî®‰∫ÜHashMapÁöÑÈîÆÁöÑÁâπÊÄßÊù•ËøõË°åÂéªÈáç„ÄÇ IteratorÊñπÊ≥ï12345678910/** * Returns an iterator over the elements in this set. The elements * are returned in no particular order. * * @return an Iterator over the elements in this set * @see ConcurrentModificationException */ public Iterator&lt;E&gt; iterator() &#123; return map.keySet().iterator(); &#125; ÂÖ∂ÂÆûÈÉΩÊòØÂà©Áî®‰∫ÜhashMapÁöÑ‰∏Ä‰∫õÊñπÊ≥ïÊù•ÂÆûÁé∞ Á∫øÁ®ã‰∏çÂÆâÂÖ®Áî±‰∫éHshMapÊòØÈùûÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºåËá™ÁÑ∂HashSet‰πü‰∏çÊòØ‰∏Ä‰∏™Á∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇÊµãËØï‰ª£Á†ÅÂ¶Ç‰∏ã:12345678910111213141516171819202122232425262728public class HashSetTest implements Runnable&#123; Set&lt;Integer&gt; set =new HashSet&lt;Integer&gt;(); public void run() &#123; for(int i=0 ;i&lt;10000;i++)&#123; set.add(i); &#125; &#125;&#125;public class HashSetTestMain &#123; public static void main(String[] args) throws InterruptedException &#123; HashSetTest hashSetTest =new HashSetTest(); Thread t1 = new Thread(hashSetTest); Thread t2 = new Thread(hashSetTest); t1.start(); t2.start(); t1.join(); t2.join(); System.out.println(hashSetTest.set.size()); Set&lt;Integer&gt; set =new HashSet&lt;Integer&gt;(); for(Integer i :hashSetTest.set)&#123; if(set.contains(i))&#123; System.out.println(i); &#125;else&#123; set.add(i); &#125; &#125; &#125;&#125; ÂèØ‰ª•ÁúãÂà∞ÊâìÂç∞Âá∫Êù•ÁöÑÁªìÊûú‰ºöÂ§ö‰∫é10000ÔºåËøôÊòØÂõ†‰∏∫Âú®‰∏äÈù¢‰πüËØ¥Âà∞ËøáÁöÑÔºåHashMapÂú®Âà§Êñ≠‰∏Ä‰∏™keyÊòØÂê¶Áõ∏Âêå‰ª•ÂèäÂêéÁª≠Êñ∞Â¢ûËäÇÁÇπÁöÑÊó∂ÂÄôÂπ∂ÈùûÊòØ‰∏Ä‰∏™ÂéüÂ≠êÊÄßÁöÑÔºåÊâÄ‰ª•Â∞±ÊúâÂèØËÉΩ‰ºöÂØºËá¥t1Á∫øÁ®ãÂàöÂ•ΩÂà§Êñ≠10‰∏çÂú®hashMap‰∏≠ÔºåÂáÜÂ§áÊñ∞Â¢û‰∏Ä‰∏™ËäÇÁÇπ‰∏∫10„ÄÇÁªìÊûúÊ≠§Êó∂t1Ë¢´ÊåÇËµ∑Ôºåt2ÊâßË°åÔºå‰ΩÜÊòØt2‰πüÂà§Êñ≠‰∫Ü10‰∏çÂú®hashMap‰∏≠Ôºå‰πüÂáÜÂ§áÊñ∞Â¢ûÔºåÈÇ£‰πàÊ≠§Êó∂Â∞±‰ºöÂá∫Áé∞Êñ∞Â¢û‰∫Ü‰∏§‰∏™‰∏ÄÊë∏‰∏ÄÊ†∑ÁöÑKey„ÄÇËøôÊ†∑Â∞±‰ºöÂØºËá¥SetÈõÜÂêà‰∏≠Âá∫Áé∞‰∫ÜÈáçÂ§çÁöÑÊï∞ÊçÆ„ÄÇ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>JavaÈõÜÂêà</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring‰∏≠AOPÁöÑÊé¢Á¥¢‰∏éÂÆûË∑µ(‰∫å)‰πãMongoÂ§öÊï∞ÊçÆÊ∫êÂàáÊç¢]]></title>
    <url>%2F2019%2F03%2F13%2FSpring%E4%B8%ADAOP%E7%9A%84%E6%8E%A2%E7%B4%A2%E4%B8%8E%E5%AE%9E%E8%B7%B5(%E4%BA%8C)%E4%B9%8BMongo%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%E5%88%87%E6%8D%A2%2F</url>
    <content type="text"><![CDATA[Âú®‰πãÂâçÁöÑ‰∏ÄÁâáÊñáÁ´†‰∏≠‰ªãÁªç‰∫Ü‰ΩøÁî®AOPÁöÑÊñπÂºèÊù•ÂÆûÁé∞RedisÁöÑÂ§öÊï∞ÊçÆÊ∫êÂàáÊç¢„ÄÇËÄå‰ªäÂ§©Ëøô‰∏ÄÁØáÂàôÊòØ‰∏ªË¶ÅËÆ≤Ëø∞MongoÁöÑÂ§öÊï∞ÊçÆÊ∫êÂàáÊç¢„ÄÇ ‰ΩøÁî®AOPÊù•ÂÆûÁé∞MongoÁöÑÊï∞ÊçÆÊ∫êÂàáÊç¢‰∏éRedisÁöÑAOPÂàáÊç¢Áõ∏ÂêåÔºå‰∏çÂêå‰πãÂ§ÑÊòØÈúÄË¶ÅÊõøÊç¢MongoRepositoryÈáåÈù¢ÁöÑMongoOperations,‰ªéËÄåÂÆûÁé∞Â§öÊï∞ÊçÆÊ∫êÁöÑÂàáÊç¢ ‰ª£Á†ÅÁ§∫‰æãÈÖçÁΩÆÁ±ªÔºåËØªÂèñMongoÁöÑÈÖçÁΩÆ123456789101112131415161718192021@Configurationpublic class MongoMultiProperties &#123; private static final Logger LOGGER = LoggerFactory.getLogger(MongoMultiProperties.class); @Bean(name="mongodb1") @Primary @ConfigurationProperties(prefix = "spring.data.mongodb.db1") public MongoProperties db1Properties()&#123; LOGGER.info("Ê≠£Âú®ÂàùÂßãÂåñdb1"); return new MongoProperties(); &#125; @Bean(name = "mongodb2") @ConfigurationProperties(prefix = "spring.data.mongodb.db2") public MongoProperties db2Properties()&#123; LOGGER.info("Ê≠£Âú®ÂàùÂßãÂåñdb2"); return new MongoProperties(); &#125;&#125; ÈÖçÁΩÆMongoRepository ‰ª•‰∏ãÊòØ‰∏∫‰∫ÜÊºîÁ§∫ÔºåÊâÄ‰ª•ÈÖçÁΩÆ‰∫Ü‰∏§‰∏™MongoRepositoryÔºåÂÆûÈôÖ‰∏ä‰ΩøÁî®‰∫ÜAOPÁöÑÊñπÂºèÂÆûÁé∞ÁöÑÂ§öÊï∞ÊçÆÊ∫êÔºåÂè™ÈúÄË¶ÅÈÖçÁΩÆ‰∏Ä‰∏™ÈªòËÆ§ÁöÑMongoRepositoryÂç≥ÂèØ„ÄÇ 12345678910111213141516171819@Configuration@EnableMongoRepositories(mongoTemplateRef = "mongoDB2")public class DB2Template &#123; @Autowired @Qualifier("mongodb2") private MongoProperties mongoProperties; @Bean("mongoDB2") public MongoTemplate db2Template()&#123; return new MongoTemplate(db2Factory(mongoProperties)); &#125; @Bean public MongoDbFactory db2Factory(MongoProperties mongoProperties)&#123; return new SimpleMongoDbFactory(new MongoClient(mongoProperties.getHost(),mongoProperties.getPort()),mongoProperties.getDatabase()); &#125;&#125; 123@Repositorypublic interface DB2Repository extends MongoRepository&lt;MongoDB2,String&gt;&#123;&#125; ÁúÅÁï•DB1TemplateÁöÑÈÖçÁΩÆÔºåÂü∫Êú¨‰∏äÈÉΩÊòØÂ∑Æ‰∏çÂ§öÁöÑ ‰∏ÄËà¨‰ΩøÁî®‰∏äËø∞ÁöÑÈÖçÁΩÆÂ¶ÇÊûúÈÉΩOKÁöÑËØùÔºåÂàôÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®@AutowiredÊ≥®Ëß£‰ΩøÁî®„ÄÇ123456789101112@Servicepublic class MongoService &#123; @Autowired DB2Repository db2Repository; @Autowired DB1Repository db1Repository; public void mongoUpdate()&#123; db2Repository.save(new MongoDB2()); &#125;&#125; ‰ΩÜÊòØ‰ΩøÁî®AOPÁöÑÊñπÂºèÁöÑËØùÔºåÂàáServiceËøòÊòØRepositoryÊòØÈúÄË¶ÅÈÄâÊã©ÁöÑÔºåÈ¶ñÂÖàÂõ†‰∏∫Âú®‰∏öÂä°‰ΩøÁî®‰∏≠ÔºåËÇØÂÆöÊòØÂåÖÂê´ËÆ∏Â§öÁöÑServiceÁöÑÔºåÂ¶ÇÊûú‰ª•ÂêéÈúÄË¶ÅÂÜçÊ∑ªÂä†ÂÖ∂‰ªñÁöÑServiceÔºåËøòÈúÄË¶ÅÊ∑ªÂä†ÂàáÁÇπÔºåÊØîËæÉÈ∫ªÁÉ¶„ÄÇ Â¶ÇÊûúÊòØÂàáRepositoryÁöÑËØùÔºåÈÇ£‰πàËøôÂ∞±Â•ΩÂäû‰∫ÜÔºåÁõ¥Êé•ÈÖçÁΩÆ‰∏Ä‰∏™‰∏ªRepositoryÔºåÁÑ∂ÂêéÂàáËøô‰∏™‰∏ªRepositoryÔºåËøôÊ†∑Â∞±ÂèØ‰ª•Â∞ÜServiceÂíåAOPËøõË°åËß£ËÄ¶„ÄÇ‰ªéËÄåÂú®ServiceÈáåÈù¢ÔºåÂèØ‰ª•ÈöèÊÑè‰ΩøÁî®ÂÖ∂‰ªñÁöÑÊï∞ÊçÆÊ∫êÔºå‰æãÂ¶Ç:MysqlÊï∞ÊçÆÊ∫êÔºåRedisÊï∞ÊçÆÊ∫êÁ≠â„ÄÇÊõ¥Âä†ÁÅµÊ¥ª ÂàáÈù¢ÂÜôÊ≥ï1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465@Slf4j@Component@Aspect@Order(-1)public class MongoAspect implements ApplicationContextAware &#123; private ApplicationContext applicationContext; @Around("execution(* com.somersames.config.mongo.db2.DB2Repository.*(..))") public Object doSwitch(ProceedingJoinPoint joinPoint) throws Throwable &#123; return aopTest1(joinPoint);// aopTest2(joinPoint); &#125; private Object aopTest1(ProceedingJoinPoint joinPoint) throws Throwable &#123; Field methodInvocationField = joinPoint.getClass().getDeclaredField("methodInvocation"); methodInvocationField.setAccessible(true); ReflectiveMethodInvocation o = (ReflectiveMethodInvocation) methodInvocationField.get(joinPoint); Field targetField = o.getClass().getDeclaredField("target"); targetField.setAccessible(true); Object target = targetField.get(o); Field modifiersField = Field.class.getDeclaredField("modifiers"); modifiersField.setAccessible(true); Object singletonTarget = AopProxyUtils.getSingletonTarget(target); Field mongoOperationsField = singletonTarget.getClass().getDeclaredField("mongoOperations"); mongoOperationsField.setAccessible(true); //ÈúÄË¶ÅÁßªÈô§final‰øÆÈ•∞ÁöÑÂèòÈáè modifiersField.setInt(mongoOperationsField,mongoOperationsField.getModifiers()&amp;~Modifier.FINAL); mongoOperationsField.set(singletonTarget, applicationContext.getBean("mongoDB1")); return joinPoint.proceed(); &#125; private Object aopTest2(ProceedingJoinPoint joinPoint) throws Throwable &#123; Field methodInvocationField = joinPoint.getClass().getDeclaredField("methodInvocation"); methodInvocationField.setAccessible(true); ReflectiveMethodInvocation o = (ReflectiveMethodInvocation) methodInvocationField.get(joinPoint); Field h = o.getProxy().getClass().getSuperclass().getDeclaredField("h"); h.setAccessible(true); AopProxy aopProxy = (AopProxy) h.get(o.getProxy()); Field advised = aopProxy.getClass().getDeclaredField("advised"); advised.setAccessible(true); Object o2 = advised.get(aopProxy); if (o2 instanceof Advised) &#123; Object o1 = ((Advised) o2).getTargetSource().getTarget(); Object o3 = AopProxyUtils.getSingletonTarget(o1); System.out.println(o3); Field mongoOperationsField = o3.getClass().getDeclaredField("mongoOperations"); mongoOperationsField.setAccessible(true); Field modifiersField = Field.class.getDeclaredField("modifiers"); modifiersField.setAccessible(true); //ÈúÄË¶ÅÁßªÈô§final‰øÆÈ•∞ÁöÑÂèòÈáè modifiersField.setInt(mongoOperationsField, mongoOperationsField.getModifiers() &amp; ~Modifier.FINAL); mongoOperationsField.set(o3, applicationContext.getBean("mongoDB1")); &#125; return joinPoint.proceed(); &#125; @Override public void setApplicationContext(org.springframework.context.ApplicationContext applicationContext) throws BeansException &#123; this.applicationContext = applicationContext; &#125;&#125; Âú®‰∏äËø∞ÁöÑ‰ª£Á†Å‰∏≠ÔºåÊèê‰æõ‰∫Ü‰∏§ÁßçÁöÑAOPÁöÑÂÜôÊ≥ïÔºå‰ΩÜÊòØÊúÄÁªàÈÉΩÊòØËé∑ÂèñmongoOperationsÔºåÁÑ∂ÂêéÈÄöËøáapplicationContextÊù•ÊõøÊç¢„ÄÇ ÂØπÊØîAOPÁöÑRedisÂÜôÊ≥ïÔºåËøôÈáåÂèØ‰ª•ÁúãÂà∞Âú®Spring‰∏≠ÁöÑAOPÂÆûÁé∞ÔºåÊúÄËµ∑Á†Å‰ΩøÁî®JDKÂä®ÊÄÅ‰ª£ÁêÜÂíåCglib„ÄÇÊâÄ‰ª•Âú®Êú¨Êñá‰∏≠Ôºå‰ΩøÁî®ÁöÑÊòØ Field h = o.getProxy().getClass().getSuperclass().getDeclaredField(‚Äúh‚Äù); Ëøô‰∏™Â∞±ÊòØËé∑ÂèñJDKÂä®ÊÄÅ‰ª£ÁêÜÁöÑÂØπË±° Ëá≥Ê≠§ÔºåmongoÁöÑ‰∏§Áßç‰ª£ÁêÜÊñπÂºè9ÊúÄÂàùÁâàÁöÑ‰ª£Á†ÅÁºñÂÜôÂÆåÊØïÔºåÂêéÁª≠ÂèØËÉΩÈúÄË¶ÅÂØπ‰ª£Á†ÅËøõË°å‰ºòÂåñÔºå‰ªéËÄåÈÅøÂÖçÊØè‰∏ÄÊ¨°‰øÆÊîπapplication.ymlÈÉΩÈúÄË¶ÅÊâãÂä®Ê∑ªÂä†Repository ÂÆåÊï¥‰ª£Á†ÅÂèØ‰ª•ËÆøÈóÆhttps://github.com/Somersames/Multi-Resource]]></content>
      <categories>
        <category>Springboot</category>
      </categories>
      <tags>
        <tag>Springboot</tag>
        <tag>Mongo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring‰∏≠AOPÁöÑÊé¢Á¥¢‰∏éÂÆûË∑µ(‰∏Ä)‰πãRedisÂ§öÊï∞ÊçÆÊ∫êÂàáÊç¢]]></title>
    <url>%2F2019%2F03%2F12%2FSpring%E4%B8%ADAOP%E7%9A%84%E6%8E%A2%E7%B4%A2%E4%B8%8E%E5%AE%9E%E8%B7%B5(%E4%B8%80)%E4%B9%8BRedis%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%E5%88%87%E6%8D%A2%2F</url>
    <content type="text"><![CDATA[‰∏ÄËà¨Âú®È°πÁõÆÁöÑ‰ΩøÁî®ËøáÁ®ã‰∏≠ÔºåÊúâÊó∂ÂÄô‰∏∫‰∫ÜÂáèËΩªÊï∞ÊçÆÂ∫ìÁöÑÂéãÂäõÔºå‰ªéËÄåÂ∞Ü‰∏ÄÈÉ®ÂàÜÊï∞ÊçÆÁºìÂ≠òËá≥RedisÔºå‰ΩÜÊòØÈöèÁùÄ‰∏öÂä°ÈáèÁöÑÂ¢ûÂ§ö„ÄÇÊàë‰ª¨ÊâÄÈúÄË¶ÅÁöÑRedisÊúçÂä°Âô®‰πü‰ºöË∂äÊù•Ë∂äÂ§öÔºåÂ∞±ÁÆó‰∏çÈúÄË¶ÅÂ§ö‰∏™RedisÊï∞ÊçÆÊ∫êÔºåÈÇ£‰πàÂú®‰∏Ä‰∏™redisÈáåÈù¢ÔºåÂàáÊç¢‰∏çÂêåÁöÑDB‰πüÊòØÂæàÈ∫ªÁÉ¶ÁöÑ‰∏Ä‰ª∂‰∫ãÊÉÖ„ÄÇ ÈùûAOPÁöÑ‰∏ÄËà¨ÁöÑÂ§öÊï∞ÊçÆÊ∫êÊìç‰ΩúÂú®RedisÁöÑÂ§öÊï∞ÊçÆÊ∫ê‰ΩøÁî®‰∏≠Ôºå‰∏ÄËà¨ÁöÑÊñπÊ≥ïÊòØ‰ªéÈÖçÁΩÆÊñá‰ª∂‰∏≠ËØªÂèñÂ§ö‰∏™RedisPropertiesÔºåËØªÂèñÂà∞ÈÖçÁΩÆÊñá‰ª∂‰πãÂêéÔºåÂ∞ÜRedisPropertiesÈÖçÁΩÆÂà∞RedisTemplateÔºåÁÑ∂ÂêéÊØèÊ¨°‰ΩøÁî®ÁöÑÊó∂ÂÄôÂ∞±ÈÄöËøá‰∏çÂêåÁöÑTemplateÊù•Ë∞ÉÁî®RedisÊúçÂä°Âô®„ÄÇÁ§∫‰æãÂ¶Ç‰∏ã: ‰ª£Á†ÅÁ§∫‰æãRedisÁöÑÈÖçÁΩÆÁ±ª12345678910111213141516171819202122232425262728293031323334353637383940@Configuration@Order(1)@Slf4jpublic class RedisConfig &#123; @Bean(name = "redis1") @Primary JedisConnectionFactory jedisConnectionFactory1()&#123; JedisConnectionFactory jedisConnectionFactory =new JedisConnectionFactory(); jedisConnectionFactory.setHostName("127.0.0.1"); jedisConnectionFactory.setPort(6379); jedisConnectionFactory.setPassword("123456"); jedisConnectionFactory.setDatabase(0); return jedisConnectionFactory; &#125; @Bean(name = "redis2") @ConfigurationProperties("spring.redis.db1") JedisConnectionFactory jedisConnectionFactory2()&#123; JedisConnectionFactory jedisConnectionFactory =new JedisConnectionFactory(); jedisConnectionFactory.setHostName("127.0.0.1"); jedisConnectionFactory.setPort(6379); jedisConnectionFactory.setPassword("123456"); jedisConnectionFactory.setDatabase(2); return jedisConnectionFactory; &#125; @Bean public RedisTemplate&lt;String, Object&gt; redisTemplate() &#123; RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;String, Object&gt;(); template.setConnectionFactory(jedisConnectionFactory1()); return template; &#125; @Bean public RedisTemplate&lt;String, Object&gt; redisTemplate2() &#123; RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;String, Object&gt;(); template.setConnectionFactory(jedisConnectionFactory2()); return template; &#125;&#125; Âú®‰∏äÈù¢ÁöÑÈÖçÁΩÆÁ±ªÈáåÈù¢ÔºåÂàÜÂà´ÁîüÊàê‰∫Ü‰∏§‰∏™JedisConnectionFactoryÂíå‰∏§‰∏™RedisTemplateÔºåÈÇ£‰πàÂú®‰ΩøÁî®ÁöÑÊó∂ÂÄôÁõ¥Êé•ÈÄöËøáÊ≥®Ëß£@AutowiredË£ÖÈÖç‰∏§‰∏™RedisTemplateÂç≥ÂèØ„ÄÇ ‰ΩøÁî®Á§∫‰æã12345678910111213141516@Servicepublic class RedisCommonService &#123; @Autowired RedisTemplate&lt;String,Object&gt; redisTemplate ; @Autowired RedisTemplate&lt;String,Object&gt; redisTemplate2 ; public void redis1Save(String key,String value)&#123; redisTemplate.opsForValue().set(key,value); &#125; public void redis1Save2(String key,String value) &#123; redisTemplate2.opsForValue().set(key, value); &#125;&#125; Ë∞ÉÁî®123456789101112131415161718RestController@RequestMapping("/")public class RedisCommonController &#123; @Autowired RedisCommonService redisCommonService; @RequestMapping(value = "/redis1",method = RequestMethod.GET) public void redis1()&#123; redisCommonService.redis1Save("1","2"); &#125; @RequestMapping(value = "/redis2",method = RequestMethod.GET) public void redis2()&#123; redisCommonService.redis1Save2("2","3"); &#125;&#125; ÁÑ∂ÂêéÂú®RedisÁöÑÊúçÂä°Âô®‰∏äÂèØ‰ª•ÁúãÂà∞ ÂèØ‰ª•ÁúãÂà∞‰∏§‰∏™Êï∞ÊçÆÂàÜÂà´ÂÜôÂÖ•Âà∞‰∫Ü‰∏çÂêåÁöÑDb‰∏≠ ÈÄöËøáAOPÁöÑË∞ÉÁî®ÈÄöËøáAOPÊñπÊ≥ïË∞ÉÁî®ÁöÑÂü∫Á°ÄÊòØÈúÄË¶ÅËé∑ÂèñRedisTemplateÈáåÈù¢ÁöÑJedisConnectionFactoryÂàáÈù¢‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 1234567891011121314151617181920212223242526@Around("execution(* com.somersames.service.redis.RedisService.*(..))") public void as(ProceedingJoinPoint joinPoint) throws Throwable &#123; Field methodInvocationField = joinPoint.getClass().getDeclaredField("methodInvocation"); System.out.println(AopUtils.isAopProxy(joinPoint.getTarget())); methodInvocationField.setAccessible(true); ReflectiveMethodInvocation o = (ReflectiveMethodInvocation) methodInvocationField.get(joinPoint); Field h = o.getProxy().getClass().getDeclaredField("CGLIB$CALLBACK_0"); h.setAccessible(true); Object dynamicAdvisedInterceptor = h.get(o.getProxy()); Field advised = dynamicAdvisedInterceptor.getClass().getDeclaredField("advised"); advised.setAccessible(true); Object target = ((AdvisedSupport)advised.get(dynamicAdvisedInterceptor)).getTargetSource().getTarget(); Field re = target.getClass().getDeclaredField("redisTemplate"); re.setAccessible(true); Object re2= re.get(target); Field d = re2.getClass().getSuperclass().getDeclaredField("connectionFactory"); d.setAccessible(true); Object[] objs = joinPoint.getArgs(); if(objs != null &amp;&amp; objs.length !=0)&#123; re.set(target,applicationContext.getBean((String) objs[0])); &#125; joinPoint.proceed(); &#125; RedisServer123456789101112@Servicepublic class RedisService &#123; @Autowired RedisTemplate&lt;String,Object&gt; redisTemplate; public void aopRedis(String reditTemplate)&#123; redisTemplate.opsForValue().set("a","a"); &#125;&#125; ‰∏äËø∞ÁöÑ‰ª£Á†Å‰πüÂæàÁÆÄÂçïÔºåÂ∞±ÊòØËé∑ÂèñRedisServerÁöÑaopRedisÊñπÊ≥ïÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºåÁÑ∂ÂêéÈÄöËøáAOPÂ∞ÜÂÖ∂ÊõøÊç¢‰∏∫ÊåáÂÆöÁöÑRedisËøûÊé•„ÄÇÊµãËØïÂ¶Ç‰∏ã:12345678910111213@RestController@RequestMapping("/")public class AopController &#123; @Autowired RedisService redisService; @RequestMapping(value = "/redis",method = RequestMethod.GET) public void testCurd1()&#123; redisService.aopRedis("redisTemplate2"); &#125;&#125; Âú®AopControllerÈáåÈù¢ÔºåÊàëÊÉ≥ÈÄöËøáredisTemplate2Êù•ÊâßË°åaopRedisÊñπÊ≥ï„ÄÇ‰ΩÜÊòØÂú®RedisServiceÈáåÈù¢ÔºåÊàë‰ª¨ÂèàÊòØÈÖçÁΩÆÁöÑÊòØRedisËøûÊé•Êï∞ÊçÆÊ∫ê1ÔºåÈÇ£‰πàÂ¶Ç‰Ωï RedisTemplate&lt;String,Object&gt; redisTemplate; Ëøô‰∏™Êó∂ÂÄôÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂàáÈù¢ÔºåÁõ¥Êé•ÊõøÊç¢RedisTemplateÁöÑËøûÊé•Ôºå‰ªéËÄåËé∑ÂèñÊåáÂÆöÁöÑRedisËøûÊé•ÔºåÊµãËØïÂ¶Ç‰∏ãÔºöÂêØÂä®ÊúçÂä°„ÄÇËÆøÈóÆhttp://localhost:8080/redis„ÄÇ Âú®‰∏çÂºÄÂêØÂàáÈù¢ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂèØ‰ª•ÁúãÂà∞Áõ¥Êé•ËÆøÈóÆÁöÑÊòØ0Âè∑Â∫ìÔºåËÄåÂºÄÂêØÂàáÈù¢‰πãÂêéÔºåÂú®Ë∞ÉÁî®RedisServiceÁöÑÊó∂ÂÄôÔºåÁî±‰∫éÂàáÈù¢Â∞ÜRedisTemplateÁöÑconnectionFactoryÊõøÊç¢‰∏∫2Âè∑Â∫ìÔºåÊâÄ‰ª•ËÆøÈóÆÁªìÊûúÂ¶Ç‰∏ã: Êú¨ÁØáÊñáÁ´†Âè™ÊòØÁÆÄÂçïÁöÑ‰ªãÁªç‰∫Ü‰∏ãAOPÁöÑ‰ΩøÁî®Ôºå‰∏ãÈù¢Âá†ÁØáÂèØËÉΩ‰ºöÂü∫‰∫éËøôÁØáÊñáÁ´†ÂÅö‰∏Ä‰∫õAOPË°•ÂÖÖÂíåÂ¢ûÂä†‰∏Ä‰∫õÂÖ∂‰ªñÂäüËÉΩ„ÄÇ‰æãÂ¶ÇÔºöÊ∑ªÂä†RedisÁöÑAOPÁöÑËá™Âä®ÂàáÊç¢ÔºåÂêåÊó∂Ê∑ªÂä†Â§ö‰∏™RedisÊï∞ÊçÆÊ∫êÁöÑËá™Âä®Ê≥®ÂÖ•Ôºå‰∏çÂÜçÊâãÂä®ÂÜôBean„ÄÇÁÑ∂Âêé‰ºöÂèØËÉΩÂü∫‰∫éMongoÁöÑÂ§öÊï∞ÊçÆÊ∫êÊù•ËÆ≤Ëß£AOPÁöÑ‰∏çÂêå‰ª£ÁêÜËé∑ÂèñÊñπÂºèÔºåÂíå‰∏ÄËà¨ÈÄöÁî®ÁöÑËé∑ÂèñÊñπÂºè]]></content>
      <categories>
        <category>Springboot</category>
      </categories>
      <tags>
        <tag>Springboot</tag>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®MqÂÆûÁé∞Âª∂Êó∂ÈòüÂàó]]></title>
    <url>%2F2019%2F03%2F04%2F%E4%BD%BF%E7%94%A8Mq%E5%AE%9E%E7%8E%B0%E5%BB%B6%E6%97%B6%E9%98%9F%E5%88%97%2F</url>
    <content type="text"><![CDATA[Âú®ÂÆûÈôÖÁöÑÂ∫îÁî®ÂºÄÂèë‰∏≠Ôºå‰∏ãÊ∏∏Á≥ªÁªüÂπ∂‰∏çÈúÄË¶ÅÁ´ãÂç≥Â§ÑÁêÜ‰∏äÊ∏∏Á≥ªÁªüÁöÑmqÔºå‰ΩÜÊòØÂèà‰∏çÂèØËÉΩÂ∞ÜÊ∂àÊÅØÈòªÂ°ûÂú®‰∏äÊúâÁ≥ªÁªü‰∏≠„ÄÇ‰∏îËøô‰∏§‰∏™Á≥ªÁªü‰πãÈó¥ÂèàÊ≤°ÊúâÊé•Âè£Êèê‰æõÂá∫Êù•„ÄÇËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶ÅÈÄöËøáMqÁöÑÊ≠ª‰ø°ÈòüÂàóÊù•ÂÆûÁé∞‰∏Ä‰∏™Âª∂Êó∂ÊïàÊûú ÁÆÄ‰ªãÁî±‰∫éMqÁöÑÂèëÈÄÅÊñπ‰∏çÊîØÊåÅÂª∂ËøüÂèëÈÄÅ(ÁõÆÂâçÁöÑÊñ∞ÁâàÊú¨ÂèØ‰ª•‰ΩøÁî®Êèí‰ª∂Êù•ÊîØÊåÅÔºå‰ΩÜÊòØÂèØËÉΩÁî±‰∫éÂÖ¨Âè∏ÁöÑÂÖ∂‰ªñÈôêÂà∂ÔºåÂØºËá¥Êó†Ê≥ïÂçáÁ∫ß)ÔºåËøôÊó∂ÂÄôÂ∞±ÈúÄË¶Å‰ΩøÁî®MqÁöÑÊ≠ª‰ø°ÈòüÂàóÊù•ÂÆûÁé∞Âª∂Êó∂ÈòüÂàó ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåMqÁöÑÂèëÈÄÅÊµÅÁ®ãÂ¶Ç‰∏ãÔºö MqÁöÑÊ≠ª‰ø°ÈòüÂàóÂú®MqÁöÑ‰ΩøÁî®‰∏≠ÔºåÊ≠ª‰ø°ÈòüÂàóÁî®‰∫éÂ§ÑÁêÜ‰∏Ä‰∏ã‰∏âÁßçÊÉÖÂÜµÔºö The message is negatively acknowledged by a consumer using basic.reject or basic.nack with requeue parameter set to false The message expires due to TTL; or The message is dropped because its queue exceeded a length limit ‰∏äËø∞‰∏âÁßçÊÉÖÂÜµÂàÜÂà´ÊòØ Ê∂àË¥πËÄÖÊãíÁªù‰∫ÜËØ•MqÔºåÂêåÊó∂Ê∂àË¥πËÄÖ‰πüËÆæÁΩÆËØ•Ê∂àÊÅØ‰∏çÈáçÊñ∞ÂÖ•Èòü„ÄÇ Ê∂àÊÅØËøáÊúüÔºåÂç≥Êó†‰∫∫Ê∂àË¥π ÈòüÂàóËÆæÁΩÆ‰∫ÜÈïøÂ∫¶ÔºåÂêåÊó∂ÈòüÂàóÂ∑≤Êª° Áî±‰∫éMq‰∏çÊîØÊåÅÊ∂àÊÅØÁöÑÂª∂ËøüÂèëÈÄÅÔºåÂç≥Ê∂àÊÅØ‰∏ÄÁªèÊäïÈÄíÔºåÂ∞±‰ºöÈ©¨‰∏äÂÖ•ÈòüÔºåÂà∞Ëææ‰∫§Êç¢Êú∫„ÄÇÁÑ∂ÂêéÊ†πÊçÆ‰∫§Êç¢Êú∫ÁöÑÂ±ûÊÄßÔºåËøõË°åÊäïÈÄí„ÄÇ ËøôÊ†∑Â∞±Â∏¶Êù•‰∫Ü‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂ¶ÇÊûúÂèëÈÄÅÊñπÈúÄË¶ÅÊ∂àË¥πËÄÖÁ≠âÂæÖ‰∏ÄÂÆöÁöÑÊó∂Èó¥ÊâçËÉΩËøõË°åÊ∂àË¥π„ÄÇÂ¶ÇÊûú‰∏çÁªèÁî±Ê≠ª‰ø°ÈòüÂàóÔºåÈÇ£‰πàÂè™ËÉΩÂú®ÂèëÈÄÅÊñπÂÅöÁ≠âÂæÖ„ÄÇ ‰æãÂ¶Ç‰ΩøÁî®Thread.sleep()Êù•ÂÆûÁé∞ÔºåÁî±‰∫éSleepÊñπÊ≥ïÊòØÈòªÂ°ûÁöÑÔºåÊâÄ‰ª•ËøôÊ†∑ÂÅöÂèà‰ºöÂΩ±ÂìçÂà∞ÊÄßËÉΩ„ÄÇÂèàÊàñËÄÖÈÄöËøáÂÆöÊó∂‰ªªÂä°Êù•ÂÆûÁé∞Ôºå‰ΩÜÊòØÂÆöÊó∂‰ªªÂä°ÊØè‰∏ÄÊ¨°ÂèàË¶ÅÂéªÂèñÂá∫ËØ•ÂèëÈÄÅÁöÑMqÔºåÁÑ∂ÂêéÂÜçÂèëÂá∫ÂéªÔºåËøôÊ†∑Â∞±‰ºöÈùûÂ∏∏ÁöÑÂΩ±ÂìçÂà∞ÊïàÁéá„ÄÇ Ê≠ª‰ø°ÈòüÂàóÂÆûÁé∞Âª∂ËøüÈòüÂàóÈÄöËøáRabbitmqÁöÑÊ≠ª‰ø°ËΩ¨ÂèëËΩ¨ÂèëËßÑÂàô2Ôºå‰æøÂèØ‰ª•ÂÆûÁé∞‰∏Ä‰∏™Âª∂Êó∂ÈòüÂàó„ÄÇÂÖ∑‰ΩìÊµÅÁ®ãÂ¶Ç‰∏ãÔºö ËøôÈáåÂÆûÁé∞ÁöÑÂÖ≥ÈîÆÊòØËÆ≤Ê∂àË¥πÈòüÂàóËÆæÁΩÆ‰∏∫DLK,TTL,DLXÔºåÂÖ∑‰ΩìÂ¶Ç‰∏ãÔºö Âú®‰∏äÂõæÈáåÈù¢ÔºåÂèØ‰ª•ÁúãÂà∞TutorialsÊòØ‰∏Ä‰∏™Ê∂àË¥πÈòüÂàóÔºåÂêåÊó∂Â∑≤ÁªèËÆæÁΩÆ‰∫ÜÂÆÉÁöÑÊ≠ª‰ø°ËΩ¨ÂèëËßÑÂàô„ÄÇËÄådTutorialsÊòØ‰∏Ä‰∏™Ê≠ª‰ø°ÈòüÂàóÔºåËøô‰∏™ÈòüÂàóÂ∞±ÊòØÁî®‰∫éÂ≠òÊîæÊ≠ª‰ø°ÈòüÂàó ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728293031323334353637 ConnectionFactory factory = new ConnectionFactory(); factory.setHost(HOST); factory.setUsername(USER); factory.setPassword(PASSWORD); factory.setPort(5672); factory.setVirtualHost("/"); // Â£∞Êòé‰∏Ä‰∏™ËøûÊé• connection = factory.newConnection(); channel = connection.createChannel(); // Âú®ËøôÈáåÂàÜÂà´Êñ∞Âª∫‰∏§‰∏™ExchangeÔºå‰∏Ä‰∏™ÊòØÊ≠ª‰ø°ÁöÑExchangeÔºå‰∏Ä‰∏™ÊòØÊ∂àË¥πËÄÖÁöÑExchange channel.exchangeDeclare(exchangeName,"direct",true,false,null); channel.exchangeDeclare(dExchangeName,"direct",true,false,null); byte[] bytes =messgae.getBytes(); //Â£∞Êòé‰∏Ä‰∏™ÈòüÂàó - ÊåÅ‰πÖÂåñÔºåÂêåÊó∂ËÆæÁΩÆÊ≠ª‰ø°ÁöÑËΩ¨ÂèëExchangeÂíåQueue„ÄÇ‰ª•ÂèäÊ∂àÊÅØÁöÑËøáÊúüÊó∂Èó¥ Map&lt;String,Object&gt; args = new HashMap&lt;String, Object&gt;(); args.put("x-dead-letter-exchange",dExchangeName); args.put("x-dead-letter-routing-key",routingKey); args.put("x-message-ttl",2000); channel.queueDeclare(queueName, true, false, false, args); channel.queueDeclare(dQueeueName, true, false, false, null); //ËÆæÁΩÆÈÄöÈÅìÈ¢ÑÂèñËÆ°Êï∞ channel.basicQos(1); //Â∞ÜÊ∂àÊÅØÈòüÂàóÁªëÂÆöÂà∞Exchange channel.queueBind(queueName, exchangeName, routingKey); channel.queueBind(dQueeueName, dExchangeName, routingKey); channel.basicPublish(exchangeName, routingKey, null, bytes);&#125; Áîü‰∫ßËÄÖ‰ª£Á†ÅÔºö 1234567891011121314151617181920212223242526272829303132ConnectionFactory factory = new ConnectionFactory(); factory.setHost(HOST); factory.setUsername(USER); factory.setPassword(PASSWORD); factory.setPort(5672); factory.setVirtualHost("/"); // Â£∞Êòé‰∏Ä‰∏™ËøûÊé• connection = factory.newConnection(); // Â£∞ÊòéÊ∂àÊÅØÈÄöÈÅì channel = connection.createChannel(); //Âú®ËøôÈáåÊ∂àË¥πËÄÖÁõ¥Êé•Ê∂àË¥πÊ≠ª‰ø°ÈòüÂàóÂç≥ÂèØ channel.queueBind(dQueueName, dExchangeName, routingKey); DefaultConsumer defaultConsumer =new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; String str = new String(body); System.out.println(str); System.out.println(new Date()); if("ÊµãËØï".equals(str))&#123; channel.basicReject(envelope.getDeliveryTag(),false); &#125;else&#123; channel.basicAck(envelope.getDeliveryTag(),false); &#125; &#125; &#125;; channel.basicConsume(dQueueName,defaultConsumer); ‰∏ãÂõæ‰∏≠ÂèØ‰ª•ÁúãÂà∞ÔºåÊ∂àË¥πËÄÖÊÄªÊòØÂú®2ÁßíÈíü‰πãÂêéÊî∂Âà∞‰∫ÜÂèëÈÄÅÊñπÂèëÈÄÅÁöÑÊ∂àÊÅØÔºåËøôÊó∂‰∏Ä‰∏™Âª∂Êó∂ÈòüÂàóÂ∞±ÂÆûÁé∞‰∫Ü ËØ¶ÁªÜ‰ª£Á†ÅËøûÊé•ÂÖ∑‰ΩìÁöÑ‰ª£Á†Å‰ª•‰∏ä‰º†Ëá≥Github:https://github.com/Somersames/MqTutorials]]></content>
      <categories>
        <category>Rabbitmq</category>
      </categories>
      <tags>
        <tag>Rabbitmq</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âú®Mysql‰∏≠‰ΩøÁî®ÂèòÈáèËøõË°åÂ§çÊùÇÁöÑÊü•ËØ¢(‰∏Ä)]]></title>
    <url>%2F2019%2F02%2F27%2F%E5%9C%A8Mysql%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%8F%98%E9%87%8F%E8%BF%9B%E8%A1%8C%E5%A4%8D%E6%9D%82%E7%9A%84%E6%9F%A5%E8%AF%A2(%E4%B8%80)%2F</url>
    <content type="text"><![CDATA[Ê≥®ÊÑèÔºåÊ≠§ÊñáÁ´†‰ΩøÁî®ÁöÑMysqlÂèòÈáèÂùáÊòØÁî®Êà∑ÂèòÈáè ÁÆÄ‰ªãÈ¶ñÂÖàÁúã‰∏Ä‰∏™ÈúÄÊ±ÇÔºåÊúâÂ¶Ç‰∏ãÊï∞ÊçÆË°®Ôºö12345678910111213mysql&gt; select * from t1 order by area_id;+---------+-----------+| area_id | order_num |+---------+-----------+| 1 | 22 || 1 | 10 || 1 | 10 || 2 | 10 || 2 | 10 || 2 | 22 || 3 | 10 |+---------+-----------+7 rows in set (0.14 sec) ÂèØ‰ª•ÁúãÂà∞ÔºåËøôÊòØ‰∏Ä‰∏™ÂæàÈùûÂ∏∏ÊôÆÈÄöÁöÑÊï∞ÊçÆË°®„ÄÇ ÈúÄÊ±Ç‰∏ÄÂÅáËÆæÊüê‰∏ÄÊ¨°ËøêËê•ÈúÄË¶ÅÁªüËÆ°ÊØè‰∏Ä‰∏™Âú∞Âå∫ÁöÑÈîÄÈáèÈáèÔºåËÆ©‰Ω†Âá∫‰∏Ä‰∏™Êä•Ë°®Áªô‰ªñÔºåÈÇ£‰πàÊñπÊ≥ïÂ¶Ç‰∏ãÔºö ÊñπÊ≥ï‰∏ÄÁªüËÆ°ÊØè‰∏Ä‰∏™Âú∞Âå∫ÁöÑÊÄªÈîÄÈáèÔºöÂ∏∏Áî®SQLÂ¶Ç‰∏ãÔºö123456789mysql&gt; select t1.area_id, sum(t1.order_num) from t1 group by area_id;+---------+-------------------+| area_id | sum(t1.order_num) |+---------+-------------------+| 1 | 42 || 2 | 42 || 3 | 10 |+---------+-------------------+3 rows in set (0.14 sec) ‰ªéÂõæ‰∏≠ÂèØ‰ª•ÁúãÂà∞ÔºåËØ•SQLÂ∑≤ÁªèÂèØ‰ª•ÊääÊØè‰∏™Âú∞Âå∫ÁöÑÈîÄÂîÆÊÄªÈáèÂÖ®ÈÉ®ÁªüËÆ°ÂÆåÊØï‰∫Ü„ÄÇ‰ΩÜÊòØÊúâ‰∏ÄÂ§©ÔºåÈúÄÊ±ÇÂèàÂèò‰∫Ü„ÄÇ ÈúÄÊ±Ç‰∫åÔºöÁé∞Âú®ÂÖ∂‰ªñÁöÑËøêËê•‰πüËøáÊù•‰∫ÜÔºåËØ¥ÈúÄË¶ÅÊåâÁÖßÂå∫ÂüüÁöÑIdÂÅö‰∏∫‰ºòÂÖàÁ∫ßÔºå‰æùÊ¨°ÁªüËÆ°ÊØè‰∏Ä‰∏™‰ºòÂÖàÁ∫ßÂú∞Âå∫ÁöÑÊÄªÈîÄÈáè„ÄÇÂç≥Â¶Ç‰∏ãÔºö Âú∞Âå∫1ÁöÑÈîÄÈáè‰∏∫42ÔºåÁî±‰∫éÊ≤°ÊúâÂú∞Âå∫Id‰∏∫0ÁöÑÔºåÊâÄ‰ª•Âú∞Âå∫1ÁöÑÈîÄÈáèÊòØ42„ÄÇ Âú∞Âå∫2ÁöÑÈîÄÈáè‰∏∫42Ôºå‰ΩÜÊòØÁî±‰∫éÂú∞Âå∫2ÁöÑ‰ºòÂÖàÁ∫ßÈ´ò‰∫é1ÔºåÊâÄ‰ª•Âú∞Âå∫2ÁöÑÈîÄÈáèÈúÄË¶ÅÂåÖÂê´Âú∞Âå∫1ÁöÑÈîÄÈáè Âú∞Âå∫3ÁöÑÈîÄÈáè‰∏∫42Ôºå‰ΩÜÊòØÁî±‰∫éÂú∞Âå∫3ÁöÑ‰ºòÂÖàÁ∫ßÈ´ò‰∫é1Âíå2ÔºåÊâÄ‰ª•Âú∞Âå∫3ÁöÑÈîÄÈáèÈúÄË¶ÅÂåÖÂê´Âú∞Âå∫1ÁöÑÈîÄÈáèÂíåÂú∞Âå∫2ÁöÑÈîÄÈáè Ê≠§Êó∂‰Ω†‰ºöÂèëÁé∞ÔºåËôΩÁÑ∂ÂèØ‰ª•ËøõË°ågroupbyÔºå‰ΩÜÊòØÂç¥Êó†Ê≥ïÁªüËÆ°‰πãÂâçÁöÑÁ¥ØÂä†ÂíåÔºåÊ≠§Êó∂MysqlÂèòÈáèÂ∞±ÂèØ‰ª•‰ΩøÁî®‰∫Ü ÊñπÊ≥ï‰∏Ä:1234567891011121314mysql&gt; SELECT r1.area_id, @t_total := @t_total + r1.total AS &apos;t_total&apos; FROM ( SELECT @t_total := 0 ) r, ( SELECT t1.area_id, sum( t1.order_num ) AS &apos;total&apos; FROM t1 GROUP BY area_id ) r1 order by r1.area_id;+---------+---------+| area_id | t_total |+---------+---------+| 1 | 42 || 2 | 84 || 3 | 94 |+---------+---------+3 rows in set (0.18 sec) Áî±‰∫éÈúÄÊ±ÇÊòØÈúÄË¶ÅÈ´ò‰∏ÄÁ∫ßÁöÑÂú∞Âå∫ÈúÄË¶ÅÁªüËÆ°ÊâÄ‰ª•‰Ωé‰∏ÄÁ∫ßÂú∞Âå∫ÁöÑÈîÄÈáèÔºåÊâÄ‰ª•Ê≠§Êó∂Ëøô‰∏™ÈúÄÊ±ÇÂ∑≤ÁªèÂÆåÊàê‰∫Ü„ÄÇ Ê≠§Êó∂Êü•ÁúãSQLÁöÑÊïàÊûúÔºå‰ºöÂèëÁé∞ÔºåÂú∞Âå∫2ÁöÑÈîÄÈáèÂ∑≤ÁªèÂåÖÂê´‰∫ÜÂú∞Âå∫1ÁöÑÔºåËÄåÂú∞Âå∫3ÁöÑÈîÄÈáèÂ∑≤ÁªèÂåÖÂê´‰∫ÜÂú∞Âå∫1ÂíåÂú∞Âå∫2ÁöÑÔºåÊâÄ‰ª•ËØ•Êù°SQLÂ∑≤ÁªèÁ¨¶ÂêàËøêËê•ÁöÑÈúÄÊ±Ç‰∫Ü„ÄÇ MysqlÂèòÈáèÁöÑÂàùÊ≠•‰ΩøÁî®Âú®‰∏äÈù¢ÁöÑËøôÊù°SQL‰∏≠ÔºåÂèØ‰ª•ÁúãÂà∞Âá∫Áé∞‰∫Ü@t_totalËøô‰∏™ÂèòÈáèÔºåÂêåÊó∂‰πüÂá∫Áé∞‰∫Ü:=Êìç‰ΩúÁ¨¶ÔºåËøôÂ∞±ÊòØMysqlÁöÑÂèòÈáè„ÄÇ ÈúÄÊ±Ç‰∏âÁé∞Âú®ËøêËê•ÂèëÁé∞ÔºåËøôÊ†∑ÁªüËÆ°ÁöÑËØùÊúâÁÇπÈóÆÈ¢òÔºåÈúÄË¶ÅËøõË°åË∞ÉÊï¥‰∏ãÔºö Âú∞Âå∫1ÁöÑÈîÄÈáè‰∏∫42Ôºå‰∏çËÉΩÂåÖÂê´Ëá™Ë∫´ÁöÑÈîÄÈáèÔºå‰∫éÊòØÂè™ËÉΩÁªüËÆ°ÊØî1Â∞èÁöÑÂú∞Âå∫ÔºåÊâÄ‰ª•Âú∞Âå∫1ÁöÑÈîÄÈáèÊòØ0„ÄÇ Âú∞Âå∫2ÁöÑÈîÄÈáè‰∏∫42Ôºå‰∏çËÉΩÂåÖÂê´Ëá™Ë∫´ÁöÑÈîÄÈáèÔºå‰∫éÊòØÂè™ËÉΩÁªüËÆ°ÊØî2Â∞èÁöÑÂú∞Âå∫ÔºåÊâÄ‰ª•Âú∞Âå∫1ÁöÑÈîÄÈáèÊòØ42„ÄÇ Âú∞Âå∫2ÁöÑÈîÄÈáè‰∏∫10Ôºå‰∏çËÉΩÂåÖÂê´Ëá™Ë∫´ÁöÑÈîÄÈáèÔºå‰∫éÊòØÂè™ËÉΩÁªüËÆ°ÊØî3Â∞èÁöÑÂú∞Âå∫ÔºåÊâÄ‰ª•Âú∞Âå∫3ÁöÑÈîÄÈáèÊòØ84„ÄÇ ÊñπÊ≥ï‰∏Ä12345678910111213141516mysql&gt; SELECT r1.area_id, @t_total := @t_total + r1.total AS 't_total', @before_total := @t_total - r1.total AS 'before_total' FROM ( SELECT @t_total := 0 ) r, ( SELECT @before_total := 0 ) rr, ( SELECT t1.area_id, sum( t1.order_num ) AS 'total' FROM t1 GROUP BY area_id ) r1;+---------+---------+--------------+| area_id | t_total | before_total |+---------+---------+--------------+| 1 | 42 | 0 || 2 | 84 | 42 || 3 | 94 | 84 |+---------+---------+--------------+3 rows in set (0.16 sec) Ê≠§Êó∂‰ºöÁúãÂà∞before_totalÂ≠óÊÆµÂÆåÁæéÁöÑÁ¨¶ÂêàÂíåÈúÄÊ±Ç‰∏â„ÄÇ MysqlÂèòÈáèÈÄöËøáÈúÄÊ±Ç‰∫åÂíåÈúÄÊ±Ç‰∏âÂèØ‰ª•ÁúãÂà∞MysqlÁöÑÂèòÈáè‰ΩøÁî®ÊäÄÂ∑ßÔºåÂú®Mysql‰∏≠Ôºå‰ΩøÁî®ÂèòÈáèÂèØ‰ª•ÂÆûÁé∞ÂæàÂ§öÂ§çÊùÇÁöÑÈúÄÊ±Ç„ÄÇ‰ΩÜÊòØÂú®‰ΩøÁî®MysqlÂèòÈáèÁöÑÊó∂ÂÄôÈúÄË¶ÅÊ≥®ÊÑèÔºåÁî®Êà∑ÂèòÈáèÈúÄË¶ÅÈÖçÂêàSelect‰∏ÄËµ∑Êù•‰ΩøÁî®„ÄÇ]]></content>
      <categories>
        <category>Mysql</category>
      </categories>
      <tags>
        <tag>Mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javaÂºÇÊ≠•IOÁöÑÂõûË∞ÉÊú∫Âà∂]]></title>
    <url>%2F2019%2F01%2F24%2Fjava%E5%BC%82%E6%AD%A5IO%E7%9A%84%E5%9B%9E%E8%B0%83%E6%9C%BA%E5%88%B6%2F</url>
    <content type="text"><![CDATA[ÂºÇÊ≠•Âú®JavaÁöÑnioÈáåÈù¢ÔºåÁªèÂ∏∏ÈÅáÂà∞ÁöÑ‰∏Ä‰∏™ËØçËØ≠ÊòØÂõûË∞ÉÔºå‰∏Ä‰∏™‰∏ªÁ∫øÁ®ãË¥üË¥£ÂàÜÂèëÂêÑÁßçËØ∑Ê±ÇËá≥Â≠êÁ∫øÁ®ãÔºåÂêåÊó∂Â≠êÁ∫øÁ®ãÂ§ÑÁêÜÂÆåÊØï‰πãÂêéÈÄöÁü•‰∏ªÁ∫øÁ®ãÔºåËøôÂÖ∂‰∏≠Â∞±Ê∂âÂèäÂà∞‰∫ÜÂõûË∞ÉÊú∫Âà∂„ÄÇ Âú®Java‰∏≠ÔºåÂºÇÊ≠•IOÁöÑÂõûË∞ÉÊñπÂºè‰∏ªË¶ÅÊòØCallBackÂíåFuture„ÄÇ Áî±‰∫éFutureËé∑ÂèñÁªìÊûúÊòØ‰∏ÄÁßçÈòªÂ°ûÁöÑÊñπÂºèÔºåÊâÄ‰ª•Êú¨Ê¨°Â∞±‰∏ªË¶ÅÊù•‰∫ÜËß£CallbackÂõûË∞ÉÊñπÂºèÁöÑËøêË°åÊú∫Âà∂„ÄÇ Áî±‰∫éÂú®ÂºÇÊ≠•IOÈáåÈù¢Ôºå‰∏ªÁ∫øÁ®ã‰∏çÈúÄË¶ÅÁ≠âÂæÖÂ≠êÁ∫øÁ®ãÊù•Ëé∑ÂèñÁªìÊûúÔºåÊâÄ‰ª•ÂèØ‰ª•ÊûÅÂ§ßÁöÑÊèêÈ´òÁ®ãÂ∫èËøêË°åÁöÑÊïàÁéáÔºå‰ΩÜÊòØÂ≠êÁ∫øÁ®ãÂøÖÈ°ªÂú®ÂÆåÊàê‰πãÂêéÈÄöÁü•Áà∂Á∫øÁ®ãÔºå‰∫éÊó∂ËøôÂ∞±ÂºïÂá∫‰∫ÜÂõûË∞É„ÄÇ Âú®Java‰∏≠ÂõûË∞ÉÊòØÈÄöËøá‰∏Ä‰∏™ÂåøÂêçÂØπË±°Êù•ÂÆûÁé∞ÔºåÊØè‰∏Ä‰∏™Á∫øÁ®ãÂ≠êÁ∫øÁ®ãÂú®ËøêË°åÁöÑÊó∂ÂÄôÈÉΩ‰ºö‰º†ÂÖ•‰∏Ä‰∏™ÂåøÂêçÁöÑÂØπË±°ÔºåÁÑ∂ÂêéÂ≠êÁ∫øÁ®ãÂÆåÊàê‰ªªÂä°‰πãÂêéÔºåÈÄöËøáË∞ÉÁî®ËØ•ÂØπÂåøÂêçÂØπË±°Êù•ËøõË°åÂõûË∞É ‰ª£Á†ÅÔºöÂõûË∞ÉÊé•Âè£1234public interface ComplateHande &#123; void complated(); void fial();&#125; Â≠êÁ∫øÁ®ã12345678910111213141516171819202122232425262728293031public class ClientServer extends Thread&#123; private ComplateHande complateHande; private int sleepTime; private String message; public ClientServer(ComplateHande complateHande,String message,int sleepTime) &#123; this.message= message; this.sleepTime = sleepTime; this.complateHande = complateHande; &#125; public ClientServer() &#123; &#125; @Override public void run() &#123; try &#123; comulate(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; private void comulate() throws InterruptedException &#123; Thread.currentThread().sleep(sleepTime*1000); System.out.println(this.message); this.complateHande.complated(); &#125;&#125; MainÊñπÊ≥ï12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061public class MainServer &#123; public static void main(String[] args) throws InterruptedException &#123; ClientServer clientServer1 =new ClientServer(new ComplateHande() &#123; @Override public void complated() &#123; System.out.println("Â§ÑÁêÜÂÆåÊØï"); &#125; @Override public void fial() &#123; System.out.println("Â§ÑÁêÜÂ§±Ë¥•"); &#125; &#125;,"‰∏ÄÂè∑‰ªªÂä°",2); clientServer1.start(); ClientServer clientServer2 =new ClientServer(new ComplateHande() &#123; @Override public void complated() &#123; System.out.println("2Â§ÑÁêÜÂÆåÊØï"); &#125; @Override public void fial() &#123; System.out.println("Â§ÑÁêÜÂ§±Ë¥•"); &#125; &#125;,"‰∫åÂè∑‰ªªÂä°",1); clientServer2.start(); ClientServer clientServer3 =new ClientServer(new ComplateHande() &#123; @Override public void complated() &#123; System.out.println("3Â§ÑÁêÜÂÆåÊØï"); &#125; @Override public void fial() &#123; System.out.println("2Â§ÑÁêÜÂ§±Ë¥•"); &#125; &#125;,"‰∏âÂè∑‰ªªÂä°",1); clientServer3.start(); ClientServer clientServer4 =new ClientServer(new ComplateHande() &#123; @Override public void complated() &#123; System.out.println("4Â§ÑÁêÜÂÆåÊØï"); &#125; @Override public void fial() &#123; System.out.println("Â§ÑÁêÜÂ§±Ë¥•"); &#125; &#125;,"ÂõõÂè∑‰ªªÂä°",3); clientServer4.start(); Thread.currentThread().sleep(1000); System.out.println("Ëá™Â∑±Â§ÑÁêÜËá™Â∑±ÁöÑ‰∫ãÊÉÖ+1"); Thread.currentThread().sleep(1000); System.out.println("Ëá™Â∑±Â§ÑÁêÜËá™Â∑±ÁöÑ‰∫ãÊÉÖ+1"); Thread.currentThread().sleep(1000); System.out.println("Ëá™Â∑±Â§ÑÁêÜËá™Â∑±ÁöÑ‰∫ãÊÉÖ+1"); Thread.currentThread().sleep(1000); System.out.println("Ëá™Â∑±Â§ÑÁêÜËá™Â∑±ÁöÑ‰∫ãÊÉÖ+1"); Thread.currentThread().sleep(10000); &#125;&#125; ËøêË°åÁªìÊûú123456789101112‰∫åÂè∑‰ªªÂä°2Â§ÑÁêÜÂÆåÊØï‰∏âÂè∑‰ªªÂä°3Â§ÑÁêÜÂÆåÊØïËá™Â∑±Â§ÑÁêÜËá™Â∑±ÁöÑ‰∫ãÊÉÖ+1‰∏ÄÂè∑‰ªªÂä°Ëá™Â∑±Â§ÑÁêÜËá™Â∑±ÁöÑ‰∫ãÊÉÖ+1Â§ÑÁêÜÂÆåÊØïÂõõÂè∑‰ªªÂä°4Â§ÑÁêÜÂÆåÊØïËá™Â∑±Â§ÑÁêÜËá™Â∑±ÁöÑ‰∫ãÊÉÖ+1Ëá™Â∑±Â§ÑÁêÜËá™Â∑±ÁöÑ‰∫ãÊÉÖ+1 ÂÖ∂‰ªñÊñπÂºèÂú®nioÈáåÈù¢ÔºåÂÖ∂ÂÆûËøòÊúâÂÖ∂‰ªñÁöÑÂÆûÁé∞ÊñπÂºèÔºåÊØîÂ¶ÇÈÄöËøáÂª∫Á´ã‰∏Ä‰∏™‰∏ªÁ∫øÁ®ãÁöÑÈòªÂ°ûÈòüÂàóÔºåÁÑ∂ÂêéÂàÜÂèë‰ªªÂä°Ëá≥Â≠êÁ∫øÁ®ãÔºåÂ≠êÁ∫øÁ®ãËã•Â§ÑÁêÜÂÆåÊØïÔºåÂàôÊèê‰∫§‰ªªÂä°Ëá≥‰∏ªÁ∫øÁ®ã]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SSOÂçïÁÇπÁôªÂΩïÁöÑÁêÜËÆ∫‰∏éÂÆûË∑µ(‰∏Ä)]]></title>
    <url>%2F2019%2F01%2F13%2FSSO%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95%E7%9A%84%E7%90%86%E8%AE%BA%E4%B8%8E%E5%AE%9E%E8%B7%B5-%E4%B8%80%2F</url>
    <content type="text"><![CDATA[SSOÁÆÄ‰ªãÈöèÁùÄ‰ºÅ‰∏ö‰∏öÂä°ÁöÑÂèëÂ±ïÔºå‰ºÅ‰∏ö‰∏≠ÂèØËÉΩ‰ºöÂá∫Áé∞Â§ö‰∏™‰∏öÂä°ÁöÑÁ≥ªÁªü„ÄÇÂ¶ÇÊûúÊòØÂØπÂÜÖ‰ΩøÁî®ÁöÑËØùÔºåÈÇ£Á®çÂæÆËøòÂ•ΩÁÇπÔºåÂ¶ÇÊûúÊòØToCÁöÑ‰∏öÂä°ÔºåÂÆ¢Êà∑Â¶ÇÊûúÊØèËøõÂÖ•‰∏Ä‰∏™Á≥ªÁªüÈÉΩÈúÄË¶ÅÁôªÂΩïÁöÑËØùÔºåÂØπÁî®Êà∑Êù•ËØ¥ÊòØ‰∏Ä‰∏™È∫ªÁÉ¶‰∫ãÊÉÖÔºåÂæàÂèØËÉΩ‰ºöÈÄ†ÊàêÁî®Êà∑ÁöÑÊµÅÂ§±„ÄÇ Â¶ÇÊûúÂú®ÊØè‰∏Ä‰∏™Á≥ªÁªüÈáåÈù¢ÈÉΩÂ≠òÂÇ®‰∏Ä‰ªΩÁî®Êà∑ÁöÑË¥¶Âè∑ÂíåÂØÜÁ†ÅÊï∞ÊçÆÔºåËøôÁßçÂÅöÊ≥ïÊòæÁÑ∂ÊòØ‰∏çÈù†Ë∞±ÁöÑÔºåËÄå‰∏î‰πü‰∏çÂÆâÂÖ®ÁöÑ„ÄÇ‰ºöÈÄ†ÊàêÂÆ¢Êà∑ÁöÑÊï∞ÊçÆÂ§ßÈáèÂÜó‰ΩôÔºåËÄå‰∏îËøò‰ºöÂØºËá¥ÂêéÊúüÁª¥Êä§ÂçÅÂàÜÁöÑÈ∫ªÁÉ¶„ÄÇ ÊâÄ‰ª•ÔºåÁé∞Âú®‰∏ÄËà¨ÈÉΩ‰ºöÈááÁî®SSOÂçïÁÇπÁôªÂΩï Âú®‰ªãÁªçSSOÁôªÂΩï‰πãÂâçÔºåÈúÄË¶ÅÂÖà‰∫ÜËß£‰∏Ä‰∏ãÊµèËßàÂô®ÁöÑÂêåÊ∫êÁ≠ñÁï• ÊµèËßàÂô®ÂêåÊ∫êÁ≠ñÁï•Ê≠§Â§ÑÁõ¥Êé•Â∞ÜmozillaÂÆòÁΩëÁªôÂá∫ÁöÑ‰ªãÁªçÊê¨ËøáÊù•https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy URL ÁªìÊûú ÂéüÂõ† http://store.company.com/dir2/other.html ÊàêÂäü http://store.company.com/dir/inner/another.html ÊàêÂäü https://store.company.com/secure.html Â§±Ë¥• ‰∏çÂêåÂçèËÆÆ ( httpsÂíåhttp ) http://store.company.com:81/dir/etc.html Â§±Ë¥• ‰∏çÂêåÁ´ØÂè£ ( 81Âíå80) http://news.company.com/dir/other.html Â§±Ë¥• ‰∏çÂêåÂüüÂêç ( newsÂíåstore ) ÊâÄ‰ª•Ê†πÊçÆÊµèËßàÂô®ÁöÑÂêåÊ∫êÁ≠ñÁï•ÔºåSSOÂçïÁÇπÁôªÂΩïÂèàÂàÜ‰∏∫Ë∑®ÂüüÂíåÈùûË∑®Âüü SSOÁôªÂΩï Á±ªÂà´ Á§∫‰æã ÂÆûÁé∞Ë¶ÅÊ±Ç Âêå‰∏Ä‰∏™ÂüüÂêç‰∏ãÂçïÁÇπÁôªÂΩï a.com/user,a.com/order Áî®Êà∑Âú®ËÆøÈóÆÂÆåÁî®Êà∑Á≥ªÁªü‰πãÂêéÔºåÂ¶ÇÊûúËøõÂÖ•ËÆ¢ÂçïÁ≥ªÁªüÔºåÂàôÊó†ÈúÄÁôªÂΩïÊãøÂà∞Áî®Êà∑‰ø°ÊÅØ ÈùûÂêå‰∏Ä‰∏™ÂüüÂêç‰∏ãSSOÁôªÂΩï a.com/user,b.com/user ÂΩìÁî®Êà∑ËÆøÈóÆaÁ≥ªÁªüÁÑ∂ÂêéÂÜçËÆøÈóÆbÁ≥ªÁªüÔºåËá™Âä®Ëé∑ÂèñÁî®Êà∑Êï∞ÊçÆ ÂâçÂêéÁ´ØÂàÜÁ¶ªË∑®Âüü Ëøô‰∏™Âè™ÊòØ‰∏äÈù¢ÈùûÂêåÊ∫êË∑®ÂüüÁöÑ‰∏Ä‰∏™ÂâçÂêéÁ´ØÂàÜÁ¶ªÁâàÊú¨ ÂÆûÁé∞ÁªÜËäÇÂ¶Ç‰∏äÔºå‰∏çËøáÊòØÂâçÁ´ØËá™Â∑±‰∏Ä‰∏™ÊúçÂä°Âô® ËÄåÂÆûÁé∞SSOÁôªÂΩïÁöÑ‰∏Ä‰∏™ÂÖ≥ÈîÆÁÇπÊòØÁî®Êà∑ÁöÑÂîØ‰∏ÄÊ†áËØÜÔºåÂç≥Â¶Ç‰ΩïÁ°ÆÂú®‰∏Ä‰∏™Á≥ªÁªü‰∏≠ÁîüÊàêÁöÑÁî®Êà∑Âá≠ÊçÆÂú®ÂÖ∂‰ªñÂá†‰∏™Á≥ªÁªü‰∏≠ÈÉΩÂèØ‰ª•Ë¢´ËØÜÂà´„ÄÇ SSOÁôªÂΩïÂêåÊ∫êÁöÑÂÆûÁé∞ÂêåÊ∫ê‰πãÈó¥ÁöÑÂÆûÁé∞ÊØîËæÉÁÆÄÂçïÔºåÂõ†‰∏∫ÊòØÂêåÊ∫êÔºåÊâÄ‰ª•ÂèØ‰ª•Áõ¥Êé•ÈÄöËøácookieÊàñËÄÖjwtÂÆûÁé∞ÔºåÂÖ∑‰ΩìÁöÑÊµÅÁ®ãÂõæÂ¶Ç‰∏ãÔºö ‰ªÖ‰ªÖÊÉ≥ÂÆûÁé∞ÂêåÊ∫ê‰∏ãÁöÑSSOÁôªÂΩïÔºåÂÆûÁé∞ÁöÑÊñπÂºèÂèØ‰ª•ÊúâÂ§öÁßçÔºå‰ΩÜÊòØÊúÄÁªàÁöÑ‰∏ÄÁÇπÂ∞±ÊòØSSOÁîüÊàêÁöÑÁî®Êà∑Âá≠ÊçÆÔºåÂÖ∂‰ªñÁöÑÁ≥ªÁªüÂøÖÈ°ªË¶ÅÂèØ‰ª•Ëß£ÂØÜÂá∫Êù•„ÄÇËøôÊ†∑‰∏Ä‰∏™ÂêåÊ∫ê‰∏ãÁöÑSSOÂçïÁÇπÁôªÂΩï‰æøÂèØ‰ª•ÂÆûÁé∞ SSOÁôªÂΩïÈùûÂêåÊ∫êÁöÑÂÆûÁé∞Áî±‰∫éÊòØÂú®ÈùûÂêåÊ∫ê‰∏ãÂÆûÁé∞SSOÂçïÁÇπÁôªÂΩïÔºåÊâÄ‰ª•‰∏Ä‰∏™Áî®Êà∑Âú®a.com‰∏ãÁôªÂΩï‰∫ÜË¥¶Êà∑ÔºåÈÇ£‰πàÂΩìÁî®Êà∑ËÆøÈóÆb.comÁöÑÊó∂ÂÄôÔºåcookieËÇØÂÆöÊòØÂ∏¶‰∏çËøáÂéªÁöÑ„ÄÇËøôÊó∂ÂÄô‰∏çÂ¶®ÂèÇËÄÉ‰∏ã‰∏öÂÜÖÁöÑÂÖ¨Âè∏ÁöÑËÆæËÆ° Ê∑òÂÆùÂíåÂ§©Áå´ÁöÑÂÆûÁé∞ÊâìÂºÄÊµèËßàÂô®ÔºåÂú®taobao.com‰∏ãÁôªÂΩïÊàë‰ª¨ÁöÑË¥¶Âè∑ÔºåÊàêÂäüËé∑ÂèñÂà∞Áî®Êà∑‰ø°ÊÅØ‰πãÂêéÔºåËøôÊó∂ÂÄôÊàë‰ª¨ÂÜçÊñ∞Âª∫‰∏Ä‰∏™Ê†áÁ≠æÈ°µÔºåÁÑ∂ÂêéÊâìÂºÄtmall.comÔºåËøôÊó∂ÂÄô‰ºöÂèëÁé∞ÔºåÂ§©Áå´Â∑≤ÁªèËá™Âä®ÁöÑÂ∏ÆÊàë‰ª¨ÁôªÂΩï‰∫ÜË¥¶Âè∑„ÄÇËÄÉËôë‰ª•‰∏ãÈóÆÈ¢òÔºö Ê∑òÂÆùÂíåÂ§©Áå´ÁöÑÂüüÂêçÂπ∂ÈùûÂêåÊ∫ê Êàë‰ª¨Âè™Âú®‰∏ÄÂ§ÑËøõË°å‰∫ÜÁôªÂΩï Êàë‰ª¨Âπ∂Êú™Âú®tmallÂüüÂêç‰∏ãËæìÂÖ•‰ªª‰ΩïÊàë‰ª¨ÁöÑ‰ø°ÊÅØÔºåÁÑ∂ÂêéÊàë‰ª¨ÂÜçÊ¨°ËÆøÈóÆÂ§©Áå´ÔºåÂ§©Áå´Â∞±Ëá™Âä®ËØÜÂà´Âá∫Êù•Êàë‰ª¨‰∫Ü ÂæàÊòéÊòæÔºåÊàë‰ª¨Âú®ËØ∑Ê±Çtmall‰πãÂâçÔºåÊ∑òÂÆùÂ∑≤ÁªèÂ∞ÜÊàë‰ª¨ÁöÑ‰ø°ÊÅØÂêåÊ≠•Âà∞‰∫Ütmall ÊâÄ‰ª•Ê†πÊçÆ‰∏äÈù¢ÁöÑ‰æãÂ≠êÔºåÊàë‰ª¨ÈúÄË¶ÅËÄÉËôëÁöÑÊòØÔºåÂ¶Ç‰ΩïËÆ©‰∏çÂêåÁ≥ªÁªü‰πãÈó¥‰∫íÁõ∏ËØÜÂà´Áî®Êà∑ Â∏∏ËßÅÁöÑÈùûÂêåÊ∫êSSOÁôªÂΩï‰ΩìÁ≥ª‰∏≠‰∏ÄËà¨Êúâ‰∏Ä‰∏™Áªü‰∏ÄÁöÑÊéàÊùÉ‰∏≠ÂøÉÔºåÂÜçÂä†‰∏ä‰∏Ä‰∏™ÂÖ±Áî®ÁöÑÁî®Êà∑Âá≠ÊçÆÂ≠òÂÇ®‰∏≠ÂøÉÔºåÂ¶Ç‰∏ãÔºö Âú®‰∏äÂõæÁöÑÊµÅÁ®ã‰∏≠Ôºå‰∏ç‰ªÖÂèØ‰ª•ÈÄöËøájsonpÊù•ËøõË°å‰º†ËæìÔºåËøòÂèØ‰ª•ÈÄöËøáiframeËøõË°åÈÄö‰ø°(Ê∑òÂÆùÂíåÂ§©Áå´ÁöÑÂÅöÊ≥ï)Ôºå Ëøô‰∏™ÁÆÄÂçïÁâàÁöÑSSOÁôªÂΩïÔºå‰∏ªË¶ÅÊòØÈÄöËøácookiesÊù•Â≠òÂÇ®tokenÔºåÁÑ∂ÂêéËøõË°åÊØè‰∏™Ë∑®ÂüüÁ≥ªÁªüÁöÑ‰∫§‰∫íÔºåÂΩìÁÑ∂Ëøô‰∏™ÊñπÂºèÊòØÊúâÁëïÁñµÁöÑÔºåÂõ†‰∏∫ËøôÁßçÊñπÂºèÂú®Ë∑®ÂüüÁ≥ªÁªüÂ§öÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÁª¥Êä§Â§ö‰∏™Ë∑®ÂüüÁ≥ªÁªüÔºå‰ª£Á†Å‰ºöÂÜôÁöÑÊØîËæÉÂ§öÔºåÂêéÊúüÂ¶ÇÊûúÊñ∞Â¢ûÊàñËÄÖÂà†Èô§‰∏Ä‰∏™Á≥ªÁªüÁöÑËØùÔºåÈúÄË¶ÅÈúÄÊîπjsÊñá‰ª∂ÔºåÂ∞±‰ºöÊòæÂæóÂæàÁπÅÁêê„ÄÇ ÂÆûÁé∞ÔºöÁî±‰∫éÂêåÊ∫ê‰∏ãÁöÑSSOÁôªÂΩïÂÆûÁé∞Ëµ∑Êù•ÊØîËæÉÁÆÄÂçïÔºåÊâÄ‰ª•Ê≠§Ê¨°Áõ¥Êé•ÂÆûÁé∞ÂâçÂêéÁ´ØÂàÜÁ¶ªÁöÑSSOÂçïÁÇπÁôªÂΩï ÂèØ‰ª•Áúã‰∏ãÈùûÂêåÊ∫ê‰∏ãÁöÑÂÆûÁé∞Ôºö ÊâÄÁî®ÊäÄÊúØ:SprngCloud,redis,vue È¶ñÂÖàÂàÜÂà´ËÆøÈóÆhttp://localhost:8092/#/orderinfoÂíåhttp://localhost:8091/#/orderinfo,Ëøô‰∏™Êó∂ÂÄôÁî±‰∫éÈÉΩÊ≤°ÊúâÁôªÂΩïÔºåÊâÄ‰ª•Áõ¥Êé•Ë¢´ÈáçÂÆöÂêëÂà∞ÁôªÂΩïÁïåÈù¢Ôºå‰ΩÜÊòØÂú®http://localhost:8092/#/ÁôªÂΩï‰πãÂêéÔºåÂÜçÊ¨°ËÆøÈóÆhttp://localhost:8091/#/orderinfoÔºåÂèØ‰ª•ÁúãÂà∞8092Á´ØÂè£ÁöÑÊúçÂä°Áõ¥Êé•ËØÜÂà´Âá∫Êù•‰∫ÜÊòØËØ•Áî®Êà∑ ËøôÈáåÊúâ‰∏§‰∏™Ê≥®ÊÑèÁÇπÔºöÈ¶ñÂÖàÔºåÊàëÂú®8092Á´ØÂè£ÁöÑÊúçÂä°Âô®‰∏äÂπ∂Êú™ÁôªÂΩïËøáÔºåËÄå‰∏î8091ÊúçÂä°Âíå8092ÊúçÂä°ÊòØ‰∏Ä‰∏™ÈùûÂêåÊ∫êÊúçÂä°ÔºåÊâÄ‰ª•ÂæàÊòéÊòæ8091ÊúçÂä°ÊòØÊó†Ê≥ïÂ∞ÜcookieÁªôÂà∞8092ÊúçÂä°Âô®„ÄÇ È°πÁõÆÁªìÊûÑÔºöÊ≠§Ê¨°ÁöÑÈ°πÁõÆÁªìÊûÑÊòØ‰∏Ä‰∏™AuthËÆ§ËØÅ‰∏≠ÂøÉÔºå‰∏§‰∏™ÂêéÁ´ØÁ≥ªÁªüÔºå‰∏§‰∏™ÂâçÁ´ØÁ≥ªÁªü„ÄÇËÄå‰∏î‰∏Ä‰∏™ÂâçÁ´ØÂàÜÂà´ÂØπÂ∫î‰∏Ä‰∏™ÂêéÁ´ØÁ≥ªÁªü ÂÆûÁé∞ÊñπÂºèÈ¶ñÂÖà‰∏§‰∏™Â≠êÁ≥ªÁªüÁöÑËÆ§ËØÅÂàÜÂà´ÊòØÂü∫‰∫écookieÔºåÁÑ∂ÂêéÂ∞ÜtokanÂ≠òÂÖ•cookieÔºåÈ¶ñÊ¨°ÁôªÂΩïÁöÑÊó∂ÂÄôÔºåcookieËÇØÂÆöÊòØ‰∏çÂ≠òÂú®ÁöÑÔºåÁÑ∂ÂêéÈáçÂÆöÂêëËá≥SSOÁôªÂΩïÁ≥ªÁªü,SSOËÆ§ËØÅ‰πãÂêé‰ºö‰∏ãÂèë‰∏Ä‰∏™tokenÔºåÁÑ∂ÂêéÁôªÂΩïÁöÑÁ≥ªÁªü‰ºöÂ∞ÜÊ≠§token‰ª•getÁöÑÊñπÂºè‰Ωú‰∏∫ÂèÇÊï∞‰º†ÁªôÂè¶‰∏Ä‰∏™‰∏™Á≥ªÁªüÔºåÂè¶‰∏Ä‰∏™Á≥ªÁªüÂÜçÂ∞ÜÊ≠§tokenÂ≠òÂÖ•cookieËøõË°åÂõûÂÜôÔºåÊúÄÁªàÂÆûÁé∞‰∏§‰∏™Á≥ªÁªüÈÉΩ‰∏ÄËµ∑ÁôªÂΩï ###ÂõûË∞ÉÂÆûÁé∞1234567@GetMapping(ApiConstant.APP+"/&#123;token&#125;") public ResponseUtils getInfo(@PathVariable String token , HttpServletResponse response)&#123; ResponseUtils&lt;String&gt; resp = new ResponseUtils&lt;String&gt;(); ResponseEnum.SUCCESS.setResponse(resp); response.addCookie(new Cookie("token",token)); return resp; &#125; Ëé∑ÂèñSSOÁôªÂΩïËøîÂõûÁöÑtokenÁÑ∂ÂêéË∞ÉÁî®ÂêÑ‰∏™Ë∑®ÂüüÁ≥ªÁªü1234567891011121314151617setApp1Token (userdata) &#123; console.log(userdata) this.$http(&#123; method: 'get', url: 'http://localhost:8083/api/app1/query/' + userdata &#125;).then(function (res) &#123; console.log(res) &#125;) this.$http(&#123; method: 'get', url: 'http://localhost:8085/api/app2/query/' + userdata &#125;).then(function (res) &#123; console.log(res) &#125;) return 'OK' &#125; &#125;, È°πÁõÆÂú∞ÂùÄ https://github.com/Somersames/Springboot-vue-ssoËØ•È°πÁõÆ‰∏∫‰∫ÜÈ™åËØÅÔºå‰ªÖ‰ªÖÊòØÁî®userIdËøõË°åmd5Âä†ÂØÜ‰Ωú‰∏∫tokenÔºåÊâÄ‰ª•ÊØîËæÉÁÆÄÈôãÔºå‰ΩÜÊòØ‰ª•ÂêéÂ¶ÇÊûúÊúâÊó∂Èó¥‰ºöÁªßÁª≠ÂÜôÂá†ÁØáÊñáÁ´†ÂêåÊó∂‰πüÂ∞ÜËøô‰∏™È°πÁõÆË°•Ëµ∑Êù•]]></content>
      <categories>
        <category>Springboot</category>
      </categories>
      <tags>
        <tag>Springboot</tag>
        <tag>SSO</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âú®Spring‰∏≠ÂÖ®Â±ÄÂ§ÑÁêÜÂºÇÂ∏∏]]></title>
    <url>%2F2019%2F01%2F10%2F%E5%9C%A8Spring%E4%B8%AD%E5%85%A8%E5%B1%80%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8%2F</url>
    <content type="text"><![CDATA[ÈöèÁùÄ‰∏öÂä°ÁöÑÂèëÂ±ïÔºåÂú®ÊØè‰∏Ä‰∏™‰∏öÂä°Ê®°ÂùóÈáåÈù¢ÈÉΩÂèØËÉΩ‰ºöÂá∫Áé∞‰∏Ä‰∫õËá™ÂÆö‰πâÁöÑÈÄöÁî®ÂºÇÂ∏∏Ôºå‰æãÂ¶Ç¬∑È™åËØÅÂ§±Ë¥•ÔºåÊùÉÈôê‰∏çË∂≥Á≠âÁ≠â ÔºåËøô‰∫õËá™ÂÆö‰πâÁöÑÂºÇÂ∏∏ÂæàÂèØËÉΩ‰ºöË¢´ÊâÄÊúâÊ®°ÂùóÂÖ¨Áî®ÔºåÂú®‰ª£Á†ÅÈáåÈù¢ÔºåÊúÄÂ∏∏ËßÅÁöÑ‰∏ÄÁßçÂÜôÊ≥ïÊòØÂú®ÊØè‰∏Ä‰∏™ÊñπÊ≥ïÈáåÈù¢ËøõË°åÊçïËé∑ÔºåÁÑ∂ÂêéÂú®ControllerÈáåÈù¢ËøõË°åcatchÔºåÊúÄÂêéËøõË°åÁõ∏Â∫îÂ§ÑÁêÜ Â∏∏ËßÅÂÜôÊ≥ïÁ¨¨‰∏ÄÁßçÂÜôÊ≥ïÔºö ËøôÊòØ‰∏Ä‰∏™Â∏∏ËßÑÁöÑÂÜôÊ≥ïÔºåÊØè‰∏Ä‰∏™ÊñπÊ≥ïÈÉΩÂ§ÑÁêÜËá™Â∑±ÁöÑÁâπÂÆöÂºÇÂ∏∏ControllerÂ±Ç1234567891011public void login()&#123; try&#123; //ÈÄªËæëÂ§ÑÁêÜ &#125;catch(AuthException e)&#123; XXX &#125;catch(CrsfException e)&#123; XXX &#125;catch(Exception e)&#123; XXX &#125;&#125; ËøôÊ†∑ÁöÑ‰ª£Á†ÅÂ¶ÇÊûúÂàÜÂ∏ÉÂú®‰∏çÂêåÁöÑControllerÈáåÈù¢ÔºåÂ∞Ü‰ºöÊòØ‰∏ÄÁßçÈöêÊÇ£„ÄÇ‰æãÂ¶ÇÔºåÊúâ‰∏ÄÂ§©ÔºåÈúÄË¶ÅÂØπÊâÄÊúâÁöÑAuthExceptionÂºÇÂ∏∏ÈÉΩÊ∑ªÂä†‰∏Ä‰∏™Â≠óÊÆµÔºåÁî®‰∫éÂâçÁ´ØÁöÑÈ°µÈù¢Â±ïÁ§∫ÔºåÈÇ£‰πàÊ≠§Êó∂Êàë‰ª¨Â∞±ÈúÄË¶ÅÂú®‰ª£Á†ÅÈáåÈù¢ÊâæÂá∫ÊâÄÊúâÁöÑAuthExceptionÔºåÁÑ∂ÂêéÂÜçÊ∑ªÂä†‰∏Ä‰∫õÁâπÊÆäÁöÑÂ≠óÊÆµÔºåÂ¶ÇÊûúÊºèÊéâ‰∫ÜÂá†‰∏™ÔºåÂ∞±‰ºöÂºïËµ∑‰∏Ä‰∫õbug„ÄÇ Á¨¨‰∫åÁßçÂÜôÊ≥ïÔºö Á¨¨‰∫åÁßçÂÜôÊ≥ïÂá†‰πéÂíåÁ¨¨‰∏ÄÁßç‰∏ÄÊ†∑Ôºå‰∏çËøá‰∏çÂêå‰πãÂ§ÑÂú®‰∫éÁ¨¨‰∫åÁßçÂÜôÊ≥ïÊòØÁºñÂÜô‰∫Ü‰∏Ä‰∏™ÂÖ¨ÂÖ±ÁöÑÂ§ÑÁêÜÊñπÊ≥ï. ControllerÂ±Ç12345678910111213@RequestMapping(value="login",methods=Request.POST)public void login()&#123; try&#123; //ÈÄªËæëÂ§ÑÁêÜ &#125;catch(AuthException e)&#123; ExceptionHandle.handleAuthException(); &#125;catch(CrsfException e)&#123; XXX &#125;catch(Exception e)&#123; XXX &#125;&#125; ÂÖ±Áî®ÊñπÊ≥ï12345public class ExceptionHandle()&#123; public static Object handleAuthException()&#123; XXX//ÈÄªËæëÂ§ÑÁêÜ &#125;&#125; ËøôÁßçÊñπÊ≥ïËôΩÁÑ∂ÊØîÁ¨¨‰∏ÄÁßçÊõ¥Âä†ÂÖ∑ÊúâÂÖ±Áî®ÊÄßÔºå‰ΩÜÊòØ‰ª£Á†Å‰∏ÄÁÇπÈÉΩ‰∏çÊï¥Ê¥ÅÂíå‰æø‰∫éÁª¥Êä§„ÄÇ‰æãÂ¶ÇÔºåÁé∞Âú®ÈúÄË¶ÅÂÜçÊ¨°Âä†‰∏Ä‰∏™ÂºÇÂ∏∏ÔºåÈÇ£‰πàÂ∞±Âè™ËÉΩÊòØÂú®ControllerÈáåÈù¢ÂÜçÊ¨°CatchÔºåÂ¶ÇÊûúÊòØÂ¢ûÂä†ËøòÂ•ΩÔºå‰ΩÜÊòØ‰∏ÄÊó¶ÈúÄË¶ÅÈáåÈù¢Êó¢ÂåÖÂê´Â¢ûÂä†ÂèàÂåÖÂê´Âà†Èô§ÔºåÂØπ‰∫éÁª¥Êä§‰∫∫ÂëòÔºåËøôÊòØÊûÅÊòìÂá∫ÈîôÁöÑ„ÄÇ SpringÁöÑÂÖ®Â±ÄÂ§ÑÁêÜÂºÇÂ∏∏ÂÖ∂ÂÆûÂú®SpringÈáåÈù¢ÊúâÊõ¥Âä†‰ºòÈõÖÁöÑÂ§ÑÁêÜÊñπÂºèÔºåÈÇ£Â∞±ÊòØÂÖ®Â±ÄÁöÑÂºÇÂ∏∏Â§ÑÁêÜÔºåÂØπ‰∫é‰∏Ä‰∫õÂ∏∏Áî®ÁöÑÂºÇÂ∏∏ÔºåÁõ¥Êé•Âú®ControllerÈáåÈù¢ÊäõÂá∫ÔºåËÄåÂØπ‰∫éÊüê‰∏Ä‰∫õÊñπÊ≥ïÁöÑÁâπÂÆöÂºÇÂ∏∏ÔºåÂàôÂè™ÈúÄË¶ÅËá™Â∑±ËøõË°åÊçïËé∑ÔºåÁÑ∂ÂêéËá™Â∑±ËøõË°åÂ§ÑÁêÜ ‰ªãÁªçÂú®SpringÈáåÈù¢ÂèØ‰ª•‰ΩøÁî®@RestControllerAdviceÊàñ@ControllerAdviceÔºåÁÑ∂ÂêéÈÖçÂêà@ExceptionHandlerËøõË°åÂ§ÑÁêÜÔºåËøôÊ†∑Â§ÑÁêÜÂèØ‰ª•‰ΩøÁöÑÈ°πÁõÆÂú®Êï¥‰∏™ÂºÇÂ∏∏Â§ÑÁêÜËøôÂùóÂçÅÂàÜÁöÑÈÄöÁî®Âíå‰ºòÈõÖ ÂºÇÂ∏∏Â§ÑÁêÜÁ±ª1234567891011121314public class AuthException extends RuntimeException &#123; public AuthException() &#123; super(); &#125; public AuthException(String message) &#123; super(message); &#125; public AuthException(String message, Exception e) &#123; super(message, e); &#125;&#125; ÂÖ®Â±ÄÁöÑÂºÇÂ∏∏Â§ÑÁêÜÁ±ª123456789101112@RestControllerAdvicepublic class ExceptionHandle &#123; @ExceptionHandler(AuthException.class) public ResponseEntity&lt;String&gt; handleAuthException()&#123; ResponseEntity&lt;String&gt; resp = new ResponseEntity&lt;&gt;(); resp.setCode(201); resp.setMessage("È™åËØÅÂ§±Ë¥•"); resp.setData("ÂÖ®Â±ÄÂºÇÂ∏∏ÊâÄÊäõÂá∫ÁöÑÂºÇÂ∏∏"); return resp; &#125;&#125; Controller1234567891011121314151617@RestController@RequestMapping(value = "api")public class ExceptionController &#123; @Autowired ExceptionService exceptionService; @RequestMapping(value = "auth",method = RequestMethod.POST) public ResponseEntity&lt;String&gt; testAuth(@RequestBody String param) throws AuthenticationException &#123; ResponseEntity&lt;String&gt; resp = new ResponseEntity&lt;String&gt;(); exceptionService.auth(param); resp.setCode(200); resp.setMessage("OK"); resp.setData("ControllerÊ∂àÊÅØ"); return resp; &#125;&#125; Service123456789@Servicepublic class ExceptionService &#123; public void auth(String param) throws AuthenticationException &#123; if("1".equalsIgnoreCase(param))&#123; throw new AuthException("ÈùûÊ≥ïËÆøÈóÆ"); &#125; &#125;&#125; ÊµãËØïÂ¶Ç‰∏ãÔºöËØ∑Ê±Çapi/authÔºåÂπ∂‰∏îÊê∫Â∏¶ÂèÇÊï∞112345&#123; "data": "ÂÖ®Â±ÄÂºÇÂ∏∏ÊâÄÊäõÂá∫ÁöÑÂºÇÂ∏∏", "code": 201, "message": "È™åËØÅÂ§±Ë¥•"&#125; ËØ∑Ê±Çapi/authÔºåÂπ∂‰∏îÊê∫Â∏¶ÂèÇÊï∞212345&#123; "data": "ControllerÊ∂àÊÅØ", "code": 200, "message": "OK"&#125; Â¢ûÂä†ÁâπÊÆäÂ§ÑÁêÜËøôÊ†∑‰∏ÄÊù•ÔºåÊâÄÊúâÁöÑAuthExceptionÈÉΩÂèØ‰ª•Ë¢´Áªü‰∏ÄÁöÑËøõË°åÂ§ÑÁêÜÔºåËÄå‰∏îÊ†πÊçÆ‰∏öÂä°ÁöÑÈúÄË¶Å‰ª¨ÂèØ‰ª•Âú®ControllerÂ¢ûÂä†‰∏Ä‰∫õÁâπÂÆöÁöÑÂºÇÂ∏∏ Ê≠§Â§Ñ‰ª•NullPointerException‰ª£Êõø 123456789101112131415161718192021222324@RestController@RequestMapping(value = "api")public class ExceptionController &#123; @Autowired ExceptionService exceptionService; @RequestMapping(value = "auth",method = RequestMethod.POST) public ResponseEntity&lt;String&gt; testAuth(@RequestBody String param) throws AuthenticationException &#123; ResponseEntity&lt;String&gt; resp = new ResponseEntity&lt;String&gt;(); try &#123; exceptionService.auth(param); &#125;catch (NullPointerException e)&#123; resp.setCode(400); resp.setMessage("NUll"); resp.setData("Null"); return resp; &#125; resp.setCode(200); resp.setMessage("OK"); resp.setData("ControllerÊ∂àÊÅØ"); return resp; &#125;&#125; 123456789101112@Servicepublic class ExceptionService &#123; public void auth(String param) throws AuthenticationException &#123; if("1".equalsIgnoreCase(param))&#123; throw new AuthException("ÈùûÊ≥ïËÆøÈóÆ"); &#125; if("3".equals(param))&#123; throw new NullPointerException(); &#125; &#125;&#125; ÂÜçÊ¨°ÊµãËØïËØ∑Ê±Çapi/authÔºåÂπ∂‰∏îÊê∫Â∏¶ÂèÇÊï∞3 12345&#123; "data": "Null", "code": 400, "message": "NUll"&#125; ÊÄªÁªìÊ≠§ÊñπÊ≥ïËôΩÁÑ∂ÂèØ‰ª•Áªü‰∏ÄÁöÑÂ§ÑÁêÜÈ°πÁõÆÈáåÈù¢ÁöÑÂºÇÂ∏∏Ôºå‰ΩÜÊòØÂØπÈ°πÁõÆÂÜÖÁöÑÂºÄÂèë‰∫∫ÂëòË¶ÅÊ±ÇËøòÊòØÊØîËæÉÈ´òÁöÑÔºåÈúÄË¶Å‰∏ÄËµ∑ÈÅµÂÆàÁªü‰∏ÄÁöÑÂºÄÂèëËßÑËåÉ]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Springboot‰∏≠‰ΩøÁî®MysqlÂ§öÊï∞ÊçÆÊ∫ê]]></title>
    <url>%2F2019%2F01%2F06%2FSpringboot%E4%B8%AD%E4%BD%BF%E7%94%A8Mysql%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%2F</url>
    <content type="text"><![CDATA[ÈöèÁùÄ‰∏öÂä°ÁöÑÂèëÂ±ïÔºåÂæàÂèØËÉΩÈúÄË¶ÅÂú®‰∏Ä‰∏™È°πÁõÆÈáåÈù¢ÂêåÊó∂‰ΩøÁî®Â§ö‰∏™Êï∞ÊçÆÊ∫ê„ÄÇ Â§ßËá¥Áúã‰∫ÜÁΩë‰∏äÁöÑÂ§öÊï∞ÊçÆÊ∫êDemoÔºåÂèëÁé∞Êó†ÈùûÊúâ‰∏§ÁßçÔºö ‰∏ÄÁßçÊòØËá™Â∑±Â∞ÅË£ÖÂ§ö‰∏™JdbcTemplateÔºåÁÑ∂ÂêéË∞ÉÁî®ÂØπÂ∫îÁöÑÊï∞ÊçÆÂ∫ìÂ∞±‰ΩøÁî®ÂØπÂ∫îÁöÑJdbcTemplate ‰∏ÄÁßçÊòØÈÄöËøáÊ≥®Ëß£ÁöÑÊñπÂºèÊù•ÂÆûÁé∞ÔºåÂú®ÈúÄË¶ÅÂàáÊç¢Êï∞ÊçÆÊ∫êÁöÑÊñπÊ≥ï‰∏äÊ∑ªÂä†‰∏Ä‰∏™Ëá™Â∑±Â∞ÅË£ÖÁöÑÊ≥®Ëß£‰æøÂèØ‰ª•ÂÆåÊàêÂàáÊç¢„ÄÇ ËÄÉËôë‰∫Ü‰∏Ä‰∏ã‰ª•ÂêéÁöÑÊâ©Â±ïÊÄßÂíåÈÄöÁî®ÊÄßÔºå‰æøÂÜ≥ÂÆöÈááÁî®Âü∫‰∫éÊ≥®Ëß£ÁöÑÂ§öÊï∞ÊçÆÊ∫êÊñπÂºè ÂàÜÊûêÁúã‰∫Ü‰∏ãÂÆòÁΩëÁöÑ‰ªãÁªçÔºåÂ§ßËá¥‰∫ÜËß£‰∫ÜÂú®Spring‰∏≠‰ΩøÁî®Â§öÊï∞ÊçÆÊ∫êÁöÑ‰∏Ä‰∏™ÂÖ≥ÈîÆÁ±ªÊòØAbstractRoutingDataSource„ÄÇ ÂÖàÁúã‰∏ãËøô‰∏™Á±ªÁöÑÁªìÊûÑ Âú®Ëøô‰∏™Á±ªÈáåÈù¢ÔºåÂè™ÈúÄË¶ÅÂÖ≥Ê≥®‰∏Ä‰∏ãÂá†‰∏™ÂèòÈáèÊàñËÄÖÊñπÊ≥ïÂç≥ÂèØ„ÄÇ private Map&lt;Object, Object&gt; targetDataSources; private Object defaultTargetDataSource; protected Object determineCurrentLookupKey() targetDataSourcesËøô‰∏™ÂèòÈáèÊòØ‰∏Ä‰∏™Â≠òÂÇ®Êï∞ÊçÆÊ∫êÁöÑMapÔºåÂÖ∂ÂÆû‰∏ÄËà¨Âú®‰ΩøÁî®ÁöÑÊó∂ÂÄôÔºåÊõ¥Âä†ÂÉèÊòØMap&lt;String, DataSource&gt;ËøôÊ†∑ÁöÑÔºåÂÖ∂‰∏≠keyË°®Á§∫ÁöÑÊòØËøô‰∏™Êï∞ÊçÆÊ∫êÁöÑÂêçÁß∞ÔºåËÄåvalueÂàôÊòØË°®Á§∫Ëøô‰∏™DataSourceÁöÑ‰ø°ÊÅØ(‰æãÂ¶ÇurlÔºåusernameÁ≠â) defaultTargetDataSourceËØ•ÂèòÈáèË°®Á§∫ÁöÑÊòØ‰∏Ä‰∏™ÈªòËÆ§ÁöÑÊï∞ÊçÆÊ∫êÔºåÈùûÁ©∫ÔºåÂøÖÈ°ªËÆæÁΩÆ determineCurrentLookupKeyËØ•ÊñπÊ≥ïËøîÂõûÁöÑ‰∏Ä‰∏™targetDataSourcesÈáåÈù¢ÁöÑÈîÆÔºåÁî®‰∫éÈÄâÊã©Êüê‰∏Ä‰∏™Êï∞ÊçÆÊ∫ê„ÄÇÂÖ∂‰∏≠Â§öÊï∞ÊçÆÊ∫êÁöÑÂàáÊç¢Â∞±ÊòØÊéßÂà∂ËØ•ÊñπÊ≥ïÁöÑËøîÂõûÂÄºÊù•ÂÆûÁé∞„ÄÇ ËØ•ÊñπÊ≥ïËøîÂõûÁöÑÊòØtargetDataSourcesÈáåÈù¢ÁöÑÈîÆÔºå‰ªéËÄåHikariPoolÂèØ‰ª•Áõ¥Êé•ÂàáÊç¢Êï∞ÊçÆÊ∫ê ÊÄùË∑ØÈ¶ñÂÖàÊòØÈÄöËøáËØªÂèñÈÖçÁΩÆÊñá‰ª∂ÔºåÂ∞ÜÂÖ∂ËΩ¨‰∏∫DataSourceÔºåÁÑ∂ÂêéÂÜçÂ∞ÜdataSourceÂ≠òÂÖ•targetDataSources ‰ª£Á†ÅÈÖçÁΩÆÊñá‰ª∂1234567891011121314151617spring: application: name: multi-resource datasource: mysql1: driver-class-name: com.mysql.cj.jdbc.Driver jdbc-url: jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC username: root password: 123456 mysql2: driver-class-name: com.mysql.cj.jdbc.Driver jdbc-url: jdbc:mysql://localhost:3306/cloud?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC username: root password: 123456 aop: auto: true proxy-target-class: true Ëé∑ÂèñÈÖçÁΩÆÊñá‰ª∂‰ø°ÊÅØ1234567891011121314151617181920@Slf4j@Configurationpublic class MysqlMultiProperties &#123; private static final Logger LOGGER = LoggerFactory.getLogger(MysqlMultiProperties.class); @Bean("mysql1") @ConfigurationProperties("spring.datasource.mysql1") public DataSource mysql1Source()&#123; log.info("Ê≠£Âú®ÂàùÂßãÂåñMysql_DB1"); return DataSourceBuilder.create().build(); &#125; @Bean("mysql2") @ConfigurationProperties("spring.datasource.mysql2") public DataSource mysql2Source()&#123; log.info("Ê≠£Âú®ÂàùÂßãÂåñMysql_DB2"); return DataSourceBuilder.create().build(); &#125;&#125; ÂÆûÁé∞AbstractRoutingDataSource1234567891011121314151617181920@Slf4jpublic class DataSourceRouter extends AbstractRoutingDataSource &#123; private static final ThreadLocal&lt;String&gt; contextHolder = new ThreadLocal&lt;&gt;(); @Override protected Object determineCurrentLookupKey() &#123; return getDataSource(); &#125; public static void setDataSource(String dataSource) &#123; contextHolder.set(dataSource); &#125; public static String getDataSource() &#123; return contextHolder.get(); &#125;&#125; ÂÆû‰æãÂåñBean1234567891011121314151617181920212223242526@Configurationpublic class MysqlConfig &#123; @Autowired @Qualifier("mysql1") DataSource mysql1; @Autowired @Qualifier("mysql2") DataSource mysql2; @Bean @Primary public DataSourceRouter generateRouter()&#123; DataSourceRouter router =new DataSourceRouter(); Map&lt;Object,Object&gt; targetMap = new HashMap&lt;Object, Object&gt;(); targetMap.put("mysql1",mysql1); targetMap.put("mysql2",mysql2); router.setTargetDataSources(targetMap); router.setDefaultTargetDataSource(mysql1); router.afterPropertiesSet(); return router; &#125;&#125; AOPÂàáÈù¢Âú®‰ΩøÁî®ÂàáÈù¢ÁöÑÊó∂ÂÄôÈÅáÂà∞‰∫Ü‰∏Ä‰∫õÂùëÔºåËøô‰∏™ÊúâÁ©∫ÂÜçËØ¥ Êñ∞Âª∫‰∏Ä‰∏™Ê≥®Ëß£123456@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Documentedpublic @interface UseDataSource &#123; String name();&#125; Êñ∞Âª∫‰∏Ä‰∏™ÂàáÈù¢Á±ª1234567891011@Slf4j@Component@Aspect@Order(-1)public class MysqlSourceAspect &#123; @Before("@annotation(useDataSource)") public void changeMysqlSource(UseDataSource useDataSource)&#123; DataSourceRouter.setDataSource(useDataSource.name()); &#125;&#125; Ëá≥Ê≠§Â§ßÈÉ®ÂàÜÂäüËÉΩÈÉΩÂ∑≤ÁªèÂÆûÁé∞‰∫ÜÔºåÂú®SpringbootÁöÑÂêØÂä®Á±ª‰∏äÊ∑ªÂä†Êàñ‰øÆÊîπÂ¶Ç‰∏ãÊ≥®Ëß£12345678@SpringBootApplication(exclude=&#123;DataSourceAutoConfiguration.class&#125;)@MapperScan(basePackages = "com.somersames.dao")@Import(&#123;MysqlConfig.class&#125;)public class ServiceApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(ServiceApplication.class); &#125;&#125; ‰ΩøÁî®Âè™ÈúÄË¶ÅÂú®ÂàáÊç¢Êï∞ÊçÆÊ∫êÁöÑÂú∞ÊñπÊ∑ªÂä†@UseDataSourceÊ≥®Ëß£Âç≥ÂèØ„ÄÇ È°πÁõÆÂú∞ÂùÄÔºöhttps://github.com/Somersames/Multi-Resource ÊÄªÁªìËøôÊ¨°Âú®ÁºñÂÜôAOPÈÉ®ÂàÜÁöÑÊó∂ÂÄôÈúÄË¶Å‰∫Ü‰∏ÄÁÇπÂ∞èÂùëÔºåÊúâÁ©∫‰ºöÊï¥ÁêÜÂá∫Êù•]]></content>
      <categories>
        <category>Springboot</category>
      </categories>
      <tags>
        <tag>Springboot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÁöÑvolatileÂíåMESIÂçèËÆÆ]]></title>
    <url>%2F2019%2F01%2F05%2FJava%E7%9A%84volatile%E5%92%8CMESI%E5%8D%8F%E8%AE%AE%2F</url>
    <content type="text"><![CDATA[‰ΩøÁî®ËøáJavaÂ§öÁ∫øÁ®ãÁöÑÈÉΩÁü•ÈÅìÔºåvolatileÂèØ‰ª•Á°Æ‰øùÂ§öÁ∫øÁ®ãÊ∞∏ËøúÈÉΩÂèØ‰ª•ËØªÂèñÂà∞ÊúÄÊñ∞ÁöÑÂèòÈáè„ÄÇ‰ΩÜÊòØÂç¥Êó†Ê≥ï‰øùËØÅ‰∏Ä‰∏™Êìç‰ΩúÁöÑÂéüÂ≠êÊÄßÂÖ≥‰∫éËøôÈÉ®ÂàÜÂèØ‰ª•ÂÖà‰ªéÁ°¨‰ª∂ÈÉ®ÂàÜËØ¥Ëµ∑Ôºö Á°¨‰ª∂ÂçïÊ†∏CPUÂú®Áé∞‰ª£ËÆ°ÁÆóÊú∫‰∏≠ÔºåCPUÁöÑÈÄüÂ∫¶ÊòØËøúËøúÂø´‰∫éÂÜÖÂ≠òÁöÑÔºåÂ¶ÇÊûú‰∏çÂä†‰ª•‰ªª‰ΩïÂ§ÑÁêÜÔºåÊ≠§Êó∂CPUÂ∞±‰ºö‰∏ÄÁõ¥Âú®Á≠âÂæÖÂÜÖÂ≠òÁöÑIOÔºå‰ªéËÄåÂØºËá¥‰∏Ä‰∫õËµÑÊ∫êÁöÑÊµ™Ë¥π„ÄÇÊâÄ‰ª•Â∞±Êúâ‰∫ÜÈ´òÈÄüÁºìÂÜ≤Âå∫(cache)Ôºå‰ΩÜÊòØÂú®CacheÈáåÈù¢ËÇØÂÆöÊòØ‰∏ç‰ºöÂ∞ÜÂÜÖÂ≠òÁöÑÊâÄÊúâÊï∞ÊçÆÈÉΩÊã∑Ë¥ù‰∏Ä‰ªΩÔºåÂõ†‰∏∫cacaheÂè™ÊúâÂá†ÂçÅkbÁöÑÂ§ßÂ∞è„ÄÇ ËøôÂ∞±ÈÄ†Êàê‰∫Ü‰∏Ä‰∏™Áé∞Ë±°Ôºå‰πüÂ∞±ÊòØËØ¥ÊØè‰∏Ä‰∏™Ê†∏ÂøÉÈÉΩ‰ºöÊúâ‰∏Ä‰∏™ÂÖ±‰∫´ÁöÑÂÜÖÂ≠òÂå∫ÂüüÂíå‰∏Ä‰∏™Ëá™Â∑±CacheÂå∫Âüü„ÄÇ Â§öÊ†∏CPUÈöèÁùÄÁé∞‰ª£ÊäÄÊúØÁöÑÂèëÂ±ïÔºåÂçïÊ†∏CPUÂ∑≤ÁªèË¢´Ê∑òÊ±∞‰∫ÜÔºåÂèñËÄå‰ª£‰πãÁöÑÊòØÂ§öÊ†∏CPUÔºåËÄå‰∏îÁé∞‰ª£ÁöÑCPUÂ∑≤ÁªèÈÉΩÊòØÂ§öÁ∫ßÁºìÂ≠ò‰∫ÜÔºåÂ§ßÈÉ®ÂàÜÊòØ‰∏âÁ∫ßÁºìÂ≠ò„ÄÇÂú®Â§öÊ†∏ÂøÉÁöÑCPU‰∏≠ÔºåÊØè‰∏Ä‰∏™Ê†∏ÂøÉÈÉΩ‰ºöÊúâËá™Â∑±ÁöÑCacheÔºåÂ¶ÇÊûúÊüê‰∏Ä‰∏™Ê†∏ÂøÉ‰øÆÊîπ‰∫ÜËá™Â∑±ÁºìÂ≠òÂå∫ÁöÑÊï∞ÊçÆÔºåÈÇ£‰πàÂ∞±‰ºöÈÄ†ÊàêËá™Â∑±ÁöÑÁºìÂ≠òÂå∫ÂíåÂÜÖÂ≠ò‰∏≠Êï∞ÊçÆ‰∏ç‰∏ÄËá¥ ÊâÄ‰ª•ËøôÊó∂ÂÄôÂ∞±‰ºöÊúâ‰∏Ä‰∏™MESIÂçèËÆÆ(ÁºìÂ≠ò‰∏ÄËá¥ÊÄß) MESIÂçèËÆÆMESIÂçèËÆÆÁÆÄÂçïÊù•ËÆ≤ÔºåÂ∞±ÊòØ‰∏∫‰∫ÜÁ°Æ‰øùÊØè‰∏Ä‰∏™Ê†∏ÂøÉÁöÑÁºìÂ≠òÊï∞ÊçÆÈÉΩÊòØ‰∏ÄËá¥ÁöÑ„ÄÇÂΩìÊúâ‰∏Ä‰∏™Ê†∏ÂøÉÂØπÊüê‰∏Ä‰∏™ÂèòÈáèÂÅö‰∫Ü‰øÆÊîπ‰πãÂêéÔºåÂ∞±‰ºöÈÄöÁü•Âà∞ÂÖ∂‰ªñÁöÑÊ†∏ÂøÉÔºåÁÑ∂Âêé‰ΩøÂÖ∂Â§±Êïà„ÄÇ JavavolatileÂú®‰∫ÜËß£volatile‰πãÂâçÔºåÈ¶ñÂÖàÈúÄË¶Å‰∫ÜËß£JavaÁöÑÂÜÖÂ≠òÊ®°ÂûãJMMÔºåÂú®JavaÂÜÖÂ≠òÊ®°Âûã‰∏≠ÔºåÂ†ÜÊòØÊâÄÊúâÁ∫øÁ®ãÂÖ±‰∫´ÁöÑ Âõæ‰∏≠Âç≥ÊòØJMMÊ®°ÂûãÂØπÁ°¨‰ª∂ÁöÑÁÆÄÂçïÊò†Â∞ÑÔºåÂú®JavaÈáåÈù¢ÔºåÂØπË±°ÈÉΩÊòØÂú®Â†Ü‰∏≠ÔºåËÄåÂú®Á∫øÁ®ãÁöÑÁßÅÊúâÊ†àÁ©∫Èó¥ÔºåÊØè‰∏Ä‰∏™Á∫øÁ®ãÂè™ËÉΩÂØπÂèòÈáèËøõË°å‰øÆÊîπÊàñËÄÖËµãÂÄºÊìç‰Ωú„ÄÇ volatileÈ¶ñÂÖàÂ§öÁ∫øÁ®ãÁöÑÊú¨Ë¥®ÂÖ∂ÂÆûÊòØÂ§ö‰∏™Á∫øÁ®ãËΩÆÊµÅÊâßË°åÔºåÂú®Êó∂Èó¥ÁâáËΩÆËΩ¨Ë∞ÉÂ∫¶ÁÆóÊ≥ïÈáåÈù¢ÔºåÊØè‰∏Ä‰∏™Á∫øÁ®ãÈÉΩ‰ºöËé∑ÂèñÂà∞‰∏Ä‰∏™ÊâßË°åÊó∂Èó¥ÔºåÊâßË°åÊó∂Èó¥ÁªìÊùüÔºåÂ∞±‰ºöËΩÆÂà∞ÂÖ∂‰ªñÁöÑÁ∫øÁ®ãÊâßË°å„ÄÇ ÂèØËßÅÊÄßËÄÉËôë‰∏Ä‰∏ãÂú∫ÊôØÔºåÂ¶ÇÊûúÂÜÖÂ≠ò‰∏≠Êúâ‰∏Ä‰∏™ÂÄºx=1ÔºåÁ∫øÁ®ã‰∏ÄÂíåÁ∫øÁ®ã‰∫åÈÉΩ‰ºöÂØπxËøõË°å‰∏Ä‰∏™x+=1ÁöÑÊìç‰Ωú„ÄÇÈÇ£‰πàÊó†ËÆ∫Âì™‰∏Ä‰∏™Á∫øÁ®ãÁéáÂÖàÊâßË°åÂÆåÊØïÔºåÈÉΩ‰ºöÂ∞ÜÊúÄÊñ∞ÁöÑÁªìÊûúÈõÜÂÜôÂÖ•Âà∞ÂÜÖÂ≠ò‰∏≠ÔºåËøôÊ†∑ÂÖ∂‰ªñÁ∫øÁ®ãÂú®ËØªÂèñÁöÑÊó∂ÂÄôÈÉΩ‰ºöËØªÂèñÂà∞ÊúÄÊñ∞ÁöÑÊï∞ÊçÆ„ÄÇËøôÊ†∑Â∞±‰øùËØÅ‰∫Ü‰ªªÊÑè‰∏Ä‰∏™Á∫øÁ®ãÂú®ËØªÂèñËøô‰∏™Êï∞ÊçÆÁöÑÊó∂ÂÄôÈÉΩ‰ºö‰∏Ä‰∏™ÊúÄÊñ∞ÁöÑÂÄº„ÄÇ Â¶ÇÊûú‰∏çÂä†volatileÈôêÂà∂ÔºåÂàôÂèØËÉΩÊØè‰∏Ä‰∏™Ê†∏ÂøÉÊìç‰ΩúÂÆåÊàê‰πãÂêéÂè™ÊòØÂ∞ÜÂÄºÂÜôÂÖ•Âà∞Ëá™Â∑±CacheÂå∫ÔºåËÄå‰∏çÂà∑Êñ∞ÂÜÖÂ≠ò„ÄÇ‰ªÄ‰πàÊó∂ÂÄôÂà∑Êñ∞ÂÆåÂÖ®ÊòØÈöèÊú∫ÁöÑ ÈùûÂéüÂ≠êÊÄß‰ΩÜÊòØÂ¶ÇÊûúÂá∫Áé∞‰∏Ä‰∏ãÊÉÖÂÜµÔºö Á∫øÁ®ã‰∏ÄËØªÂèñx=1 Á∫øÁ®ã‰∏ÄÊ≠£Âú®ÊâßË°å+1ÁöÑÊìç‰Ωú Á∫øÁ®ã‰∏ÄÁöÑÊâßË°åÊó∂Èó¥ÁªìÊùüÔºåÊ≠§Êó∂Á∫øÁ®ã‰∫åÂºÄÂßãÊâßË°å Á∫øÁ®ã‰∫åÂú®ÊâßË°åÁöÑÊó∂ÂÄôËØªÂèñÂÜÖÂ≠òÊï∞ÊçÆ‰πüÊòØx=1Ôºå ‰∫éÊòØÁ∫øÁ®ã‰∫åÂ∞Üx+1ÁöÑÁªìÊûúÂÜôÂÖ•ÂÜÖÂ≠ò(Áî±‰∫évolatileÁöÑÈôêÂà∂ÔºåCPUÂú®ÊâßË°åÂÆåÊØïÁöÑÊó∂ÂÄôÂøÖÈ°ªÂº∫Âà∂ÂÜôÂÖ•ÂÜÖÂ≠ò) Á∫øÁ®ã‰∏ÄÂ∞Üx+1ÁöÑÁªìÊûúÂÜôÂÖ•ÂÜÖÂ≠ò ÊâÄ‰ª•volatileËôΩÁÑ∂ÂÖ∑ÊúâÂèØËßÅÊÄßÔºå‰ΩÜÊòØÂç¥Êó†Ê≥ï‰øùËØÅ‰∏Ä‰∏™Êìç‰ΩúÁöÑÂéüÂ≠êÊÄßÔºåÂ¶Ç‰∏ã‰∏äÊµãËØï‰ª£Á†ÅÔºöÊñ∞Âª∫‰∏Ä‰∏™Â¢ûÈïøÁ±ª:123456public class AInstance &#123; public volatile static int a =0; public static void increase()&#123; a++; &#125;&#125; ÁÑ∂ÂêéÊñ∞Âª∫‰∏Ä‰∏™ÊµãËØïÁ∫øÁ®ãÔºö12345678public class AThread extends Thread &#123; @Override public void run() &#123; for(int i =0 ; i&lt;100 ;i++)&#123; AInstance.increase(); &#125; &#125;&#125; ÊúÄÂêéÂêØÂä®Á±ªÔºö123456789public class ATest &#123; public static void main(String[] args) &#123; for(int i =0 ;i&lt;1000; i++)&#123; AThread aThread = new AThread(); aThread.start(); &#125; System.out.println(AInstance.a); &#125;&#125; Â¶ÇÊûú‰ΩøÁî®Volatile‰øÆÈ•∞ÁöÑÂèòÈáèÂèØ‰ª•‰øùËØÅÂéüÂ≠êÊÄßÁöÑËØùÔºåÈÇ£‰πàa‰∏ÄÂÆö‰ºöÊòØ100000,‰ΩÜÊòØÊµãËØïÁªìÊûú‰∏ÄÁõ¥ÊòØÈöèÊú∫Êï∞Â≠ó131600ÊàñËÄÖÂÖ∂‰ªñÁöÑ MESIÂçèËÆÆÂíåvolatileËôΩÁÑ∂MESIÂçèËÆÆÂèØ‰ª•‰øùËØÅÁºìÂ≠ò‰∏ÄËá¥ÊÄßÔºå‰ΩÜÊòØÂ¶ÇÊûúÊúâ‰∏Ä‰∏™Á∫øÁ®ãÂú®Ê≠£Ë¶ÅËøõË°å+1ÁöÑÊó∂ÂÄôË¢´ÊåÇËµ∑‰∫ÜÔºåËÄåÂè¶‰∏Ä‰∏™Á∫øÁ®ãÂàôÊ≠£Â•ΩÊâßË°åÂÆå‰∫Üx+=1ÁöÑÊìç‰ΩúÔºåÊ≠§Êó∂ÂõûÂà∞Á¨¨‰∏Ä‰∏™Á∫øÁ®ãÁªßÁª≠ÊâßË°åÔºåËøôÊ†∑Â∞±‰ºöÂØºËá¥‰∏Ä‰∏™ÈîôËØØÁöÑÊï∞ÊçÆ„ÄÇÂ¶Ç‰∏ãÔºö volatileÊâÄ‰ª•ËôΩÁÑ∂ÊúâMESI‰øùËØÅÁºìÂ≠òÁöÑ‰∏ÄËá¥ÊÄßÔºå‰ΩÜÊòØÂú®ËµãÂÄºÊìç‰Ωú‰πãÂâçÂ∑≤ÁªèËØªÂèñ‰∫ÜÔºåÊâÄ‰ª•Ê≠§Êó∂Âπ∂‰∏ç‰ºöÂÜçÊ¨°ËØªÂèñÂÜÖÂ≠ò ËøôÂ∞±ÊòØvolatileÂè™ËÉΩ‰øùËØÅÂÜÖÂ≠òÁöÑÂèØËßÅÊÄßÔºå‰ΩÜÊòØÊó†Ê≥ï‰øùËØÅÂéüÂ≠êÊÄßÁöÑÈóÆÈ¢ò Âçï‰æãÊ®°ÂºèÊ≠£ÊòØÁî±‰∫évolatileÁöÑËøô‰∏™ÁâπÊÄßÔºåÊâÄ‰ª•Âú®Â§öÁ∫øÁ®ã‰∏≠ÁöÑÂçï‰æãÊ®°ÂºèÈÉΩ‰ºöÂú®Ëé∑ÂèñÂÆû‰æãÁöÑÊñπÊ≥ï‰∏äÂä†‰∏ä‰∏Ä‰∏™synchronizedÂÖ≥ÈîÆÂ≠óÔºå‰ª•Á°Æ‰øùÂè™‰ºöÁîüÊàê‰∏Ä‰∏™ÂØπË±°„ÄÇ ÊÄªÁªìÂú®Â§öÁ∫øÁ®ãÁöÑÂú∫ÊôØ‰∏ãÔºå‰ΩøÁî®volatileÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂéüÂ≠êÊÄßÊìç‰ΩúÁöÑÈóÆÈ¢òÔºåÂê¶ÂàôÂ∞±‰ºöÈÄ†ÊàêÁ®ãÂ∫èÁöÑÊï∞ÊçÆÈîôËØØ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringBoot‰∏≠Âú®‰∏Ä‰∏™‰∫ãÁâ©‰∏≠Êõ¥Êñ∞Â§öË°®ÁöÑÊ≥®ÊÑè‰∫ãÈ°π]]></title>
    <url>%2F2019%2F01%2F02%2FSpringBoot%E4%B8%AD%E5%9C%A8%E4%B8%80%E4%B8%AA%E4%BA%8B%E7%89%A9%E4%B8%AD%E6%9B%B4%E6%96%B0%E5%A4%9A%E8%A1%A8%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%2F</url>
    <content type="text"><![CDATA[Áé∞Ë±°ÔºöÂÖ∑‰ΩìË°®Áé∞‰∏∫Êï∞ÊçÆË¢´update‰πãÂêéÔºåÂú®Âêå‰∏Ä‰∏™‰∫ãÁâ©ÈáåÈù¢ÂÜçÊ¨°Êü•ËØ¢ÔºåÊü•ËØ¢ÁöÑÊòØ‰∏Ä‰∏™Êõ¥Êñ∞‰πãÂêéÁöÑÂÄº„ÄÇ Â§çÁé∞Ê≠•È™§Êõ¥Êñ∞‰∏Ä‰∏™ÂïÜÂìÅÁöÑ‰ø°ÊÅØÔºåÂÖ∂Ê≠•È™§Â¶Ç‰∏ãÔºö Êõ¥Êñ∞ÂïÜÂìÅË°®ÁöÑ‰∏Ä‰∫õÊï∞ÊçÆ Âú®ËøõÂ±ïË°®‰∏≠Êñ∞Âä†ÂÖ•‰∏ÄÊù°Áî≥ËØ∑ Âú®Êìç‰ΩúÊó•ÂøóË°®‰∏≠Êñ∞Â¢ûÂêÑÁßçÂèòÊõ¥ÁöÑÊìç‰Ωú(ËÆ∞ÂΩïÂèòÊõ¥‰πãÂâçÁöÑÂÄºÔºåÂèòÊõ¥‰πãÂêéÁöÑÂÄº) Áî±‰∫é‰πãÂâçÊòØÊØè‰∏Ä‰∏™Êï∞ÊçÆÁöÑÊìç‰ΩúÈÉΩÊòØÁã¨Á´ãÁöÑ‰∏Ä‰∏™ÊñπÊ≥ïÔºåÊâÄ‰ª•ÂÖ∂‰ª£Á†ÅÁªìÊûÑÂ¶Ç‰∏ãÊâÄÁ§∫:123456@Transactionalpublic void ceateProductEditRequest()&#123; public void editProduct(); public void createNewProductProgress(); public void insertLogs();&#125; ‰ΩÜÊòØËøôÊ†∑ÁöÑÊìç‰ΩúÈ°∫Â∫è‰ºöÂá∫Áé∞‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂõ†‰∏∫Âú®Âêå‰∏Ä‰∏™‰∫ãÁâ©‰∏≠„ÄÇÈ¶ñÂÖàÊâßË°å‰∫ÜÊõ¥Êñ∞ÂïÜÂìÅÁöÑÊìç‰ΩúÔºåÁÑ∂ÂêéÂú®ËøõÂ±ïË°®‰∏≠Êñ∞Â¢û‰∏Ä‰∏™ËÆ∞ÂΩï„ÄÇ‰∏ÄÁõ¥Âà∞ËøôÈáå Âú®Ê≠§‰πãÂâç‰∏ÄÁõ¥ÈÉΩÊòØÊ≤°ÈóÆÈ¢òÁöÑÔºåÁÑ∂ËÄåÂú®Á¨¨‰∏âÊ≠•ÁöÑÊó∂ÂÄôÔºåÁî±‰∫éÊï∞ÊçÆÂ∫ì‰∏≠Â∑≤ÁªèÂ∞ÜÂïÜÂìÅË°®ÁöÑÊï∞ÊçÆËøõË°å‰∫ÜÊõ¥Êñ∞ÔºåÊâÄ‰ª•Ê≠§Êó∂Êü•ËØ¢Âá∫Êù•ÁöÑÊòØ‰∏Ä‰∏™Êõ¥Êñ∞‰πãÂêéÁöÑÂÄº„ÄÇ‰ΩÜÊòØÊó•ÂøóË°®‰∏≠ÊòØÈúÄË¶ÅËÆ∞ÂΩïÁî≥ËØ∑ÁöÑÂâçÂêéÂÄºÂæóÂèòÂåñ„ÄÇÊâÄ‰ª•Ê≠§Êó∂Â∞±ÈúÄË¶ÅË∞ÉÊï¥ÊñπÊ≥ïÁöÑÈ°∫Â∫è„ÄÇ ÊñπÊ°àÂêå‰∏Ä‰∏™‰∫ãÁâ©ÈáåÈù¢ÔºåÂú®Êõ¥Êñ∞‰πãÂêéËøõË°åÁöÑÊü•ËØ¢ËØ≠Âè•ÔºåÊü•ËØ¢Âá∫ÁöÑÊòØÊõ¥Êñ∞‰πãÂêéÁöÑËØ≠Âè•ÔºåÂ¶ÇÊûúË¶ÅÂÆûÁé∞‰∏äËø∞ÁöÑ‰∏öÂä°Âú∫ÊôØÔºåÂç≥ÈúÄË¶ÅÂ∞ÜinsertLogsÊñπÊ≥ïÊèêËá≥editProduct‰πãÂâç„ÄÇ123456@Transactionalpublic void ceateProductEditRequest()&#123; public void insertLogs(); public void editProduct(); public void createNewProductProgress();&#125; Áî±‰∫éÂú®Âêå‰∏Ä‰∏™‰∫ãÁâ©ÈáåÈù¢Ôºå‰∏îËØ•‰∏öÂä°Âú∫ÊôØÂÆûÈôÖ‰∏≠Âπ∂‰∏çÂ§ö„ÄÇÊâÄ‰ª•ËøôÊ†∑ÁÆÄÂçïÂ§ÑÁêÜ‰∫Ü‰∏ã„ÄÇ ‰ΩÜÊòØËøôÊ†∑ÁöÑÂÜôÊ≥ïÂú®Âπ∂ÂèëÈ´òÁöÑÊÉÖÂÜµ‰∏ãÔºåÈúÄË¶ÅËÄÉËôëÊï∞ÊçÆÂ∫ìÁöÑÈîÅËÆæËÆ°ÔºåÈò≤Ê≠¢Âá∫Áé∞‰∫ÜÊ≠ªÈîÅÔºå‰æãÂ¶ÇÊï∞ÊçÆÂ∫ìÂºÄÂêØ‰∫ÜGAPÈîÅÊàñËÄÖNext-Key Lock]]></content>
      <categories>
        <category>Springboot</category>
      </categories>
      <tags>
        <tag>Springboot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰∏ÄÊ¨°nginxÁöÑÊéíÊü•ÁªèÂéÜ]]></title>
    <url>%2F2018%2F12%2F21%2F%E4%B8%80%E6%AC%A1nginx%E7%9A%84%E6%8E%92%E6%9F%A5%E7%BB%8F%E5%8E%86%2F</url>
    <content type="text"><![CDATA[Áé∞Ë±°ÈÖçÁΩÆnginxÁöÑhttpsÔºå‰ΩÜÊòØ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂‰πãÂêé‰∏ÄÁõ¥Êó†Ê≥ïËÆøÈóÆ„ÄÇ„ÄÇ„ÄÇ ÊéíÊü•Ê≠•È™§ÂàöÂºÄÂßã‰ª•‰∏∫ÊòØÈò≤ÁÅ´Â¢ôÁöÑÂéüÂõ†ÔºåÁî±‰∫éÊòØÈòøÈáå‰∫ëÁöÑ‰∏ªÊú∫ÔºåÊâÄ‰ª•Áõ¥Êé•ÁôªÂΩï‰∫ë‰∏ªÊú∫Êü•ÁúãÂÆâÂÖ®ÈÖçÁΩÆ„ÄÇ‰∏ÄÂàáÈÉΩÊòØOKÁöÑ„ÄÇ ÁÑ∂ÂêéÂèàÊü•Áúã‰∏ªÊú∫Ëá™Â∑±ÁöÑÈò≤ÁÅ´Â¢ôÔºåÁî±‰∫éÊòØcentos7ÔºåÊâÄ‰ª•Âú®Ê≠§Ëä±‰∫ÜÁÇπÊó∂Èó¥ÔºåÊúÄÂêéËøòÊòØÂ∞Ü443Á´ØÂè£Ê∑ªÂä†Âà∞‰∫ÜÈò≤ÁÅ´Â¢ôËßÑÂàô‰∏≠ÔºåÁÑ∂ÂêéÈáçÂêØÈò≤ÁÅ´Â¢ô„ÄÇ„ÄÇ„ÄÇ httpsËÆøÈóÆÁΩëÁ´ôÔºåÂèëÁé∞ËøòÊòØÊ≤°ÂèçÂ∫î„ÄÇ Ëøô‰∏™Êó∂ÂÄôÂ∞±ÂºÄÂßãÊÄÄÁñënginxÁöÑÈÖçÁΩÆÊñá‰ª∂ÊòØ‰∏çÊòØÂì™ÈáåÈÖçÁΩÆÈîôËØØ‰∫ÜÔºå‰∏ªË¶ÅÈÉΩÊòØ‰øÆÊîπÁöÑ 443 ÁöÑÊúçÂä° ÂÖ∂ÂÆûËøôÊó∂ÂÄôÊÄùË∑ØÂ∑≤ÁªèÈîôËØØ‰∫Ü ÂêéÊù•ÈÄöËøáhttpsËøòÊòØ‰∏ÄÁõ¥‰∏çËÉΩËÆøÈóÆÂà∞ ÁªßÁª≠ÊéíÊü•ÂΩìÊó∂ÊÉ≥‰∫Ü‰∏ãÔºåÁ¥¢ÊÄßÁõ¥Êé•‰øÆÊîπ 80 ÈÖçÁΩÆÁöÑserverÔºåÁÑ∂ÂêéÂèëÁé∞‰øÆÊîπ‰πãÂêéËøòËÉΩÊ≠£Â∏∏ËÆøÈóÆÔºå‰∫éÊòØÂ∞±Êé®Êñ≠ÂèØËÉΩÊòØ‰øÆÊîπÁöÑnginxÁöÑÈÖçÁΩÆÊñá‰ª∂Âπ∂ÈùûÊòØnginxÊâÄËØªÂèñÁöÑ„ÄÇ‰∫éÊó∂ÈÄöËøá‰ª•‰∏ãÂëΩ‰ª§ÂèëÁé∞ÈóÆÈ¢òÔºö1234[root@iZ2lqpf5ei7560Z ~]# locate nginx.conf/usr/local/nginx/conf/nginx.conf/usr/local/nginx/conf/nginx.conf.default/usr/local/nginx/nginx-1.10.1/conf/nginx.conf ÂèØ‰ª•ÁúãÂà∞ÊàëÁöÑÊúçÂä°Âô®‰∏≠Âá∫Áé∞‰∫Ü‰∏§‰∏™nginx.confÔºåÊúÄ‰∏ãÈù¢ÈÇ£‰∏Ä‰∏™ÊòØnginxÂÆâË£ÖÊñá‰ª∂‰∏≠ÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåÊàë‰πãÂâç‰∏ÄÁõ¥ÊîπÁöÑÂ∞±ÊòØËøô‰∏™Êñá‰ª∂ ÁÑ∂ÂêéÂÜçÊü•ÁúãnginxÁöÑÊúçÂä°12345[root@iZ2lqpf5ei7560Z ~]# ps -ef|grep nginxroot 4154 1 0 Dec16 ? 00:00:00 nginx: master process ./nginxroot 4155 4154 0 Dec16 ? 00:00:00 nginx: worker processroot 10071 10026 0 00:15 pts/2 00:00:00 grep --color=auto nginx[root@iZ2lqpf5ei7560Z ~]# ÁúãÂà∞ËøôÈáåÂ∞±Â§ßÊ¶ÇÁü•ÈÅìÂéüÂõ†‰∫Ü„ÄÇ‰πãÂâç‰∏ÄÁõ¥ÊîπÁöÑÊòØÁºñËØëÊñá‰ª∂‰∏≠ÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåËá™ÁÑ∂ÊòØ‰∏ç‰ºöÁîüÊïàÁöÑ„ÄÇ ÊÄùËÄÉËøô‰πü‰∏∫‰πãÂêéÈÅáÂà∞ÈóÆÈ¢òÁöÑÊéíÊü•ÊÄùË∑ØÊèê‰æõ‰∫Ü‰∏ÄÁÇπË≠¶Á§∫ÔºåÂç≥ÈÅáÂà∞ÈóÆÈ¢òÁöÑÊó∂ÂÄô‰∏çË¶ÅÊÖåÂº†ÔºåÈ¶ñÂÖà‰∏ÄÁÇπÁÇπÁöÑÊ¢≥ÁêÜÈÄªËæëÔºåÁÑ∂ÂêéÂÜçËøõË°åÊéíÊü•„ÄÇ]]></content>
      <categories>
        <category>nginx</category>
      </categories>
      <tags>
        <tag>nginx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éËá™Â∑±‰ª£Á†ÅÈ£éÊ†ºÁöÑ‰∏ÄÁÇπÊÄùËÄÉ]]></title>
    <url>%2F2018%2F12%2F09%2F%E5%85%B3%E4%BA%8E%E8%87%AA%E5%B7%B1%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC%E7%9A%84%E4%B8%80%E7%82%B9%E6%80%9D%E8%80%83%2F</url>
    <content type="text"><![CDATA[ÈöèÁùÄÁ¨¨‰∏Ä‰∏™È°πÁõÆÊ≠£Âºè‰∏äÁ∫øÔºåÊòØÊó∂ÂÄôÊÄªÁªìÁÇπ‰ªÄ‰πà‰∫Ü„ÄÇ‰ª•‰æõËá™Â∑±Êó•ÂêéÂèçÊÄù„ÄÇÈ°∫‰æø‰πüÊèêÈÜí‰∏ãËá™Â∑±ÊòØÊó∂ÂÄôÁúã‰∏ã„Ää‰ª£Á†ÅÊï¥Ê¥Å‰πãÈÅì„Äã‰∫Ü ÂÖ≥‰∫éÊûö‰∏æÂíåÈùôÊÄÅÂ∏∏ÈáèÂ∏∏ÈáèÂú®‰ª£Á†ÅÈáåÈù¢ÊúÄÂ•Ω‰∏çË¶ÅÊúâÈ≠îÊ≥ïÂÄºÔºåËøô‰∏™ËôΩÁÑ∂Âú®ÈòøÈáåÂ∑¥Â∑¥ÂºÄÂèëÊâãÂÜå‰∏≠ÊèêÂà∞ËøáÔºå‰ΩÜÊòØËá™Â∑±ÂàöÂºÄÂßãÁöÑÊó∂ÂÄô‰∏ÄÁõ¥ËßâÂæóÔºåÊúâÊó∂ÂÄôËøô‰∏™ÂèòÈáèÂ∞±‰ΩøÁî®‰∏ÄÊ¨°Ôºå‰∏∫Âï•ËøòÈúÄË¶ÅÂÆö‰πâ‰∏Ä‰∏™ÂèòÈáèÔºåÈÇ£Ê†∑Âà∞Êó∂ÂÄôÂéªÂØªÊâæËøô‰∏™ÂèòÈáèÁöÑÊó∂ÂÄô‰∏çÊòØÊõ¥Âä†È∫ªÁÉ¶‰πà„ÄÇ ÂêéÊù•ÊâçÂèëÁé∞Ëøô‰∏™ÊÉ≥Ê≥ïÊúâÁÇπÊÑöË†¢ÔºåÂõ†‰∏∫‰Ω†Ê†πÊú¨‰∏çÁü•ÈÅìÂêéÊù•‰ºö‰∏ç‰ºö‰ΩøÁî®Ëøô‰∏™ÂèòÈáè„ÄÇ‰æãÂ¶Ç‰ª•‰∏ã‰ª£Á†ÅÔºö123if("A".equals(A))&#123; XXX&#125; ÂÅáËÆæ‰ª£Á†Å‰∏≠Â∞±‰∏ÄÂ§Ñ‰ΩøÁî®Ëøô‰∏™‚ÄùA‚ÄùÔºåÊ≤°ÈóÆÈ¢ò„ÄÇ‰ΩÜÊòØÂΩì‰ª£Á†Å‰∏≠ÊúâÂ§öÂ§ÑÊúâÁ±ª‰ººÁöÑÂà§Êñ≠Êó∂ÔºåÁõ¥Êé•Áî®‰∏äËø∞‰ª£Á†ÅËôΩÁÑ∂‰πüÂèØ‰ª•ÂÆåÊàêÔºåËã•ÈöèÂêéÈúÄÊ±Ç‰∏ÄÂèòÂä®ÔºåÈÇ£‰πàÂ∞±ÈúÄË¶Å‰øÆÊîπÂ§ö‰∏™‰ª£Á†ÅÂùóÁöÑÂà§Êñ≠„ÄÇËøôÊó∂ÂÄôÂ∞±‰ºöÊòæÂæóÂæàÁπÅÁêêÔºåËÄå‰∏îËøòËØ¥‰∏çÂáÜ‰ºöÊºèÊéâÂá†‰∏™„ÄÇÊâÄ‰ª•Ëøô‰∏™Êó∂ÂÄô‰∏Ä‰∏™ÈùôÊÄÅÂèòÈáèÊòØ‰∏çÈîôÁöÑÈÄâÊã©„ÄÇ‰æãÂ¶ÇÔºö1234public static final String XX_TYYPE ="A";if(XX_TYPE.equals(A))&#123; XXX&#125; Êûö‰∏æÊûö‰∏æÂÖ∂ÂÆûÂíåÂ∏∏ÈáèÂú®ÊÑè‰πâ‰∏äÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇÂå∫Âà´Â∞±ÊòØÊûö‰∏æÂèØ‰ª•Ë°®ËææÊõ¥Â§öÁöÑ‰ø°ÊÅØ„ÄÇ‰æãÂ¶ÇÊúÄÂ∏∏Áî®ÁöÑÊé•Âè£ËøîÂõûÂÄº„ÄÇ1234567891011121314public enum ResponseEnum&#123; SUCCESS("200","success"), FAIL("100","fail") ; private String code; private String message; public ResponseEnum(String code,String message)&#123; this.code = code; this.message = messgae; &#125;&#125; Ëøô‰∏™Êó∂ÂÄôÂ∞±ÂèØ‰ª•Ë°®ËææÊõ¥Â§öÁöÑ‰ø°ÊÅØ‰∫Ü„ÄÇÂêåÊ†∑ÁöÑÔºåÂà©Áî®Êûö‰∏æ‰πüÂèØ‰ª•Êù•ÂÆö‰πâ‰∏Ä‰∫õException„ÄÇ ÈÖçÁΩÆÊñá‰ª∂Èô§‰∫Ü‰∏äËø∞ÁöÑÊûö‰∏æÂíåÂ∏∏Èáè‰πãÂ§ñÔºåÂÖ∂ÂÆûËøòÂèØ‰ª•Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠Êù•ÂÆö‰πâ‰∏Ä‰∫õÈÄöÁî®ÁöÑÂèòÈáèÔºåÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂÆö‰πâ‰∏Ä‰∫õÂèòÈáèÁöÑÊúâÁÇπÊòØÊó†ÈúÄ‰øÆÊîπ‰ª£Á†Å(ÂâçÊèêÊòØ‰ΩøÁî®‰∫ÜÂæÆÊúçÂä°ÔºåÊúâËá™Â∑±ÁöÑÈÖçÁΩÆ‰∏≠ÂøÉ)„ÄÇÁÑ∂ÂêéÂú®‰ª£Á†Å‰∏≠‰ΩøÁî®@ValueÊ≥®Ëß£Êù•Ëé∑ÂèñËØ•ÂèòÈáè„ÄÇ‰ªéËÄåÊó†ÈúÄÊîπÂä®‰ª£Á†Å„ÄÇ ÂÖ≥‰∫éLambdaË°®ËææÂºèJava8‰∏≠‰ΩøÁî®ÁöÑLambdaË°®ËææÂºèÁ°ÆÂÆûÂèØ‰ª•ÁÆÄÂåñ‰∏çÂ∞ë‰ª£Á†ÅÁöÑÁºñÂÜôÔºå‰ΩÜÊòØÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ„ÄÇÂú®‰ΩøÁî®ÁöÑÊó∂ÂÄô‰∏çË¶ÅÂÜôËøáÈïøÁöÑË°®ËææÂºè„ÄÇËøôÊ†∑ËôΩÁÑ∂ÂèØ‰ª•Êñπ‰æøÂºÄÂèëËÄÖÁúÅÂéª‰∏çÂ∞ëÁöÑÊó∂ÂÄôÔºå‰ΩÜÊòØÊúâÊó∂ÂÄôÂç¥‰∏çÂà©‰∫éÂêéÊù•Áª¥Êä§ËÄÖÈòÖËØª‰ª£Á†Å„ÄÇ ÂÖ≥‰∫éOptionalÊ≥õÂûãËøô‰∏™Ê≥õÂûãÂÖ∂ÂÆûÁõÆÂâçÊàë‰ΩøÁî®ÁöÑËøòÊòØ‰∏çËæÉÂ∞ëÔºåÊâÄ‰ª•ÂØπ‰∫éËøô‰∏™Ê≥õÂûãÁöÑ‰ΩøÁî®ÁõÆÂâçËøò‰∏çÊ∏ÖÊ•öÊòØÂê¶ÂèØ‰ª•ÁÆÄÂåñ‰ª£Á†Å„ÄÇ ‰ª£Á†ÅÁöÑÁÆÄÂåñ‰ª£Á†ÅÁöÑÁÆÄÂåñÊòØ‰∏ÄÈó®Ëâ∫ÊúØÔºå‰∏ç‰ªÖ‰ªÖÊòØÂèØ‰ª•ÁÆÄÂåñ‰ª£Á†ÅÁöÑ ÂáΩÊï∞ÂíåÂèòÈáèÂëΩÂêçÂØπ‰∫éÂáΩÊï∞ÂíåÂèòÈáèÁöÑÂëΩÂêçÔºåÊúÄÂ•ΩÊòØË∂äÊòéÁ°ÆË∂äËßÑËåÉË∂äÂ•Ω„ÄÇ‰∏çÁÑ∂Ëá™Â∑±Êó•ÂêéËØªËµ∑Êù•‚Ä¶Ëá™Â∑±ÈÉΩ‰∏çÊ∏ÖÊ•öËøô‰∏™ÂáΩÊï∞ÊòØÂπ≤Âï•ÁöÑ ‰ª£Á†ÅË°åÊï∞Â§™Â§öÔºåÊúÄÂ•ΩÊäΩÁ¶ªÂá∫Êù•‰∏Ä‰∏™ÊñπÊ≥ïÈáåÈù¢Â¶ÇÊûúË°åÊï∞Â§™Â§öÔºåÊúÄÂ•ΩÂ∞ÜÂÖ∂ÊäΩÁ¶ªÂá∫Êù•ÁöÑÔºå‰Ωú‰∏∫‰∏Ä‰∫õÁã¨Á´ãÁöÑÊñπÊ≥ï„ÄÇËøôÊ†∑‰∏ç‰ªÖ‰πãÂêéÈòÖËØªËµ∑Êù•ÊØîËæÉÊñπ‰æøÔºåËÄå‰∏îËøòÊñπ‰æø‰ª•ÂêéÊõøÊç¢ÈÄªËæëÔºåÂ¶ÇÊûúÊñπÊ≥ïÈáåÈù¢ÈÄªËæëÂ§™Â§öÔºåÈÇ£‰πàÂú®‰ª•ÂêéÂ¶ÇÊûúÂá∫Áé∞‰∏Ä‰∏™ÈúÄÊ±ÇÔºåÂäüËÉΩÂíå‰πãÂâçÁöÑÊüê‰∏Ä‰∏™ÊñπÊ≥ïÁ±ª‰ººÔºå‰ªÖ‰ªÖÊòØ‰∏ÄÁÇπ‰∏çÂêå„ÄÇ Â¶ÇÊûúÊòØ‰ºòÂåñÂêéÁöÑ‰ª£Á†ÅÔºåÂàô‰ªÖ‰ªÖÊòØÊõøÊç¢ÊéâÈÇ£ÈÉ®ÂàÜ‰∏çÂêåÁöÑÊñπÊ≥ïÂç≥ÂèØ„ÄÇËã•‰∏Ä‰∏™‰ª£Á†ÅÁöÑÊñπÊ≥ïÈÄªËæëÂ§™Â§öÔºåÂàôÂøÖÈ°ªÈáçÂÜô‰∏Ä‰∏™Á±ª‰ººÁöÑÊñπÊ≥ï„ÄÇËøôÊó†ÂΩ¢‰πãÈó¥ÂèàÂä†Â§ß‰∫ÜÂºÄÂèëÁöÑÂ∑•‰ΩúÈáèÔºåËÄå‰∏î‰πü‰∏ç‰æø‰∫éÊó•ÂêéÁöÑÁª¥Êä§„ÄÇ]]></content>
      <categories>
        <category>ÊÄùËÄÉ</category>
      </categories>
      <tags>
        <tag>ÊÄùËÄÉ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mongoÂ§öÊï∞ÊçÆÊ∫êÁöÑ‰ΩøÁî®]]></title>
    <url>%2F2018%2F12%2F05%2Fmongo%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[ÁÆÄ‰ªãÂú®ÂºÄÂèëÁöÑËøáÁ®ã‰∏≠Ôºå‰∏çÂèØÈÅøÂÖçÁöÑ‰ºö‰ΩøÁî®Â§öÊï∞ÊçÆÊ∫êÔºå‰ΩÜÊòØÁõ∏ÂØπ‰∫éMysqlÁöÑÂ§öÊï∞ÊçÆÊ∫êÔºåMongoÁöÑÂ§öÊï∞ÊçÆÊ∫êÈÖçÁΩÆËøòÊòØÊØîËæÉÂÆπÊòìÁöÑ„ÄÇ È¶ñÂÖàÂú®pom.xml‰∏≠ÂºïÂÖ•mongoÁöÑÈ©±Âä®jarÂåÖ‰ª•ÂèäspringbootÂíåmongoÁöÑ‰∏Ä‰∏™jarÂåÖ ÂéüÁêÜMongoÁöÑÂ§öÊï∞ÊçÆÊ∫êÊó†ÈùûÊòØÈ¶ñÂÖàËØªÂèñÈÖçÁΩÆÊñá‰ª∂ÔºåÁîüÊàêMongoPropertiesÔºåÈÄöËøáMongoPropertiesÊù•ÁîüÊàê‰∏Ä‰∏™MongoTemplate,ÊúÄÂêéÈÄöËøáRepositoryÊù•Êìç‰ΩúMongo„ÄÇ ËÄåÂ§öÊï∞ÊçÆÊ∫êÂ∞±ÊòØÁîüÊàêÂ§ö‰∫ÜMongoTemplateÔºåÁÑ∂ÂêéÈÄöËøáÂ§ö‰∏™MongoTemplateÊâÄÂØπÂ∫îÁöÑRepositoryÊù•Êìç‰ΩúMongoÊï∞ÊçÆÂ∫ì ‰ª£Á†Å123456789101112131415161718192021222324&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;org.mongodb&lt;/groupId&gt; &lt;artifactId&gt;mongodb-driver&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt; &lt;!-- MongoÁõ∏ÂÖ≥--&gt;&lt;!-- https://mvnrepository.com/artifact/org.mongodb/mongo-java-driver --&gt;&lt;dependency&gt; &lt;groupId&gt;org.mongodb&lt;/groupId&gt; &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt; &lt;version&gt;3.8.0&lt;/version&gt;&lt;/dependency&gt;&lt;!-- https://mvnrepository.com/artifact/org.mongodb/bson --&gt;&lt;dependency&gt; &lt;groupId&gt;org.mongodb&lt;/groupId&gt; &lt;artifactId&gt;bson&lt;/artifactId&gt; &lt;version&gt;3.8.0&lt;/version&gt;&lt;/dependency&gt;]]></content>
  </entry>
  <entry>
    <title><![CDATA[Mysql‰πãbinlogÁöÑ‰ΩøÁî®(‰∏Ä)]]></title>
    <url>%2F2018%2F11%2F11%2FMysql%E4%B9%8Bbinlog%E7%9A%84%E4%BD%BF%E7%94%A8-%E4%B8%80%2F</url>
    <content type="text"><![CDATA[ËÉåÊôØÂÅáËÆæÊúâ‰∏Ä‰∏™Â¶Ç‰∏ãÁöÑ‰∏öÂä°Âú∫ÊôØÂ¶Ç‰∏ãÔºöÈúÄË¶ÅËÆ∞ÂΩï‰∏Ä‰∏™ÂïÜÂìÅÊàñËÄÖËÇ°Á•®ÁöÑÂÆûÊó∂‰ª∑Ê†ºÔºåÊØè‰∏Ä‰∏™Â∞èÊó∂ËÆ∞ÂΩï‰∏ÄÊ¨°ÔºåËÄåÂïÜÂìÅÊàñËÄÖËÇ°Á•®ÁöÑÊï∞ÈáèÂçÅÂàÜÂ§öÔºåËøôÊó∂‰∏öÂä°ÂèëÂ±ïÂà∞‰∏ÄÂÆöÁöÑÁ®ãÂ∫¶‰πãÂêéÂ∞±ÈúÄË¶ÅËÄÉËôëÊï∞ÊçÆÂ∫ìÁöÑËÆæËÆ°„ÄÇÈ¶ñÂÖàÂïÜÂìÅÊØè‰∏™Â∞èÊó∂ÁöÑ‰ª∑Ê†ºËÇØÂÆöÊòØÈúÄË¶ÅÂÖ•Â∫ìÁöÑ„ÄÇÂÖ∂Ê¨°ÊØèÂ∞èÊó∂ÁöÑË¥≠‰π∞‰∫∫Áæ§‰ª•ÂèäÂêÑÁßçÂüãÁÇπÊï∞ÊçÆÈöè‰πã‰∏ÄËµ∑‰πüË¶ÅÂÖ•Â∫ì„ÄÇ‰ª•‰æø‰∫éÊó•ÂêéÁöÑÊï∞ÊçÆÂàÜÊûê„ÄÇ Ëß£ÂÜ≥ÊñπÊ°àÈöèÁùÄÊï∞ÊçÆÈáèÁöÑÂ¢ûÂ§ßÔºå‰∏ÄËà¨ÁöÑËß£ÂÜ≥ÊñπÊ°àÊòØËÆæÁΩÆÁ¥¢ÂºïÔºåÁÑ∂ÂêéÂÜçËÄÉËôëÊòØËøõË°åÂûÇÁõ¥ËøòÊòØÊ∞¥Âπ≥ÂàÜÂ∫ìÂàÜË°®„ÄÇ ‰ΩÜÊòØ‰∏ÄÊó¶‰ΩøÁî®Ê∞¥Âπ≥ÂàÜÂ∫ìÂàÜË°®Â∞±‰ºöÊó†ÂΩ¢‰πãÈó¥Â¢ûÂä†ÂºÄÂèëÁöÑÂ§çÊùÇÁ®ãÂ∫¶ÔºåËÄå‰∏îÂàÜÂ∫ìÂàÜË°®‰πãÂêéËÄÉËôëÁöÑÂêÑÁßçÂõ†Á¥†‰πü‰ºöÈöè‰πãËÄåÊù•Â¢ûÂä†Êï∞ÂÄç„ÄÇ‰æãÂ¶ÇÂêÑÁßçË°®ÁöÑÂîØ‰∏ÄID‰ª•ÂèäÂ¶Ç‰ΩïËøõË°åÁª¥Â∫¶ÁöÑÂàíÂàÜ„ÄÇ ÂØπ‰∫éÊï∞ÊçÆÈáè‰∏çÂ§ßÁöÑ‰∏Ä‰∏™Âè¶Ëß£ÂÜ≥ÊñπÊ≥ïÊòØÔºöËß£ÊûêmysqlÁöÑbinlogÊó•ÂøóÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂Â≠òÂÖ•Âè¶‰∏Ä‰∏™Â∫ìÔºå‰ºòÂÖàÊé®ËçêmongoÔºåËØ•Â∫ìÂè™‰Ωú‰∏∫‰∏Ä‰∏™ËØªÂèñÂ∫ìËøõË°åÊü•ËØ¢Ôºå‰∏çËøõË°å‰ªª‰ΩïÁöÑÂÜôÂÖ•„ÄÇËøôÊ†∑Â§ÑÁêÜ‰πãÂêéÔºåÂú®‰∏≠Á≠âÁ®ãÂ∫¶ÁöÑËßÑÊ®°Êï∞ÊçÆÊòØÂÆåÂÖ®ÂèØ‰ª•Êª°Ë∂≥ÈúÄÊ±ÇÁöÑÔºåÂ∞ÜÂÖ∂ËØªÂÜôËøõË°åÂàÜÁ¶ª„ÄÇËÄå‰∏î‰∏ùÊØ´‰∏çÂΩ±Âìç‰πãÂâçÁöÑ‰∏öÂä°ÂíåËÆæËÆ°„ÄÇ binlogÂÖ∂ÂÆûÂØπ‰∫éÂ¢ûÂà†ÊîπÊü•‰πãÂ§ñÔºåmysqlÁöÑbinlogÊó•Âøó‰πüÊòØ‰∏Ä‰∏™ÈùûÂ∏∏ÊúâÁî®ÁöÑÂ∑•ÂÖ∑ÔºåÂÆÉÂèØ‰ª•ËÆ∞ÂΩï‰∏ãÊï∞ÊçÆÂ∫ìÁöÑÊØè‰∏ÄÊ¨°Êìç‰ΩúÔºå‰æãÂ¶ÇÊü•ËØ¢ÔºåÊñ∞Â¢ûÔºåÂà†Èô§ÔºåÊõ¥Êñ∞Á≠â„ÄÇÁÑ∂ÂêéÂ∞ÜÂÖ∂‰Ωú‰∏∫Êó•ÂøóËÆ∞ÂΩïÂú®binlog‰πã‰∏≠„ÄÇ ‰æãÂ≠êÈ¶ñÂÖàÁ°Æ‰øù‰Ω†ÁöÑÊï∞ÊçÆÂ∫ìÂ∑≤ÁªèÂºÄÂêØ‰∫ÜbinlogÊó•ÂøóÔºå1234567891011121314151617181920212223242526mysql&gt; show variables like 'log_%';+----------------------------------------+------------------------------------------------------------------+| Variable_name | Value |+----------------------------------------+------------------------------------------------------------------+| log_bin | ON || log_bin_basename | /opt/mysql/mysql-8.0.11-linux-glibc2.12-x86_64/data/master || log_bin_index | /opt/mysql/mysql-8.0.11-linux-glibc2.12-x86_64/data/master.index || log_bin_trust_function_creators | OFF || log_bin_use_v1_row_events | OFF || log_error | ./error.log || log_error_services | log_filter_internal; log_sink_internal || log_error_verbosity | 2 || log_output | FILE || log_queries_not_using_indexes | OFF || log_slave_updates | ON || log_slow_admin_statements | OFF || log_slow_slave_statements | OFF || log_statements_unsafe_for_binlog | ON || log_syslog | ON || log_syslog_facility | daemon || log_syslog_include_pid | ON || log_syslog_tag | || log_throttle_queries_not_using_indexes | 0 || log_timestamps | UTC |+----------------------------------------+------------------------------------------------------------------+20 rows in set (0.01 sec) ÂèØ‰ª•ÁúãÂà∞| log_bin | ONÔºåËøôÂ∞±Ë°®Á§∫Êï∞ÊçÆÂ∫ìÂ∑≤ÁªèÂºÄÂêØ‰∫ÜbinlogÊó•ÂøóÔºåÂ¶ÇÊûú‰Ω†Êü•ËØ¢Âà∞ËøòÊ≤°ÊúâÂºÄÂêØÁöÑËØùÔºåÂèØ‰ª•ÂéªÊêúÁ¥¢‰∏ãÂ¶Ç‰ΩïÂºÄÂêØ„ÄÇ Âè¶Â§ñÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅÂú®binlog‰∏≠ÁúãÂà∞Êó•ÂøóÁöÑËØùÔºå‰Ω†ÂêåÊó∂‰πüÈúÄË¶ÅÂú®Mysql‰∏≠ËÆæÁΩÆbinlog_rows_query_log_events‰∏∫RowÔºåÂ¶ÇÊûú‰∏çÁ°ÆÂÆöÁöÑËØùÔºåÂèØ‰ª•Â∞Üset binlog_rows_query_log_events=1ÊâßË°å‰∏ÄÊ¨°„ÄÇ ‰∏∫‰∫ÜÊµãËØïÔºåÂ∑≤ÁªèÂª∫Á´ãÂ•Ω‰∫Ü‰∏Ä‰∏™Ë°®ÔºåÂÖ∂ÁªìÊûÑ‰∏éÂ¶Ç‰∏ãÔºö12345678910mysql&gt; desc T_fund;+-------+---------------+------+-----+---------+-----------------------------+| Field | Type | Null | Key | Default | Extra |+-------+---------------+------+-----+---------+-----------------------------+| id | int(10) | NO | PRI | NULL | || name | varchar(255) | YES | | NULL | || price | decimal(10,2) | YES | | NULL | || date | timestamp | NO | | NULL | on update CURRENT_TIMESTAMP |+-------+---------------+------+-----+---------+-----------------------------+4 rows in set (0.01 sec) ÈÇ£‰πàÁé∞Âú®Â∞ùËØïÂêëËØ•Ë°®ÊèíÂÖ•‰∏Ä‰∏™ËØ≠Âè•Ôºå12mysql&gt; insert into T_fund(id,name,price,date) values(3,'ÊµãËØïÂü∫Èáë3',1234.1,'2018-11-11 22:12:00');Query OK, 1 row affected (0.09 sec) Ê≠§Êó∂Êü•ÁúãbinlogÔºå123456789mysql&gt; show master logs;+---------------+-----------+| Log_name | File_size |+---------------+-----------+| master.000001 | 178 || master.000002 | 62644 || master.000003 | 112942 |+---------------+-----------+3 rows in set (0.00 sec) ÂèØ‰ª•ÁúãÂà∞ÁõÆÂâçÊòØÊúâ‰∏â‰∏™binlogÊñá‰ª∂ÔºåÁî±‰∫ébinlogÊòØ‰æùÊ¨°‰ªé1ÂºÄÂßãÈÄíÂ¢ûÔºåÊâÄ‰ª•ÂàöÂàöÁöÑÊèíÂÖ•ËØ≠Âè•ÊòØÂú®Á¨¨‰∏â‰∏™Êó•Âøó‰∏≠ÔºåÊü•Áúãmaster.000003Âç≥ÂèØ„ÄÇ 123456789101112131415161718192021222324252627282930mysql&gt; show binlog events in 'master.000003' from 114213\G;*************************** 1. row *************************** Log_name: master.000003 Pos: 114213 Event_type: Rows_query Server_id: 1End_log_pos: 114330 Info: # insert into T_fund(id,name,price,date) values(3,'ÊµãËØïÂü∫Èáë3',1234.1,'2018-11-11 22:12:00')*************************** 2. row *************************** Log_name: master.000003 Pos: 114330 Event_type: Table_map Server_id: 1End_log_pos: 114397 Info: table_id: 179 (T_binlog.T_fund)*************************** 3. row *************************** Log_name: master.000003 Pos: 114397 Event_type: Write_rows Server_id: 1End_log_pos: 114461 Info: table_id: 179 flags: STMT_END_F*************************** 4. row *************************** Log_name: master.000003 Pos: 114461 Event_type: Xid Server_id: 1End_log_pos: 114492 Info: COMMIT /* xid=4004 */4 rows in set (0.00 sec) Áî±‰∫éÊàëÁü•ÈÅìËØ•Êù°Êó•ÂøóÁöÑpositionÔºåÊâÄ‰ª•Âä†‰∫Ü‰∏Ä‰∏™ÂèÇÊï∞from 114213ÔºåÂ¶ÇÊûú‰∏çÁü•ÈÅìÁöÑËØùÔºåÂèØ‰ª•Áõ¥Êé•ËæìÂÖ•show binlog events in &#39;master.000003ÁÑ∂ÂêéÁúãÁªìÂ∞æÂç≥ÂèØ„ÄÇ Êúâ‰∫ÜmysqlÁöÑbinlog‰πãÂêéÔºå‰∏ã‰∏ÄÊ≠•Â∞±ÈúÄË¶ÅËÄÉËôëÂ¶Ç‰ΩïÂ∞ÜbinlogËß£ÊûêÂà∞ÂÖ∂‰ªñÁöÑÊï∞ÊçÆÂ∫ì‰πã‰∏≠ÔºåÁõÆÂâçÂºÄÊ∫êÁöÑËΩÆÂ≠êÔºåÊØîËæÉÂ•ΩÁöÑÊúâ: Maxwell(github) canal(alibaba) Âú®ËøôÈáåÊé®ËçêMaxwellÔºåÂõ†‰∏∫MaxwellÁõÆÂâçÂ∑≤ÁªèÂØπMySql8Êúâ‰∏Ä‰∏™ÊØîËæÉÂ•ΩÁöÑÊîØÊåÅ‰∫ÜÔºåËÄå‰∏îÊàë‰ª¨Â∑≤ÁªèÂ∞ÜÈÉ®ÂàÜ‰∏öÂä°Â∫îÁî®Âà∞‰∫ÜMaxwell‰∫ÜÔºåÁõÆÂâçËøòÊØîËæÉÁ®≥ÂÆö„ÄÇ ‰∏ã‰∏ÄÁØá‰∏ªË¶Å‰ºöÂ∞ÜMaxwell‰∏ébinlog‰ª•ÂèärabbitmqËøõË°å‰∏Ä‰∏™Êï¥Âêà„ÄÇ]]></content>
      <categories>
        <category>mysql</category>
      </categories>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RabbitmqÊ∑±Â∫¶Â≠¶‰π†‰∫å]]></title>
    <url>%2F2018%2F11%2F10%2FRabbitmq%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E4%BA%8C%2F</url>
    <content type="text"><![CDATA[Ê∂àÊÅØÁöÑÊé•Êî∂ÂíåÊãíÁªùÂΩìÊ∂àË¥πÊÆµÊé•Êî∂Âà∞‰∏Ä‰∏™Ê∂àÊÅØ‰πãÂêéÔºå‰ºöËøõË°åÊ∂àË¥πÁöÑÂ§ÑÁêÜ„ÄÇÂÅáÂ¶ÇÂú®‰∏öÂä°‰∏≠ÂèëÁé∞ËØ•Ê∂àÊÅØÊòØ‰∏Ä‰∏™ÈîôËØØÁöÑÊ∂àÊÅØÔºåÈÇ£‰πàÂæàÊòæÁÑ∂‰∏öÂä°Êñπ‰ºöÁõ¥Êé•ÊãíÁªùÊ≠§Êù°Ê∂àÊÅØ„ÄÇ ÊãíÁªùÊ∂àÊÅØÊãíÁªùÊ∂àÊÅØ‰∏ÄËà¨Âú®Ê∂àË¥πÁ´ØË∞ÉÁî®rejectÊàñËÄÖneckÔºåËøô‰∏§‰∏™ApiÁöÑ‰ΩúÁî®ÂàÜÂà´ÊòØÔºö‰∏Ä‰∏™ÂèØ‰ª•ÊâπÈáèÊ∂àÊÅØÔºå‰∏Ä‰∏™ÂàôÂè™ÊòØÊØè‰∏ÄÊ¨°Â§ÑÁêÜ‰∏ÄÊù° Êé•Êî∂Ê∂àÊÅØ‰∏ÄËà¨Áõ¥Êé•Ë∞ÉÁî®basic.ackÂç≥ÂèØ ÂèëÈÄÅÊñπÁöÑÊ∂àÊÅØÁ°ÆËÆ§Ê∂àÊÅØÁöÑÁ°ÆËÆ§Êó¢ÁÑ∂rabbitmq‰Ωú‰∏∫‰∏ÄÊ¨æÊàêÁÜüÁöÑÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÔºåÈÇ£‰πàËá™ÁÑ∂‰πüÊúâÂÆåÂñÑÁöÑÊ∂àÊÅØÁ°ÆËÆ§Êú∫Âà∂„ÄÇÊ∂àÊÅØÁ°ÆËÆ§Êú∫Âà∂ÂàÜ‰∏∫Áîü‰∫ßËÄÖÁ´ØÂíåÊ∂àË¥πËÄÖÁ´ØÔºåÁîü‰∫ßËÄÖÁ´ØÁöÑÊ∂àÊÅØÁ°ÆËÆ§‰∏ªË¶ÅÊòØÁî®‰∫éÁ°ÆËÆ§Ê∂àÊÅØÊòØÂê¶ÊàêÂäüÁöÑÂà∞Ëææ‰∫§Êç¢Êú∫‰ª•ÂèäÂÖ∂ÁªëÂÆöÁöÑÈòüÂàó„ÄÇ ‰ΩøÁî®Áîü‰∫ßËÄÖÁ´ØÁöÑÊ∂àÊÅØÁ°ÆËÆ§ÈúÄË¶ÅÂÆûÁé∞RabbitTemplate.ConfirmCallbackÂíåabbitTemplate.ConfirmCallbackÔºåÂπ∂‰∏îÈáçÂÜôconfirmÊñπÊ≥ïÔºå‰æãÂ¶Ç‰∏Ä‰∏ã‰ª£Á†Å:1234567891011@Servicepublic class MqConfirmCallback implements RabbitTemplate.ConfirmCallback &#123; @Override public void confirm(CorrelationData correlationData, boolean b, String s) &#123; if(b) &#123; System.out.println("Ê∂àÊÅØÁ°ÆËÆ§ÊàêÂäü"); &#125;else&#123; System.out.println("Ê∂àÊÅØÁ°ÆËÆ§Â§±Ë¥•"); &#125; &#125;&#125; 1234567@Servicepublic class MqReturnCallback implements RabbitTemplate.ConfirmCallback &#123; @Override public void confirm(CorrelationData correlationData, boolean b, String s) &#123; System.out.println("Á°ÆËÆ§ÂõûË∞ÉË¢´Âá∫Âèë"); &#125;&#125; ÂΩìÈáçÂÜôÂÆåËøô‰∏§‰∏™ÊñπÊ≥ï‰πãÂêéËøò‰∏çË°åÔºåÂè¶Â§ñËøòÈúÄË¶ÅÁöÑÊòØÂú®RabbitTemplateËÆæÁΩÆÂÖ∂setConfirmCallbackÂíåsetReturnCallback,ÁÑ∂ÂêéÂç≥ÂèØ‰ΩøÁî®„ÄÇ1234567891011@Autowired MqConfirmCallback mqConfirmCallback; @Autowired MqReturnCallback mqReturnCallback; @PostConstruct public void init()&#123; rabbitTemplate.setConfirmCallback(mqConfirmCallback); rabbitTemplate.setReturnCallback(mqReturnCallback); &#125; Ê≠§Êó∂ÂêØÂä®Áîü‰∫ßËÄÖ‰ΩÜÊòØÂç¥‰∏çÂêØÂä®Ê∂àË¥πËÄÖÔºåÁÑ∂ÂêéÂèëÈÄÅ‰∏ÄÊù°Ê∂àÊÅØÔºåÂú®ÊéßÂà∂Âè∞ÂèØ‰ª•ÁúãÂà∞ÊâìÂç∞Âá∫Êù•‰∫ÜÊ∂àÊÅØÁ°ÆËÆ§ÊàêÂäü,Ê≠§Êó∂Ë°®ÊòéÊ∂àÊÅØÂ∑≤ÁªèÊàêÂäüÁöÑÂà∞Ëææ‰∫Ü‰∫§Êç¢Êú∫ÔºåÈÇ£‰πàÊ≠§Êó∂Â¶ÇÊûúÊàëÂ∞ÜÁªëÂÆöÂú®‰∫§Êç¢Êú∫‰∏äÁöÑÊâÄÊúâÈòüÂàóÂà†Èô§Âë¢? Âà†Èô§‰∫§Êç¢Êú∫‰ª•ÂèäÈòüÂàóÊù•ÊµãËØïÊ≠§Êó∂Ê∂àÊÅØÂõ†‰∏∫Âà∞‰∏ç‰∫Ü‰∫§Êç¢Êú∫ÔºåÊéßÂà∂Âè∞‰ºöÊâìÂç∞Á°ÆËÆ§ÂõûË∞ÉË¢´Âá∫ÂèëÂíåÊ∂àÊÅØÁ°ÆËÆ§ÊàêÂäüÔºåËá≥‰∫éÊ≠§Â§ÑÊòéÊòæÊòØÁî±‰∫éÊ∂àÊÅØË∑ØÁî±‰∏çÂà∞‰∫§Êç¢Êú∫ÔºåËÄåÂØºËá¥Ê∂àÊÅØË¢´Return„ÄÇÈÇ£‰πà‰∏∫Âï•ÈÇ£‰πàËøò‰ºöÂá∫Âèë‰∏ÄÊ¨°Ê∂àÊÅØÁ°ÆËÆ§ÊàêÂäüÂë¢Ôºü„ÄÇÊü•ÁúãRabbitmqÁöÑÊñáÊ°£ÂèëÁé∞Ôºö For unroutable messages, the broker will issue a confirm once the exchange verifies a message won‚Äôt route to any queue (returns an empty list of queues). If the message is also published as mandatory, the basic.return is sent to the client before basic.ack. The same is true for negative acknowledgements (basic.nack) ÊÑèÊÄùÂ∞±ÊòØÂΩìÊ∂àÊÅØ‰∏çÂèØË∑ØÁî±ÁöÑÊó∂ÂÄôÔºåÂàôbroker‰ºöÂú®basic.ack‰πãÂâçÂèëÈÄÅ‰∏Ä‰∏™basic.return„ÄÇÈÇ£‰πà‰πüÂ∞±‰∏çÂ•áÊÄ™‰∫Ü‰∏∫‰ªÄ‰πàËøôÈáå‰ºöÊî∂Âà∞‰∏§Êù°Ê∂àÊÅØ Ê∂àË¥πËÄÖÊãíÁªùÊµãËØïÊó¢ÁÑ∂mqÁöÑÂèëÈÄÅÊñπ‰ºöÊúâ‰∏Ä‰∏™Á°ÆËÆ§ÔºåÈÇ£‰πàÂ¶ÇÊûúÊ∂àË¥πËÄÖÊãíÁªù‰∫ÜÊ≠§Êù°Ê∂àÊÅØÔºåÂèëÈÄÅÊñπËøò‰ºöÊî∂Âà∞ÊèêÁ§∫ÂêóÔºüÂèØ‰ª•ÁúãÂà∞Âú®ÊéßÂà∂Âè∞Âè™‰ºöÊâìÂç∞Ê∂àÊÅØÁ°ÆËÆ§ÊàêÂäüÔºå‰πüÂ∞±ÊòØËØ¥ÂèëÈÄÅÊñπÂè™‰ºöÁ°ÆËÆ§Ê≠§Êù°Ê∂àÊÅØÂà∞Ëææ‰∫Ü‰∫§Êç¢Êú∫ÔºåËÄå‰∏î‰∫§Êç¢Êú∫ÂèØ‰ª•Ë∑ØÁî±Âà∞ÊåáÂÆöÂØπÁöÑÈòüÂàó„ÄÇ ‰∏çÂèØÈáçÂ§çÂú®‰∏Ä‰∏™messageËøõË°åÂ§öÊ¨°Êìç‰ΩúÂÅáËÆæÂú®‰∏Ä‰∏™Ê∂àÊÅØ‰∏äËøõË°å‰∫ÜÊãíÁªù‰πãÂêéÔºåÁÑ∂ÂêéÂÜçËøõË°åÁ°ÆËÆ§ÔºåÊ≠§Êó∂mq‰ºöÊäõÂá∫‰∏Ä‰∏™ÂºÇÂ∏∏Ôºö1Caused by: com.rabbitmq.client.ShutdownSignalException: channel error; reason: &#123;#method&lt;channel.close&gt;(reply-code=406, reply-text=PRECONDITION_FAILED - unknown delivery tag 1, class-id=60, method-id=80) ‰∏çË¶ÅÂ∞ÜÈîôËØØÁöÑÊ∂àÊÅØÈáçÊñ∞ÂΩíÈòüËã•‰∏Ä‰∏™Ê∂àÊÅØÂ∑≤ÁªèÊòéÁ°ÆÁü•ÈÅì‰ºöÂØºËá¥Ê∂àË¥πÊñπÂºÇÂ∏∏ÔºåÂàô‰∏çË¶ÅÂ∞ÜÊ≠§Êù°Ê∂àÊÅØÊãíÁªùÁÑ∂ÂêéÈáçÊñ∞ÂÜôÂà∞ÈòüÂàóÔºåÂê¶Âàô‰ºöÂØºËá¥‰∏Ä‰∏™Âæ™ÁéØÔºå‰ªéËÄåÈòªÂ°ûÂêéÈù¢ÁöÑÊ∂àÊÅØ]]></content>
      <categories>
        <category>Rabbitmq</category>
      </categories>
      <tags>
        <tag>rabbitmq</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RabbitmqÊ∑±Â∫¶Â≠¶‰π†‰∏Ä]]></title>
    <url>%2F2018%2F11%2F07%2FRabbitmq%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E4%B8%80%2F</url>
    <content type="text"><![CDATA[rabbitmq Ê∑±Â∫¶Â≠¶‰π†‰∏ÄÁÆÄ‰ªãrabbitmqÊòØÁõÆÂâç‰ΩøÁî®ÊúÄÂ§öÁöÑ‰∏Ä‰∏™Ê∂àÊÅØ‰∏≠Èó¥‰ª∂ÔºåÈÖçÂêàÂæÆÊúçÂä°ÁöÑ‰ΩøÁî®ÂèØ‰ª•‰Ωø‰∏öÂä°Ê®°ÂùóÂåñÔºå‰æø‰∫é‰πãÂêéÁöÑÁª¥Êä§„ÄÇÂêåÊó∂‰ΩøÁî®rabbitmqÂèØ‰ª•Â∞ÜËÆ∏Â§ö‰∏öÂä°ÂºÇÊ≠•ÂåñÔºåÊèêÈ´òÁ≥ªÁªüÁöÑÊÄßËÉΩ„ÄÇ ÈòüÂàóÁöÑÂàõÂª∫ÂéüÂàô‰ΩÜÊòØÂú®‰ΩøÁî®rabbitmq ÁöÑÊó∂ÂÄôÈúÄË¶ÅÊ≥®ÊÑèÁÇπÂ∞±ÊòØÂà∞Â∫ïÊòØÁîü‰∫ßËÄÖÊù•Âª∫Á´ãÈòüÂàóÂíå‰∫§Êç¢Êú∫ËøòÊòØÁî±Ê∂àË¥πËÄÖÊù•Âª∫Á´ã‰∫§Êç¢Êú∫ÂíåÈòüÂàó„ÄÇ‰∏ÄËà¨ÁöÑÊÉÖÂÜµÊòØÁî±Ê∂àË¥πËÄÖÊù•Âª∫Á´ãÈòüÂàóÔºå‰ΩÜÊòØÂÅáÂ¶ÇÊ∂àË¥πËÄÖÊåÇÊéâ‰∫ÜÔºåÂØºËá¥Áîü‰∫ßËÄÖÂèëÂá∫ÁöÑÊ∂àÊÅØË¢´‰∫§Êç¢Êú∫Ë∑ØÁî±Âà∞‰∫Ü‰∏Ä‰∏™‰∏çÂ≠òÂú®ÁöÑÈòüÂàóÔºåÈÇ£‰πàÊ≠§Êó∂ rabbitmq‰ºöÂøΩÁï•ËØ•Êù°Ê∂àÊÅØ„ÄÇÊâÄ‰ª•ÂØπ‰∫éÈáçË¶ÅÁöÑÊ∂àÊÅØ„ÄÇÂç≥‰∏çÂÖÅËÆ∏ËØ•Ê∂àÊÅØ‰∏¢Â§±ÔºåÈÇ£‰πàÊ≠§Êó∂ÊúÄÂ•ΩÊòØÁî±Áîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖ‰∏ÄËµ∑ËàπÂàõÂª∫‰∏Ä‰∏™ÈòüÂàó„ÄÇ Âú®rabbitÈáåÈù¢ÔºåÂÅáËÆæÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÂêåÊó∂ÂàõÂª∫‰∏Ä‰∏™ÈòüÂàóÔºåÂ¶ÇÊûúÈòüÂàóÁöÑÂêÑÈ°πÂèÇÊï∞ÈÉΩÁõ∏ÂêåÁöÑËØùÔºårabbitmqÊòØ‰∏ç‰ºöÊúâÈóÆÈ¢òÁöÑÔºåÂÅáËÆæÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÂêåÊó∂ÂàõÂª∫‰∏Ä‰∏™ÈòüÂàóÔºå‰ΩÜÊòØÂêéÂàõÂª∫ÁöÑÂíåÂâçÈù¢ÂàõÂª∫ÁöÑÂèÇÊï∞‰∏çÂêåÔºåÈÇ£‰πàÊ≠§Êó∂rabbitmqÂ∞±‰ºöÊä•Èîô„ÄÇ ÁâπÊÆäÁöÑÈòüÂàóÔºöÊ≠ª‰ø°ÈòüÂàóÊ≠ª‰ø°ÈòüÂàóÈÄÇÁî®‰∫éÂΩìÊüê‰∏Ä‰∏™ÈòüÂàóÁöÑÊ∂àÊÅØË¢´ÊãíÁªùÁöÑÊó∂ÂÄôÔºåÊàñÈòüÂàóÁöÑÊ∂àÊÅØÂ§ß‰∫éÊúÄÂ§ßTTLÊó∂‰ª•ÂèäÈòüÂàóÂ§ß‰∫éÊúÄÂ§ßÂÄº„ÄÇÊ≠§Êó∂ËØ•Ê∂àÊÅØ‰ºöË¢´Ë∑ØÁî±Âà∞Ê≠ª‰ø°‰∫§Êç¢Âô®„ÄÇÂÖ∂‰∏ÄËà¨ÁöÑ‰ΩøÁî®ÊñπÂºèÊòØÂª∫Á´ã‰∏Ä‰∏™Ê≠ª‰ø°‰∫§Êç¢Êú∫Âíå‰∏Ä‰∏™Ê≠ª‰ø°ÈòüÂàóÔºåÁÑ∂ÂêéÁõëÂê¨Ê≠ª‰ø°ÈòüÂàóÂç≥ÂèØ„ÄÇ ‰ª£Á†ÅÁ§∫‰æãÔºöÁîü‰∫ßËÄÖÁ´ØÂª∫Á´ãÈòüÂàó1234567891011121314151617181920212223242526272829303132@Configuration@ConfigurationProperties(ignoreUnknownFields = false, prefix = "somersames.rabbitmq")@Datapublic class RabbitmqConfig &#123; private String laGouFailQueue = "laGouFailQueue"; private String laGouQueue = "laGouQueue"; private String laGouFailExchange = "laGouFailExchange"; private String laGouFailExchangeRoutingKey = "laGouFailExchangeRoutingKey"; public static final String DEAD_LETTER_EXCHANGE = "x-dead-letter-exchange"; public static final String DEAD_LETTER_ROUTING_KEY = "x-dead-letter-routing-key"; @Bean public Queue laGouFailQueue() &#123; return new Queue(laGouFailQueue); &#125; @Bean public DirectExchange laGouFailExchange() &#123; return new DirectExchange(laGouFailExchange); &#125; @Bean public Binding bindingLagouFailExchange(Queue laGouFailQueue, DirectExchange laGouFailExchange) &#123; return BindingBuilder.bind(laGouFailQueue).to(laGouFailExchange).with(laGouFailExchangeRoutingKey); &#125; @Bean public Queue laGouQueue() &#123; Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); map.put(DEAD_LETTER_EXCHANGE, laGouFailExchange);//ËÆæÁΩÆÊ≠ª‰ø°‰∫§Êç¢Êú∫ map.put(DEAD_LETTER_ROUTING_KEY, laGouFailExchangeRoutingKey);//ËÆæÁΩÆÊ≠ª‰ø°routingKey return new Queue(laGouQueue, true, false, false, map); &#125;&#125; Ê∂àË¥πËÄÖÁ´ØÂª∫Á´ãÈòüÂàó12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758@Configurationpublic class RabbitConfig &#123; private String laGouQueue = "laGouQueue"; private String laGouExchange = "laGouExchange"; private String laGouFailQueue = "laGouFailQueue"; private String laGouFailExchange = "laGouFailExchange"; private String laGouFailExchangeRoutingKey = "laGouExchangeRoutingKey"; public static final String DEAD_LETTER_EXCHANGE = "x-dead-letter-exchange"; public static final String DEAD_LETTER_ROUTING_KEY = "x-dead-letter-routing-key"; @Bean public Queue laGouQueue() &#123; Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); map.put(DEAD_LETTER_EXCHANGE, laGouFailExchange);//ËÆæÁΩÆÊ≠ª‰ø°‰∫§Êç¢Êú∫ map.put(DEAD_LETTER_ROUTING_KEY, laGouFailExchangeRoutingKey);//ËÆæÁΩÆÊ≠ª‰ø°routingKey return new Queue(laGouQueue, true, false, false, map); &#125; @Bean public Queue laGouFailQueue() &#123; return new Queue(laGouFailQueue); &#125; @Bean public DirectExchange laGouFailExchange() &#123; return new DirectExchange(laGouFailExchange); &#125; @Bean public SimpleMessageListenerContainer laGouListenerContainer( ConnectionFactory connectionFactory, LagouRabbitMqListener lagouRabbitMqListener, Queue laGouQueue) &#123; SimpleMessageListenerContainer container = new SimpleMessageListenerContainer(); container.setMessageListener(lagouRabbitMqListener); container.setQueues(laGouQueue); container.setConnectionFactory(connectionFactory); container.setConcurrentConsumers(10); container.setMaxConcurrentConsumers(20); container.setAcknowledgeMode(AcknowledgeMode.MANUAL); return container; &#125;&#125;@Servicepublic class LagouRabbitMqListener implements ChannelAwareMessageListener &#123; @Override public void onMessage(Message message, Channel channel) throws Exception &#123; byte[] bytes = message.getBody(); System.out.println(new String(bytes)); channel.basicAck(message.getMessageProperties().getDeliveryTag(),false); &#125;&#125; rabbitmqÁöÑË∑ØÁî±ÊñπÂºè‰∏ÄËà¨Êù•ËÆ≤rabbitmqÁöÑË∑ØÁî±ÊñπÂºèÂàÜ‰∏∫‰∏âÁßçÔºå‰∏ÄÁßçÊòØfanoutÔºåÂç≥ËØ•‰∫§Êç¢Êú∫‰ºöÂ∞ÜÊ≠§Êù°Ê∂àÊÅØÊé®ÈÄÅÂà∞Êú∫ÁªëÂÆöÂú®ËØ•‰∫§Êç¢ÊâÄÊúâÈòüÂàó‰πã‰∏≠„ÄÇ topic:ËØ•Ë∑ØÁî±Âô®ÂèØ‰ª•ÊîØÊåÅÈÄöÈÖçÁ¨¶Êù•ËøõË°åÊ∂àÊÅØÁöÑÂåπÈÖçÔºå1234@Bean public Binding bindingPublicFundFailExchange(Queue queue, DirectExchange directExchange) &#123; return BindingBuilder.bind(queue).to(directExchange).with("*.key"); &#125; #ÂèØ‰ª•ÂåπÈÖçÂ§ö‰∏™ÂÖ≥ÈîÆÂ≠ó*Âè™ÂèØ‰ª•ÂåπÈÖç‰∏Ä‰∏™ÂÖ≥ÈîÆÂ≠ó direct:ËØ•Ë∑ØÁî±Âô®‰ºöÁ≤æÁ°ÆÂåπÈÖçÈòüÂàóÁöÑkeyÔºå‰ªéËÄåË∑ØÁî±Âô®‰ºöÂ∞ÜÊåáÂÆöÁöÑÊ∂àÊÅØÂèëÈÄÅÂà∞Áõ∏Â∫îÁöÑÈòüÂàó1234@Bean public Binding bindingPublicFundFailExchange(Queue queue, DirectExchange directExchange) &#123; return BindingBuilder.bind(queue).to(directExchange).with("error.key"); &#125; topicÊòØfanoutÂíådiretÂ±Ö‰∏≠ÁöÑ‰∏ÄÁßçÊ®°ÂºèÔºåÂΩìtopic‰∏∫#ÁöÑÊó∂ÂÄôÂ∞±Á±ª‰ºº‰∫éfanoutÔºåÂΩìtopicÁöÑËÆæÁΩÆ‰∏çÂ∏¶Êúâ* Âíå # ÁöÑÊó∂ÂÄôÔºåÂ∞±ÊòØ‰∏Ä‰∏™directe ‰∫Ü„ÄÇ vhostÂ§öÁßüÊà∑Ê®°ÂºèÂú®‰∏Ä‰∏™‰ºÅ‰∏ö‰∏≠ÔºåËÇØÂÆö‰∏ç‰ºöÊòØ‰∏Ä‰∏™‰∏öÂä°Á≥ªÁªü‰ºö‰ΩøÁî®rabbitmqÔºåÈÇ£‰πàÂÅáËÆæÊØè‰∏Ä‰∏™‰∏öÂä°Á≥ªÁªüÈÉΩÊê≠Âª∫‰∏Ä‰∏™Ëá™Â∑±ÁöÑrabbitmqÊúçÂä°ÔºåÊ≠§Êó∂Â∞±‰ºöÈÄ†ÊàêÊûÅÂ§ßÁöÑÊµ™Ë¥π„ÄÇÊúÄÂ•ΩÁöÑËß£ÂÜ≥ÂäûÊ≥ïÊòØÊê≠Âª∫‰∏Ä‰∏™ÈõÜÂõ¢‰∏ÄËµ∑‰ΩøÁî®ÁöÑrabbbitmqÈõÜÁæ§ÔºåÁÑ∂ÂêéÈÄöËøárabbitmqÁöÑvhostÊù•ËøõË°å‰∏Ä‰∏™ÈöîÁ¶ª„ÄÇ vhostÊ®°ÂºèÁ±ª‰ºº‰∫édockerÁéØÂ¢ÉÔºå‰∏Ä‰∏™vhostÂ∞±ÊòØ‰∏Ä‰∏™dockerÈïúÂÉèÔºåÊØè‰∏Ä‰∏™vhostÈáåÈù¢ÁöÑ‰∫§Êç¢Êú∫ÂíåÈòüÂàóÈÉΩÊòØ‰∫íÁõ∏ÈöîÁ¶ªÁöÑ„ÄÇÂú®rabbitmq‰∏≠ÔºåÈªòËÆ§ÁöÑvhostÂ∞±ÊòØ‰∏Ä‰∏™\Ôºå]]></content>
      <categories>
        <category>Rabbitmq</category>
      </categories>
      <tags>
        <tag>rabbitmq</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vue‰∏≠‰ΩøÁî®routerÈÅáÂà∞Êó†Ê≥ïË∑≥ËΩ¨ÁöÑÈóÆÈ¢ò]]></title>
    <url>%2F2018%2F10%2F31%2FVue%E4%B8%AD%E4%BD%BF%E7%94%A8router%E9%81%87%E5%88%B0%E6%97%A0%E6%B3%95%E8%B7%B3%E8%BD%AC%E7%9A%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[‰ªäÂ§©Âú®ÈÖçÁΩÆVueÁöÑË∑ØÁî±ÁöÑÊó∂ÂÄôÔºåÂú®routerÁöÑindex.js‰∏≠ÈÖçÁΩÆ‰∫ÜÂ¶Ç‰∏ã‰ª£Á†ÅÔºö123456789101112131415161718192021import Vue from 'vue'import Router from 'vue-router'import Home from '@/pages/components/home/Home'import Tree from '@/pages/components/tree/Tree'Vue.use(Router)export default new Router(&#123; routes: [ &#123; path: '/', name: 'Home', component: Home &#125;, &#123; path: '/tree', name: 'Tree', component: Tree &#125; ]&#125;) ‰ΩÜÊòØÂç¥Âú®ÂêØÂä®È°πÁõÆÁöÑÊó∂ÂÄôÔºåËæìÂÖ•URL:localhost:8080/treeÊó†Ê≥ïÂÆûÁé∞Ë∑≥ËΩ¨ÔºåÂêéÊù•ÂèëÁé∞ÊòØÂú®App.vue‰∏≠Ê≤°ÊúâËÆæÁΩÆ&lt;router-view&gt;,ÊúÄÂêéÂä†‰∏äÂéªÂç≥ÂèØ„ÄÇ ‰æãÂ¶ÇÂú®App.vue‰∏≠ÈÖçÁΩÆ‰∫Ü‰∏Ä‰∏™&lt;router-view&gt;ÔºåËæìÂÖ•URL:localhost:8080/treeÂ∞±‰ºöË∑≥ËΩ¨Âà∞‰∫ÜTree.vue„ÄÇÈÇ£ÂÅáËÆæÂú®Tree.vue‰∏≠ÂÜçÈÖçÁΩÆÈÖçÁΩÆ‰∏Ä‰∏™&lt;router-view&gt;ÔºåËøôÊó∂ÂÄôÂ∞±‰ºöÂåπÈÖçÁöÑÊòØlocalhost:8080/tree/XXX,ÂΩìÁÑ∂‰πüÂèØ‰ª•Áõ¥Êé•Áî®&lt;router-link&gt;Ë∑≥ËΩ¨Âà∞ÊåáÂÆöÁöÑÁªÑ‰ª∂‰∏≠]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>ÂâçÁ´Ø</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[css‰∏≠ÂÆö‰ΩçÁöÑÂ≠¶‰π†]]></title>
    <url>%2F2018%2F10%2F13%2Fcss%E4%B8%AD%E5%AE%9A%E4%BD%8D%E7%9A%84%E5%AD%A6%E4%B9%A0%2F</url>
    <content type="text"><![CDATA[È¶ñÂÖàÈ°µÈù¢‰ª£Á†ÅÂ¶Ç‰∏ãÔºö1234567891011121314151617181920212223&lt;div id='div1'&gt; &lt;div id='div2'&gt; &lt;div id='div3'&gt; &lt;div id='div4'&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div id='div22'&gt; &lt;/div&gt;&lt;/div&gt;&lt;style&gt;#div1&#123; width: 700px; height: 700px; background: red; margin-top: 50px; margin-left: 50px;&#125;&lt;/style&gt; relativeÂíåabsoluterelativeÂçïÁã¨‰ΩøÁî®Ôºå‰ª£Á†ÅÂ¶Ç‰∏ã1234567891011#div2&#123; width: 500px; height: 500px; background: rgb(17, 0, 255); position: relative; top: 20px; left: 20px; right: 0; bottom: 20px; &#125;&#125; ÂÖ∂ÊòæÁ§∫ÁªìÊûúÂ¶ÇÂõæÔºö ËØ¥Êòé‰∏ÄÂàáÈÉΩÊòØÊ≤°ÈóÆÈ¢òÁöÑÔºådiv2ÊòØÊåâÁÖßdiv1Êù•ËøõË°åÁõ∏ÂØπÂÆö‰ΩçÁöÑ„ÄÇÈÇ£‰πàÂçïÁã¨‰ΩøÁî®absoluteÂë¢ absoluteÂçïÁã¨‰ΩøÁî®12345678910#div2&#123; width: 500px; height: 500px; background: rgb(17, 0, 255); position: absolute; top: 20px; left: 20px; right: 0; bottom: 20px; &#125; ÂèØ‰ª•ÁúãÂà∞‰ΩøÁî®absoluteÁöÑdiv2Âπ∂Êú™ÊåâÁÖßdiv1 ÈÇ£Â¶ÇÊûúdiv3‰πüÊòØabsoluteÂÆö‰ΩçÁöÑËØùÔºåÈÇ£‰πàÊ≠§Êó∂‰ºöÁõ∏ÂØπ‰∫édiv2ÂÆö‰ΩçËøòÊòØÁõ∏ÂØπ‰∫édiv1Âë¢?ÊµãËØïÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425#div1&#123; width: 700px; height: 700px; background: red; margin-top: 50px; margin-left: 50px; &#125; #div2&#123; width: 500px; height: 500px; background: rgb(17, 0, 255); position: absolute; top: 20px; left: 20px; right: 0; bottom: 20px; &#125; #div3&#123; width: 300px; height: 300px; background: green; position: absolute; left: 10px; top: 10px; &#125; Ê≠§Êó∂È°µÈù¢ÁöÑÊòæÁ§∫Â¶Ç‰∏ãÔºö‰πüÂ∞±ÊòØËØ¥Ôºådiv3ÊòØÊåâÁÖßdiv2Êù•ÂÆö‰ΩçÁöÑÔºåÈÇ£‰πà‰∏∫‰ªÄ‰πàÂ∞±ÊòØdiv2ÊòØÊåâÁÖßhtmlÂÆö‰ΩçÁöÑÂë¢ÔºüËß£ÈáäÂ∞±ÊòØÔºå‰ΩøÁî®absoluteÂÆö‰ΩçÁöÑÂÖÉÁ¥†‰ºö‰∏ÄÁõ¥Âêë‰∏äÂØªÊâæÔºåÁõ¥Âà∞ÊâæÂá∫ÂåÖÂê´positionÁöÑ‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÁÑ∂ÂêéÊåâÁÖßÂÖ∂ÂÆö‰ΩçÔºåÈÇ£‰πàrelativeÂë¢?12345678910111213141516171819202122232425#div1&#123; width: 700px; height: 700px; background: red; margin-top: 50px; margin-left: 50px; &#125; #div2&#123; width: 500px; height: 500px; background: rgb(17, 0, 255); position: relative; top: 20px; left: 20px; right: 0; bottom: 20px; &#125; #div3&#123; width: 300px; height: 300px; background: green; position: relative; left: 10px; top: 10px; &#125; ÂèØ‰ª•ÁúãÂà∞ÔºåÂÖ∂ÂÆö‰ΩçÈÉΩÊòØÁõ¥Êé•‰ª•ÂÖ∂‰∏äÁ∫ßÂÖÉÁ¥†‰∏∫Ê†áÂáÜÁöÑ„ÄÇ absoluteÁöÑÁâπÊÄßabsolute ÂÖ∑ÊúâÁöÑÁâπÊÄß‰πã‰∏ÄÂ∞±ÊòØÂÖ∂ÂåÖË£πÊÄßÔºå‰πüÂ∞±ÊòØabsoluteÁöÑwidthÁöÑÂÆΩÂ∫¶ÊòØ100%ÁöÑÊó∂ÂÄôÔºåÂÖ∂ÂÆΩÂ∫¶ÂÖ∂ÂÆûÊòØÂÜÖÂÆπÁöÑÂÆΩÂ∫¶ÔºåËÄå‰∏çÊòØÁúüÊ≠£ÁöÑ100%ÂÆΩÂ∫¶„ÄÇÂç≥Ë¢´inline-blockÂåñ‰∫Ü„ÄÇ Â¶ôÁî®112345678910111213&lt;div id='div-span-1'&gt;&lt;span id='span-1'&gt;adad&lt;/span&gt;&lt;/div&gt;&lt;style&gt; #div-span-1&#123; /* width: 700px; */ /* height: 200px; */ position: absolute; color: pink; border: 10px solid black &#125; /* #span-1&#123; position: absolute; &#125; */&lt;/style&gt; Ê≥®ÊÑèÊ≠§Êó∂‰∏äÂ±Çdiv‰∏çÂèØ‰ª•ËÆæÁΩÆwidthÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÂÆûÁé∞Â§ñÂ±ÇdivÁöÑÂÆΩÂ∫¶Ëá™Âä®ÊòØÂÜÖÂÆπÁöÑÂÆΩÂ∫¶‰øÆÊîπ‰∏∫Â¶Ç‰∏ãÔºå‰πüÂèØ‰ª•‰ΩøÁî®Ôºö12345678#div-span-1&#123; /* width: 700px; */ /* height: 200px; */ position: absolute; color: pink; border: 10px solid black; float: left; &#125; absolute‰ºöÁ†¥ÂùèÂÖ∂Áà∂ÂÖÉÁ¥†ÁöÑÂÆΩÂ∫¶Ôºö12345678910111213141516&lt;div id='div-span-1'&gt;&lt;span id='span-1'&gt;&lt;/span&gt;&lt;/div&gt;&lt;style&gt;#div-span-1&#123; /* width: 700px; */ /* height: 200px; */ /* position: absolute; */ color: pink; border: 10px solid black; float: left; &#125; #span-1&#123; width: 300px; height: 300px; position: absolute; border: 10px solid gray &#125;&lt;/style&gt; Ê≠§Êó∂ÂèØ‰ª•ÁúãÂà∞Áà∂ÂÖÉÁ¥†ÁöÑÈ´òÂ∫¶Â∑≤ÁªèË¢´Á†¥Âùè‰∫Ü]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>ÂâçÁ´Ø</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VueÂºïÂÖ•stylesÁöÑ‰∏Ä‰∏™Â∞èÂùë]]></title>
    <url>%2F2018%2F10%2F13%2FVue%E5%BC%95%E5%85%A5styles%E7%9A%84%E4%B8%80%E4%B8%AA%E5%B0%8F%E5%9D%91%2F</url>
    <content type="text"><![CDATA[Âú®‰ΩøÁî®styusÁöÑÊó∂ÂÄôÔºåÁªèÂ∏∏‰ºöÂÆö‰πâ‰∏Ä‰∫õcssÁöÑÂ∏∏Áî®ÂèòÈáèÔºå‰ΩÜÊòØÂú®ÂºïÂÖ•stylÊñá‰ª∂‰∏ÄÁõ¥‰ΩøÁî®ÁöÑÊòØ@import &#39;~styles/mixins&#39;ÔºåÁÑ∂ÂêéÂ∞±ÊòØ‰∏ÄÁõ¥Âú®Êä•ÈîôÔºåÂêéÊù•ÁªèËøá‰∫ÜËß£ÂèëÁé∞ÔºåËøôÁßçÂÜôÊ≥ïÈúÄË¶ÅÂú®build‰∏≠ÁöÑwebpack.conf.js‰∏≠ËÆæÁΩÆstyleÁöÑÂà´ÂêçÔºå 12345678resolve: &#123; extensions: ['.js', '.vue', '.json'], alias: &#123; 'vue$': 'vue/dist/vue.esm.js', '@': resolve('src'), 'styles': resolve('src/assets/styles') &#125; &#125;, ÁÑ∂ÂêéÂ∞ÜstylesÊåáÂêëÊîæstylÁöÑÊñá‰ª∂Â§πÂç≥ÂèØ„ÄÇ]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>ÂâçÁ´Ø</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[cssÂÆΩÈ´òÊØîËá™ÈÄÇÂ∫îÁöÑËß£ÂÜ≥ÊñπÊ°à]]></title>
    <url>%2F2018%2F10%2F13%2Fcss%E5%AE%BD%E9%AB%98%E6%AF%94%E8%87%AA%E9%80%82%E5%BA%94%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%2F</url>
    <content type="text"></content>
      <categories>
        <category>Css</category>
      </categories>
      <tags>
        <tag>ÂâçÁ´Ø</tag>
        <tag>Css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Leetcode‰∏ä‰∏§ÈÅìÂà§Êñ≠nÊ¨°ÊñπÁöÑÈ¢òÁõÆ]]></title>
    <url>%2F2018%2F09%2F26%2FLeetcode%E4%B8%8A%E4%B8%A4%E9%81%93%E5%88%A4%E6%96%ADn%E6%AC%A1%E6%96%B9%E7%9A%84%E9%A2%98%E7%9B%AE%2F</url>
    <content type="text"><![CDATA[Ëøô‰∏§ÈÅìÈ¢òÁõÆÈÉΩÊòØÂà§Êñ≠‰∏Ä‰∏™Êï∞Â≠óÊòØ‰∏çÊòØ2(Á¨¨‰∏ÄÈ¢ò)Ôºå3(Á¨¨‰∫åÈ¢ò)ÁöÑnÊ¨°ÊñπÔºåÂú®ÂÅöÁ¨¨‰∏ÄÈ¢òÁöÑÊó∂ÂÄôÊÄùË∑ØÂü∫Êú¨‰∏äÂíåÊ†áÂáÜËß£Ê≥ïÊÉ≥Ê≥ïÁõ∏ÂêåÔºå‰ΩÜÊòØÂú®ÂÅöÁ¨¨‰∫åÈ¢òÁöÑÊó∂ÂÄôÔºåÁúãÂà∞‰∫ÜËÆ∏Â§öÊØîËæÉÊúâÂàõÊÑèÁöÑËß£Ê≥ïÔºåÊâÄ‰ª•ËÆ∞ÂΩï‰∏ã Âà§Êñ≠‰∏Ä‰∏™Êï∞ÊòØ‰∏çÊòØ2ÁöÑnÊ¨°ÊñπËß£Ê≥ï‰∏ÄËøô‰∏™Ëß£Ê≥ï‰πüÂ∞±ÊòØÊàëÁ¨¨‰∏ÄÊ¨°Â∞±ÊÉ≥Âà∞ÁöÑ‰∏Ä‰∏™Ëß£Ê≥ïÔºåÂ∞±ÊòØÂÅö &amp; ËøêÁÆóÔºåÂõ†‰∏∫‰∏Ä‰∏™Êï∞Â≠óËã•ÊòØ2ÁöÑnÊ¨°ÊñπÔºåÈÇ£‰πàÂæàÊòéÊòæÂ∞±ÊòØËøô‰∏™Êï∞Â≠óÁöÑ2ËøõÂà∂ËÇØÂÆöÂè™‰ºöÊúâ‰∏Ä‰∏™1Ôºå‰æãÂ¶ÇÔºö32=100000 ,64 =1000000„ÄÇÊâÄ‰ª•Âè™ÈúÄË¶ÅÂà§Êñ≠ n ‰∏é n-1 ÂÅö‰∏Ä‰∏™&amp; ËøêÁÆóÂ∞±ÂèØ‰ª•Áü•ÈÅì‰∫Ü„ÄÇ123456public boolean isPowerOfTwo(int n) &#123; if( n &lt;1)&#123; return false; &#125; return (n &amp; ( n-1)) ==0; &#125; Ëß£Ê≥ï‰∫åÂú®JavaÈáåÈù¢„ÄÇIntÁöÑÊúÄÂ§ßÂÄºÊòØ2^31 - 1Âà∞ -2^31Ê¨°ÔºåÊâÄ‰ª•ÂæàÊòéÊòæÔºåÂè™ÈúÄË¶ÅËÆ© n ‰∏é 2^30 Ê¨°ÂÅö‰∏Ä‰∏™ &amp; ËøêÁÆóÂç≥ÂèØ„ÄÇ123456public boolean isPowerOfTwo(int n) &#123; if( n&lt;1)&#123; return false; &#125; return (1073741824 % n) == 0; &#125; Âà§Êñ≠‰∏Ä‰∏™Êï∞ÊòØ‰∏çÊòØ3ÁöÑnÊ¨°ÊñπÊ†áÂáÜËß£Ê≥ï123456789public boolean isPowerOfThree(int n) &#123; if(n ==0)&#123; return false; &#125; while(n % 3 ==0)&#123; n = n/3; &#125; return n ==1; &#125; Ëß£Ê≥ï‰∫åÂú®JavaÈáåÈù¢intÁöÑÊúÄÂ§ßÂÄºÊòØ2^30ÔºåÈÇ£‰πàÁî®3ÁöÑÊúÄÂ§ßÂÄºÂ∞±ÂèØ‰ª•ÊòØ3^19,ÊâÄ‰ª•Ëß£Ê≥ï‰∫å‰∏∫Ôºö123456public boolean isPowerOfThree(int n) &#123; if( n&lt;1)&#123; return false; &#125; return (1162261467 % n) == 0; &#125; Ëß£Ê≥ï‰∏âÁî±Êï∞Â≠¶ÂÖ¨Âºè: n= 3^1,ÂèØ‰ª•ÂæóÂà∞ ÊâÄ‰ª•‰ºöÊúâ‰ª•‰∏ã‰ª£Á†ÅÔºö123public boolean isPowerOfThree(int n) &#123; return (Math.log10(n) / Math.log10(3)) % 1 == 0; &#125;]]></content>
      <categories>
        <category>ÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>ÁÆóÊ≥ï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰∏ÄÊ¨°SpringBootÂàùÂßãÂåñÂºïËµ∑ÁöÑÊÄùËÄÉ]]></title>
    <url>%2F2018%2F09%2F25%2F%E4%B8%80%E6%AC%A1SpringBoot%E5%88%9D%E5%A7%8B%E5%8C%96%E5%BC%95%E8%B5%B7%E7%9A%84%E6%80%9D%E8%80%83%2F</url>
    <content type="text"><![CDATA[Âú®Spring‰∏≠ÔºåÁªèÂ∏∏‰ºö‰ΩøÁî®@ResourceÊ≥®Ëß£Êù•Ëá™Âä®Ë£ÖÈÖç‰∏Ä‰∫õBeanÔºå‰ΩÜÊòØÂú®ÂàùÂßãÂåñÁöÑÊó∂ÂÄôËøòÊòØÊúâ‰∏ÄÁÇπÂ∞èÂùëÁöÑÔºå‰∏ãÈù¢ÊòØ‰∏ÄÊÆµ‰ª£Á†ÅÔºåÊúâ‰∏â‰∏™Á±ªÔºåÂàÜÂà´ÊòØAÔºåBÔºåC„ÄÇ Á±ªAÔºö1234567891011@Servicepublic class A &#123; @Resource B b; public void someMethod()&#123; System.out.println(b.getC() == null); &#125;&#125; Á±ªBÔºö12345678910111213@Servicepublic class B &#123; @Resource C c ; public C cParam =getC(); public C getC()&#123; return c.getAnewC(); &#125;&#125; Á±ªCÔºö12345678910111213141516171819202122232425262728@Servicepublic class C &#123; private int i; private String name ; public C getAnewC()&#123; C c =new C(); c.setI(1); c.setName("a"); return c; &#125; public int getI() &#123; return i; &#125; public void setI(int i) &#123; this.i = i; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125;&#125; Ê≠§Êó∂Ëøô‰∏â‰∏™Á±ªÊúâ‰∏Ä‰∏™Âú∞Êñπ‰ºöÊäõÂá∫‰∏Ä‰∏™Á©∫ÊåáÈíàÂºÇÂ∏∏ÔºåÂ¶ÇÊûú‰Ω†ÂèØ‰ª•‰∏ÄÁúºÁúãÂá∫Êù•ÁöÑËØùÔºå‰∏çÂ¶®ÁªßÁª≠Ëµ∞‰∏ãÂéªÁúãÁúãÊòØÂê¶Ê≠£Á°Æ„ÄÇÁºñÂÜô‰∏Ä‰∏™ÊµãËØïÁ±ªÔºåÂ¶Ç‰∏ãÔºö1234567891011121314@RunWith(SpringJUnit4ClassRunner.class)@SpringApplicationConfiguration(classes = DemoApplication.class)public class SpringTest &#123; @Autowired A a ; @Test public void hello()&#123; a.someMethod(); &#125;&#125; ËøôÊ†∑Áúã‰∏ãÂéªÔºåÂèØËÉΩÂ∞±Áúã‰∏çÂá∫Âì™ÈáåÊúâÈóÆÈ¢òÔºå‰ΩÜÊòØËøêË°å‰πãÂêé‰ºöÊäõÂá∫‰∏Ä‰∏™NullExceptionÔºåÈîôËØØÊó•ÂøóÂ¶Ç‰∏ã:123456789101112131415Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'b' defined in file [C:\Users\SZH\IdeaProject\firstcloud\target\classes\szh\demo\test\B.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [szh.demo.test.B]: Constructor threw exception; nested exception is java.lang.NullPointerException--------------------------------------------------Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [szh.demo.test.B]: Constructor threw exception; nested exception is java.lang.NullPointerException------------------------------------------------------Caused by: java.lang.NullPointerException at szh.demo.test.B.getC(B.java:21) at szh.demo.test.B.&lt;init&gt;(B.java:18) at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) at java.lang.reflect.Constructor.newInstance(Constructor.java:423) at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142) ... 55 more Ê≠§Êó∂ÁöÑÂºÇÂ∏∏Ê†àÂ¶Ç‰∏ãÔºåÂèØ‰ª•ÁúãÂà∞Âú®Á±ªBÈáåÈù¢ÔºåÁ¨¨18Ë°åÔºå‰πüÂ∞±ÊòØpublic C cParam =getC();ÊäõÂá∫‰∫Ü‰∏ÄÁ©∫ÊåáÈíàÂºÇÂ∏∏ÔºåËøô‰∏™ÂºÇÂ∏∏ÁöÑÂéüÂõ†Â∞±ÊòØÂú®ÊñπÊ≥ïgetC()ÈáåÈù¢ÔºåcÊòØ‰∏Ä‰∏™nullÔºåÈÇ£‰πàÂú®ËøôÈáåÂèØËÉΩÂ∞±‰ºöÊúâ‰∏Ä‰∏™ÁñëÈóÆ‰∫ÜÔºåSpring‰∏çÊòØ‰ºöËá™Âä®Ë£ÖÈÖçÊúâResourceÊ≥®Ëß£ÁöÑÂêóÔºüÈÇ£‰πàÊ≠§Êó∂ÁöÑc‰∏∫‰ªÄ‰πàÊ≤°ÊúâË¢´ÂàùÂßãÂåñ„ÄÇ SpringÁöÑÂàùÂßãÂåñÂ§ßÂÆ∂ÈÉΩÁü•ÈÅìÔºåÊó†ËÆ∫SpringÊó†ËÆ∫ÊÄéÊ†∑ÂàùÂßãÂåñÔºåÈÉΩÊòØÈúÄË¶ÅÁîüÊàê‰∏Ä‰∏™ÂØπË±°ÁöÑÔºåËøô‰∏™ÂØπË±°‰∏çÁÆ°ÊòØÈÄöËøáClass.loadClassÊàñËÄÖClass.forNameÁ≠âÔºåÈÇ£‰πà‰πüÊòØÊó†ËÆ∫ÈÄÉ‰∏çËøáJavaÁöÑÂàùÂßãÂåñÔºåÂú®ËøôÈáå‰∏∫‰∫ÜÈ™åËØÅB‰∏≠ÁöÑÂºÇÂ∏∏ÊòØÂú®ÂàùÂßãÂåñBÁöÑÊó∂ÂÄô‰∫ßÁîüÁöÑÔºåÊ≠§Êó∂‰øÆÊîπB‰ΩçÂ¶Ç‰∏ãÔºö1234567891011121314151617@Servicepublic class B &#123; @Autowired C c ; &#123; System.out.println("public C cParam =getC()‰∏äÈù¢‰∏ÄË°å"); &#125; public C cParam =getC(); &#123; System.out.println("public C cParam =getC()‰∏ãÈù¢‰∏ÄË°å"); &#125; public C getC()&#123; return c.getAnewC(); &#125;&#125; Âú®Ê≠§Ë∞ÉÁî®ÊµãËØïÁ±ªÔºå‰Ω†‰ºöÂèëÁé∞&quot;public C cParam =getC()‰∏äÈù¢‰∏ÄË°å&quot;ÊâìÂç∞Âá∫Êù•‰πãÂêéÈ©¨‰∏äÂ∞±‰ºöÂá∫ÈîôÔºåËøô‰πüÂç∞ËØÅ‰∫ÜÂâçÈù¢ÁöÑÁåúÊÉ≥ÔºåËøô‰∏™ÂºÇÂ∏∏ÊòØÂú®ÂàùÂßãÂåñBÁöÑÊó∂ÂÄô‰∫ßÁîüÁöÑ„ÄÇ ÁåúÊÉ≥ÈÇ£‰πàÂú®ËøôÈáåÂ∞±Âü∫Êú¨‰∏äÂèØ‰ª•ÊâçÂá∫Êù•SpringÁöÑ‰∏Ä‰∏™Âä†ËΩΩÊµÅÁ®ã‰∫ÜÔºåÈ¶ñÂÖàSpring‰ºöÊâ´ÊèèÊâÄÊúâÁöÑÂ∏¶ÊúâÊ≥®Ëß£ÂæóÁ±ªÔºåÁÑ∂ÂêéÂΩìÂàùÂßãÂåñÂÆåÊØï‰πãÂêéÊîæÂÖ•BeanfactoryÔºåÊúÄÂêéÂÜçËøõË°å‰∏Ä‰∏™ÂèòÈáèÁöÑËµãÂÄºÔºå‰∏∫‰∫ÜÈ™åËØÅÊ≠§ÁåúÊÉ≥Ôºå‰øÆÊîπBÂíåA‰ª£Á†Å‰∏∫Â¶Ç‰∏ãÔºöÁ±ªB1234567891011121314151617@Servicepublic class B &#123; @Autowired C c ; &#123; System.out.println("public C cParam =getC()‰∏äÈù¢‰∏ÄË°å"); &#125; public C cParam =null; &#123; System.out.println("public C cParam =getC()‰∏ãÈù¢‰∏ÄË°å"); &#125; public C getC()&#123; return c.getAnewC(); &#125;&#125; Á±ªAÔºö123456789public class A &#123; @Resource B b; public void someMethod()&#123; System.out.println(b.getC() == null); &#125;&#125; Ê≠§Êó∂Ëß£ÂÜ≥„ÄÇ ÊÄªÁªìÊâÄ‰ª•‰ª•ÂêéÂú®ÂàùÂßãÂåñÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÊ≥®ÊÑèÂèòÈáèÁöÑÂàùÂßãÂåñÊòØÂê¶‰ºöÊ∂âÂèäÂà∞‰∏Ä‰∫õÂØπË±°]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringÁöÑÊú¨Ë¥®-ServletÂàùÊé¢]]></title>
    <url>%2F2018%2F09%2F18%2FSpring%E7%9A%84%E6%9C%AC%E8%B4%A8-Servlet%E5%88%9D%E6%8E%A2%2F</url>
    <content type="text"><![CDATA[Áé∞Âú®JavaÁöÑwebÂºÄÂèë‰ΩìÁ≥ª‰∏≠ÔºåSpring‰ª•ÂÖ∂ËΩªÈáèÁ∫ßÔºå‰ΩéËÄ¶ÂêàËÄåÂç†ÊçÆ‰∫ÜËÄÅÂ§ßÁöÑÂú∞‰ΩçÔºå‰ΩÜÊòØSpringÁöÑÊú¨Ë¥®ÊòØ‰ªÄ‰πàÔºå‰∏∫‰ªÄ‰πàÂú®SpringÈáåÈù¢‰∏çÈúÄË¶ÅÂÉè‰ª•ÂâçÂÜôServletÈ°πÁõÆ‰∏ÄÊ†∑ÔºåÈúÄË¶ÅÈÖçÁΩÆweb.xml„ÄÇËøô‰∫õÈÉΩÈúÄË¶ÅÊàë‰ª¨ÂéªÂà®Ê†πÈóÆÂ∫ïÁöÑ„ÄÇ ServletÊòØ‰ªÄ‰πàÊåâÁÖßServletËßÑËåÉÊâÄËß£ÈáäÁöÑÈÇ£Ê†∑ÔºåServletÊòØ‰∏Ä‰∏™WebÁªÑ‰ª∂ÔºåÂ∞±ÊòØÁ±ª‰ºº‰∫éÁîüÁâ©ÈáåÈù¢ÁöÑÁóÖÊØíÂíåÂÆø‰∏ª‰∏ÄÊ†∑ÔºåÁóÖÊØíËøòÊòØÈÇ£‰∏™ÁóÖÊØíÔºå‰ΩÜÊòØÁ¶ªÂºÄ‰∫ÜÂÆø‰∏ª‰πãÂêéÂ∞±‰∏çËÉΩÂçïÁã¨ÁîüÂ≠ò‰∫Ü„ÄÇËÄåÂÆø‰∏ªÂ∞±ÊòØ‰∏Ä‰∏™ServletÂÆπÂô®„ÄÇ(tomcatÂ∞±ÊòØ‰∏Ä‰∏™ServletÂÆπÂô®) Servlet ÊòØÂü∫‰∫é Java ÊäÄÊúØÁöÑ web ÁªÑ‰ª∂ÔºåÂÆπÂô®ÊâòÁÆ°ÁöÑÔºåÁî®‰∫éÁîüÊàêÂä®ÊÄÅÂÜÖÂÆπ„ÄÇÂÉèÂÖ∂‰ªñÂü∫‰∫é Java ÁöÑÁªÑ‰ª∂ÊäÄÊúØ‰∏ÄÊ†∑Ôºå Servlet ‰πüÊòØÂü∫‰∫éÂπ≥Âè∞Êó†ÂÖ≥ÁöÑ Java Á±ªÊ†ºÂºèÔºåË¢´ÁºñËØë‰∏∫Âπ≥Âè∞Êó†ÂÖ≥ÁöÑÂ≠óËäÇÁ†ÅÔºåÂèØ‰ª•Ë¢´Âü∫‰∫é Java ÊäÄÊúØÁöÑ web server Âä®ÊÄÅÂä†ËΩΩÂπ∂ËøêË°å„ÄÇÂÆπÂô®ÔºåÊúâÊó∂ÂÄô‰πüÂè´ÂÅö servlet ÂºïÊìéÔºåÊòØ web server ‰∏∫ÊîØÊåÅ servlet ÂäüËÉΩÊâ©Â±ïÁöÑÈÉ®ÂàÜ„ÄÇÂÆ¢Êà∑Á´Ø ÈÄöËøá Servlet ÂÆπÂô®ÂÆûÁé∞ÁöÑËØ∑Ê±Ç/Â∫îÁ≠îÊ®°Âûã‰∏é Servlet ‰∫§‰∫í Âú®TomcatÁöÑÊ∫êÁ†ÅÂåÖÈáåÈù¢ÔºåServletÂÖ∂ÂÆûÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåÂ¶Ç‰∏ãÊâÄÁ§∫:123456789public interface Servlet &#123; public void init(ServletConfig config) throws ServletException; public ServletConfig getServletConfig(); public String getServletInfo(); public void destroy();&#125; initÊñπÊ≥ï‰ª£Ë°®ÁöÑÊòØ‰∏Ä‰∏™ServletÂÆû‰æãÂåñÂÆåÊØï‰πãÂêéÊâßË°åÁöÑÊñπÊ≥ïÔºåËØ•ÁõÆÁöÑÊòØ‰∏∫‰∫ÜÂú®‰ΩøÁî®Servlet‰πãÂâçÂàùÂßãÂåñ‰∏Ä‰∫õÂü∫Á°ÄÊï∞ÊçÆÔºå‰æãÂ¶ÇÊï∞ÊçÆÂ∫ìËØªÂèñÊàñËÄÖÊüê‰∫õÂøÖÈ°ªÁöÑÂàùÂßãÂåñ Spring‰∏éServletÁöÑËÅîÁ≥ªÂú®SpringÁöÑÈÖçÁΩÆÈáåÈù¢ÔºåÊúâ‰∏Ä‰∏™ÊúÄÈáçË¶ÅÁöÑÊ≠•È™§Â∞±ÊòØÈÖçÁΩÆSpringÁöÑDispatcherServletÔºåÁÑ∂ÂêéÂÜçÈÖçÁΩÆ‰∏Ä‰∏™ContextListenerÔºåÈÇ£‰πàSpringÂíåServletÊúâ‰ªÄ‰πàÂÖ≥Á≥ªÂë¢?È¶ñÂÖàÁúã‰∏ÄÊÆµ‰ª£Á†ÅÔºö123456789101112131415161718192021@Override public void onStartup(ServletContext servletContext) throws ServletException &#123; String servletName = getServletName(); Assert.hasLength(servletName, "getServletName() must not return empty or null"); ApplicationContext applicationContext = createApplicationContext(); Assert.notNull(applicationContext, "createApplicationContext() must not return null."); refreshApplicationContext(applicationContext); registerCloseListener(servletContext, applicationContext); HttpHandler httpHandler = WebHttpHandlerBuilder.applicationContext(applicationContext).build(); ServletHttpHandlerAdapter servlet = new ServletHttpHandlerAdapter(httpHandler); ServletRegistration.Dynamic registration = servletContext.addServlet(servletName, servlet); Assert.notNull(registration, "Failed to register servlet '" + servletName + "'."); registration.setLoadOnStartup(1); registration.addMapping(getServletMapping()); registration.setAsyncSupported(true); &#125; „ÄÇ„ÄÇ„ÄÇÊú™ÂÆåÂæÖÁª≠]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Servlet</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰∫åÂèâÊ†ëÈÅçÂéÜÁöÑ‰∏Ä‰∫õÁªèÂÖ∏È¢òÁõÆÊÄªÁªì]]></title>
    <url>%2F2018%2F09%2F16%2F%E4%BA%8C%E5%8F%89%E6%A0%91%E9%81%8D%E5%8E%86%E7%9A%84%E4%B8%80%E4%BA%9B%E7%BB%8F%E5%85%B8%E9%A2%98%E7%9B%AE%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[ÈúÄË¶Å‰øùÁïôÁä∂ÊÄÅÁöÑ Ê±ÇÂá∫‰∏Ä‰∏™‰∫åÂèâÊ†ë‰∏≠‰∏§‰∏™ËäÇÁÇπÁöÑÊúÄÂ∞èÂÄº ËØ•È¢òÂ∞±ÈúÄË¶ÅÊ≥®ÊÑèÂèØËÉΩrootËäÇÁÇπÊúÄÂ∫ïÂ±ÇËäÇÁÇπ‰πãÈó¥ÁöÑÂÄº Â∞Ü‰∏Ä‰∏™Ê†ëÊØèË°åÊâìÂç∞Êàê‰∏Ä‰∏™StringÔºåÁÑ∂ÂêéÂ≠òÂÖ•‰∏Ä‰∏™List ËØ•È¢òÈúÄË¶ÅÈááÁî®BFSÔºåÁÑ∂ÂêéÈÖçÂêàÈòüÂàóÁöÑ‰∏Ä‰∫õAPIÊñπÊ≥ï]]></content>
      <categories>
        <category>ÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>ÁÆóÊ≥ï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫é‰∏§ÈÅìÂä®ÊÄÅËßÑÂàíÁöÑÊÄùËÄÉ]]></title>
    <url>%2F2018%2F09%2F15%2F%E5%85%B3%E4%BA%8E%E4%B8%A4%E9%81%93%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%9A%84%E6%80%9D%E8%80%83%2F</url>
    <content type="text"><![CDATA[ËØ¥Âà∞Âä®ÊÄÅËßÑÂàíÔºåÁ¶ª‰∏çÂºÄ‰∏Ä‰∏™Áà¨Ê•ºÊ¢ØÁöÑÈóÆÈ¢òÂíå‰∏Ä‰∏™Èì∫Á†ñÂø´ÁöÑÈóÆÈ¢ò„ÄÇÁà¨Ê•ºÊ¢ØÁöÑÈóÆÈ¢òÔºö ‰∏Ä‰∏™NÂ±ÇÁöÑÊ•ºÊ¢ØÔºå‰∏ÄÊ¨°ÂèØ‰ª•Ëµ∞‰∏ÄÊ≠•ÊàñËÄÖ‰∏§Ê≠•ÔºåÊ±ÇËµ∞Âà∞Ê•ºÊ¢ØÈ°∂ÈÉ®ÁöÑÊâÄÊúâÊ≠•Êï∞ Èì∫Á†ñÂø´ÁöÑÈóÆÈ¢òÔºö ‰∏Ä‰∏™2*nÁöÑÂú∞ÊñπÔºåÈúÄË¶ÅÈì∫‰∏äÁì∑Á†ñÔºå‰ΩÜÊòØÁì∑Á†ñÁöÑËßÑÊ†ºÂè™Êúâ 2x1 ÁöÑÔºåÊ±ÇÂ§öÂ∞ëÁßçÈì∫Ê≥ï„ÄÇ ËÆ°ÁÆóÂà∞È°∂Â±ÇÁöÑÊúÄÂ∞èÈóÆÈ¢òÔºö On a staircase, the i-th step has some non-negative cost cost[i] assigned (0 indexed). Once you pay the cost, you can either climb one or two steps. You need to find minimum cost to reach the top of the floor, and you can either start from the step with index 0, or the step with index 1. ‰πüÂ∞±ÊòØËØ¥ÔºåÂèØ‰ª•‰ªé0ÊàñËÄÖ1ÂºÄÂßãÈÄâÊã©Ëµ∑ÁÇπÔºåËÄå‰∏îÊØè‰∏ÄÊ≠•ÈÉΩÂèØ‰ª•ÈÄâÊã©Ëµ∞‰∏ÄÊ≠•ËøòÊòØ‰∏§Ê≠•„ÄÇ Ëµ∞Ê•ºÊ¢ØÈ¶ñÂÖàËøô‰∏§ÈÅìÈ¢òÁõÆÈÉΩÂèØ‰ª•‰ΩøÁî®ÈÄíÂΩíÊù•ÂÆûÁé∞ÔºåÂÖ≥‰∫éÁà¨Ê•ºÊ¢ØÁöÑÈóÆÈ¢òÔºå‰∏ÄËà¨ÊòØÈááÁî®ÈÄíÂΩíÂÆûÁé∞ÔºåÂ¶Ç‰∏ãÔºö123456789101112 /** * * @param step Ë°®Á§∫‰ªéÁ¨¨Âá†Ê≠•ÂºÄÂßãËµ∞ * @param end Ë°®Á§∫ÊúâÂ§öÂ∞ëÂ±ÇÊ•ºÊ¢Ø * @return */private static int upLouti(int step ,int end)&#123; if(step == end || step == end -1 )&#123; return 1; &#125; return upLouti(step+1,end) + upLouti(step+2,end); &#125; ÈÇ£‰πàÊ≠§È¢òÁöÑÈÄíÂΩíËß£Ê≥ïÂ∞±ÊòØ‰ªé0‰∏ÄÁõ¥Ê±ÇÂà∞endÔºåÁõ¥Âà∞ÁªìÊùü„ÄÇ Èì∫Áì∑Á†ñÈì∫Áì∑Á†ñ‰πüÊòØÁ±ª‰ººÁöÑ‰∏Ä‰∏™Ëß£Ê≥ïÔºå‰πüÂ∞±ÊòØÂ¶ÇÊûúÁ¨¨‰∏ÄÊ¨°ÊòØÊ®™ÁùÄÈì∫ÔºåÈÇ£‰πà‰∏ãÈù¢‰∏Ä‰∏™ËÇØÂÆö‰πüÊòØÂè™ËÉΩÊ®™ÁùÄÈì∫„ÄÇÂ¶ÇÊûúÁ¨¨‰∏Ä‰∏™Áì∑Á†ñÊòØÁ´ñÁùÄÈì∫ÁöÑÔºåÈÇ£‰πàÂèØ‰ª•Áõ¥Êé•ËøõË°åÈïøÂ∫¶Âáè1ÔºåÁÑ∂ÂêéÂÜçËÆ°ÁÆó„ÄÇ Á¨¨‰∏ÄÊ¨°Èì∫Ôºö ÂèØ‰ª•ÁúãÂà∞ÔºåÂ¶ÇÊûúÁ¨¨‰∏ÄÊ¨°Èì∫ÁöÑÁ†ñÂùóÊòØÁ´ñÁùÄÈì∫ÁöÑËØùÔºåÈÇ£‰πàÂâ©‰ΩôÁöÑËÆ°ÁÆóÂ∞±ÊòØn-1„ÄÇ Â¶ÇÊûúÁ¨¨‰∏ÄÊ¨°ÊòØÊ®™ÁùÄÈì∫ÁöÑËØùÔºåÈÇ£‰πàÂÖ∂‰∏ãÈù¢ÁöÑ‰∏ÄÂùóÁ†ñËÇØÂÆö‰πüÊòØÂè™ËÉΩÊ®™ÁùÄÈì∫ÁöÑÔºåÊâÄ‰ª•Áõ¥Êé•ÈïøÂ∫¶Âáè2ÔºåËÆ°ÁÆóÂ∞±ÊòØn-2 ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö123456789101112private static int puCiZhuan(int step ,int end)&#123; if(step &gt;= end)&#123; return 0; &#125; if(step == end -1)&#123; return 1; &#125; if(step == end -3)&#123; return 2; &#125; return puCiZhuan(step+1,end) + puCiZhuan(step + 3 ,end); &#125; ÊúÄÂ∞èË∑ØÂæÑÂà∞È°∂ÁÇπÂΩìÂú®Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÁöÑÊó∂ÂÄôÔºå‰∏çËÉΩÂíåËµ∞Ê•ºÊ¢ØÊúâ‰∏ÄÊ†∑ÁöÑÊÄùË∑Ø‰∫ÜÔºåÂõ†‰∏∫ËØ•È¢ò‰∏ç‰ªÖ‰ªÖÈúÄË¶ÅËÄÉËôë‰∏ã‰∏ÄÊ≠•ÁöÑ‰ΩçÁΩÆÔºåËøòÈúÄË¶ÅËÄÉËôë‰∏ã‰∏ã‰∏ÄÊ≠•ÁöÑ‰ΩçÁΩÆ„ÄÇ‰æãÂ¶Ç0,2,2,1ÔºåÂ¶ÇÊûúÂè™ËÄÉËôëÂçïÊ≠•ÁöÑËØùÔºåÈÇ£‰πàÂÆÉÁöÑÊúÄ‰ºòËß£Â∞±ÊòØ1+2 =3 Ôºå‰ΩÜÊòØÂÖ∂ÂÆûÁùÄ‰∏ÄÈÅìÈ¢òÁõÆÁöÑÊúÄ‰ºòËß£ÊòØ2+0=2 ,ÊâÄ‰ª•Âú®ËøôÈáåÈúÄË¶ÅËÄÉËôëÁöÑÊòØÂ¶Ç‰Ωï‰øùÂ≠ò‰∏ä‰∏ÄÊ¨°ÁöÑÁªìÊûúÁÑ∂ÂêéËøõË°åÊØîËæÉ„ÄÇ 1234567891011class Solution &#123; public int minCostClimbingStairs(int[] cost) &#123; int f1 = 0, f2 = 0; for (int i = cost.length - 1; i &gt;= 0; --i) &#123; int f0 = cost[i] + Math.min(f1, f2); f2 = f1; f1 = f0; &#125; return Math.min(f1, f2); &#125;&#125; ÊâÄ‰ª•ÂèØ‰ª•ÁúãÂà∞Âú®ËØ•ÁÆóÊ≥ï‰∏≠ÔºåÂÖ∂‰∏≠f2‰∏ÄÁõ¥‰øùÂ≠òÁùÄ‰∏ä‰∏ÄÊ¨°ÁöÑËÆ°ÁÆóÁªìÊûú]]></content>
      <categories>
        <category>ÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>ÁÆóÊ≥ïÔºåÂä®ÊÄÅËßÑÂàí</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÈÄöËøágetResourceAsStream()ËØªÂèñ‰∏çÂà∞Êñá‰ª∂ÁöÑÂéüÂõ†]]></title>
    <url>%2F2018%2F09%2F10%2FJava%E9%80%9A%E8%BF%87getResourceAsStream()%E8%AF%BB%E5%8F%96%E4%B8%8D%E5%88%B0%E6%96%87%E4%BB%B6%E7%9A%84%E5%8E%9F%E5%9B%A0%2F</url>
    <content type="text"><![CDATA[È¶ñÂÖàÂá∫Áé∞Ëøô‰∏™ÂéüÂõ†ÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÂºÑÊ∏ÖÊ•öÂ∑•Á®ãÁõÆÂΩïÂíåÁºñËØëÁõÆÂΩï„ÄÇ Â∑•Á®ãÁõÆÂΩï‰ª•IDEA‰∏∫‰æãÔºåÂú®IDEAÈáåÈù¢ÔºåÊàë‰ª¨ÂÜô‰ª£Á†ÅÁöÑÂú∞ÊñπÂ∞±ÊòØ‰∏Ä‰∏™Â∑•Á®ãÁõÆÂΩïÔºåÂ∏∏ËßÅÁöÑ‰æãÂ¶Çsrc‰∏ãÈù¢ÁöÑÂêÑÁßçjavaÊñá‰ª∂ÔºåËøôÁßçÁõÆÂΩïÂ∞±ÂèØ‰ª•Áß∞‰πã‰∏∫‰∏Ä‰∏™Â∑•Á®ãÁõÆÂΩïÔºå‰æãÂ¶ÇÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö Â∑•Á®ãÁõÆÂΩï‰∏ªË¶ÅÂ≠òÊîæÁöÑÊòØ‰∏Ä‰∫õÈÖçÁΩÆÊñá‰ª∂ÊàñËÄÖ‰∏Ä‰∫õjavaÊñá‰ª∂‰πãÁ±ªÁöÑÔºåËÄåÁªèjvmÁºñËØë‰πãÂêéÁöÑÁõÆÂΩï‰æøÊòØÁºñËØëÁõÆÂΩï‰∫Ü ÁºñËØëÁõÆÂΩïÁºñËØëÁõÆÂΩï‰∏ªË¶ÅÁî®‰∫éÂ≠òÊîæjavaÁºñËØëÂêéÁöÑclassÊñá‰ª∂Ôºå‰πüÂ∞±ÊòØÊàë‰ª¨ËøêË°åÁöÑÊñá‰ª∂„ÄÇ‰ºóÊâÄÂë®Áü•ÔºåjavaÊòØ‰∏ÄÁßçË∑®Âπ≥Âè∞ËØ≠Ë®ÄÔºåÊâÄ‰ª•jvmÂÆûÈôÖËøêË°åÁöÑÊòØjavaÂèòÂºÇ‰πãÂêéÁöÑclassÊñá‰ª∂„ÄÇ ÂΩìÁü•ÈÅì‰∫ÜËøô‰∏™‰πãÂêé‰æø‰ºöÁêÜËß£‰∏∫‰ªÄ‰πà‰ºöÈÄöËøágetResourceAsStream()ËØª‰∏çÂà∞Êñá‰ª∂‰∫Ü„ÄÇ getResourceAsStream()ÁøªÂºÄJavaÁöÑÂÆòÊñπÊñáÊ°£ÔºåÂèØ‰ª•ÁúãÂà∞getResourceAsStream()ÊòØClassLoaderÁöÑ‰∏Ä‰∏™ÊñπÊ≥ïÔºå12static InputStream getSystemResourceAsStream(String name)Open for reading, a resource of the specified name from the search path used to load classes. ÈÇ£‰πà‰∏ÄËà¨Ëé∑ÂèñJavaÈÖçÁΩÆÊñá‰ª∂ÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö1InputStream inputStream = DemoTest.class.getClassLoader().getResourceAsStream(); Ëøô‰∏™Êó∂ÂÄôÁ®ãÂ∫èËøêË°åËµ∑Êù•‰∫ÜÔºåÈÇ£‰πàÂ•πÂ∞±‰∏ç‰ºöÂéªÂ∑•Á®ãÁõÆÂΩï‰∏ãÂØªÊâæÈÖçÁΩÆÊñá‰ª∂‰∫ÜÔºå‰æãÂ¶ÇÂú®Â¶Ç‰∏ãÂ∑•Á®ãÈáåÈù¢ËøêË°åÂ¶Ç‰∏ã‰ª£Á†ÅÔºö123456789101112public class DemoTest &#123; public static void main(String[] args) &#123; InputStream inputStream = DemoTest.class.getClassLoader().getResourceAsStream("mybatis-config.xml"); if (inputStream == null)&#123; System.out.println("Ëé∑ÂèñÂºÇÂ∏∏"); &#125;else&#123; System.out.println("Ëé∑ÂèñÂà∞‰∫ÜÊñá‰ª∂"); &#125; &#125;&#125;Á®ãÂ∫èÊâìÂç∞Â¶Ç‰∏ãÔºöËé∑ÂèñÂºÇÂ∏∏ Ëøô‰∏™Êó∂ÂÄôÂ∞±‰ºöÂá∫Áé∞getResourceAsStreamËé∑Âèñ‰∏çÂà∞Êñá‰ª∂‰∫ÜÔºåÈÇ£‰πàÂÅáÂ¶ÇÂ∞Ümybatis-config.xmlÂ§çÂà∂Âà∞targetÁöÑÁõÆÂΩï‰∏ãÈù¢ÂéªÂë¢? ÂÜçÊ¨°ËøêË°åËØ•‰ª£Á†ÅÔºåÊéßÂà∂Âè∞ÊâìÂç∞ÔºöËé∑ÂèñÂà∞‰∫ÜÊñá‰ª∂„ÄÇ ÊâÄ‰ª•ÈÅáÂà∞‰∫ÜËøô‰∏™ÊÉÖÂÜµÁöÑËØù‰∏ÄËà¨Â∞±ÊòØÂ∑•Á®ãÁõÆÂΩïÂíåÁºñËØëÁõÆÂΩïÁº∫Â∞ëÊñá‰ª∂‰∫Ü„ÄÇ Â¶Ç‰ΩïÊâæÂà∞ClassLoaderÁöÑËé∑ÂèñÊñá‰ª∂ÁõÆÂΩïÂë¢Âè™ÈúÄÂú®ResourceÁ±ª‰∏ãÈù¢debuggetResourceAsStreamÔºåÁÑ∂ÂêéÊâìÂºÄloaderÂç≥ÂèØÔºåÊâæÂá∫domainÂ±ûÊÄßÂ∞±ÂèØ‰ª•ÁúãÂà∞‰∫Ü„ÄÇ1234567public static InputStream getResourceAsStream(ClassLoader loader, String resource) throws IOException &#123; InputStream in = classLoaderWrapper.getResourceAsStream(resource, loader); if (in == null) &#123; throw new IOException("Could not find resource " + resource); &#125; return in; &#125; ÂèØ‰ª•ÁúãÂà∞ÈÇ£‰∏™Â∞±ÊòØ‰∏Ä‰∏™Ëé∑ÂèñÁöÑÁºñËØëÁõÆÂΩï„ÄÇ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®MybatisÈÅáÂà∞ÁöÑthere is no getter ÂºÇÂ∏∏]]></title>
    <url>%2F2018%2F09%2F10%2F%E4%BD%BF%E7%94%A8Mybatis%E9%81%87%E5%88%B0%E7%9A%84there-is-no-getter-%E5%BC%82%E5%B8%B8%2F</url>
    <content type="text"><![CDATA[Âú®‰ΩøÁî®mybatisÁöÑÊó∂ÂÄôÊúâÊó∂ÂÄô‰ºöÈÅáÂà∞‰∏Ä‰∏™ÈóÆÈ¢òÂ∞±ÊòØÊòéÊòéÂèÇÊï∞ÊòØÊ≠£Á°ÆÁöÑÔºå‰ΩÜÊòØËøòÊòØ‰ºöÊèêÁ§∫There is no getter XXXËøô‰∏™ÂºÇÂ∏∏Ôºå‰ΩÜÊòØ‰∏ÄËà¨ÁöÑËß£ÂÜ≥ÂäûÊ≥ïÊòØÂú®mapperÈáåÈù¢Ê∑ªÂä†@ParamÊ≥®Ëß£Êù•ÂÆåÊàêÊòØÂà´ÁöÑÔºåÈÇ£‰πà‰∏∫‰ªÄ‰πà‰ºöÈÅáÂà∞Ëøô‰∏™ÈóÆÈ¢òÂë¢Ôºü ‰ª•‰∏ã‰∏∫‰∏æ‰æã‰ª£Á†Å: MapperÂ±Ç‰ª£Á†Å 12345public interface Pro1_Mapper &#123; Pro1_Studnet insertStu(Pro1_Studnet pro1_studnet);&#125; ÂÆû‰ΩìÁ±ª‰ª£Á†Å 123456789101112131415161718192021222324252627282930313233343536373839404142public class Pro1_Studnet &#123; private String stuId; private String stuName; private String stuClass; private String stuTeacher; public String getStuId() &#123; return stuId; &#125; public void setStuId(String stuId) &#123; this.stuId = stuId; &#125; public String getStuName() &#123; return stuName; &#125; public void setStuName(String stuName) &#123; this.stuName = stuName; &#125; public String getStuClass() &#123; return stuClass; &#125; public void setStuClass(String stuClass) &#123; this.stuClass = stuClass; &#125; public String getStuTeacher() &#123; return stuTeacher; &#125; public void setStuTeacher(String stuTeacher) &#123; this.stuTeacher = stuTeacher; &#125;&#125; MainÊñπÊ≥ï1234567891011121314151617public static void main(String[] args) &#123; Logger logger = null; logger = Logger.getLogger(Pro1_Main.class.getName()); logger.setLevel(Level.DEBUG); SqlSession sqlSession = null; try &#123; sqlSession = study.mybatis.MybatisUtil.getSqlSessionFActory().openSession(); Pro1_Mapper pro1_Mapper = sqlSession.getMapper(Pro1_Mapper.class); Pro1_Studnet pro1_studnet =new Pro1_Studnet(); pro1_studnet.setStuName("Âº†‰∏â"); Pro1_Studnet pro1_studnet1 =pro1_Mapper.insertStu(pro1_studnet); System.out.println(pro1_studnet1.getStuClass()); sqlSession.commit(); &#125; finally &#123; sqlSession.close(); &#125; &#125; XMLÊñá‰ª∂ 123456789101112131415&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;&lt;mapper namespace="study.szh.demo.project1.Pro1_Mapper"&gt; &lt;resultMap type="study.szh.demo.project1.Pro1_Studnet" id="pro1_stu"&gt; &lt;result property="stuId" column="stu_id"/&gt; &lt;result property="stuName" column="stu_name"/&gt; &lt;result property="stuClass" column="stu_class"/&gt; &lt;result property="stuTeacher" column="stu_teacher"/&gt; &lt;/resultMap&gt; &lt;select id="insertStu" parameterType="study.szh.demo.project1.Pro1_Studnet" resultMap="pro1_stu"&gt; SELECT * from pro_1stu where stu_name = #&#123;pro1_studnet.stuName&#125;; &lt;/select&gt;&lt;/mapper&gt; Â¶ÇÊûúÊâßË°å‰∏äËø∞ÁöÑ‰ª£Á†ÅÔºå‰Ω†‰ºöÂèëÁé∞mybatis‰ºöÊäõÂá∫‰∏Ä‰∏™ÂºÇÂ∏∏ÔºöThere is no getter for property named &#39;pro1_studnet&#39; in &#39;class study.szh.demo.project1.Pro1_Studnet&#39;ÂæàÊòéÊòæÂ∞±ÊòØËØ¥pro1_studnetËøô‰∏™Âà´ÂêçÊ≤°ÊúâË¢´mybatisÊ≠£Á°ÆÁöÑËØÜÂà´ÔºåÈÇ£‰πàÂ∞ÜËøô‰∏™pro1_studnetÂéªÊéâÂë¢? Â∞ùËØïÂ∞ÜxmlÊñá‰ª∂‰∏≠ÁöÑpro1_studnetÂéªÊéâÁÑ∂ÂêéÂè™‰øùÁïôstuNameÔºåÊâßË°å‰ª£Á†ÅÔºö1Âº†‰∏â ËøôË°®ÊòéÁ®ãÂ∫èËøêË°åÁöÑÂçÅÂàÜÊ≠£Â∏∏Ôºå‰ΩÜÊòØÂú®ÂÆûÈôÖÁöÑÂÜôÊ≥ï‰∏≠ÔºåËøòÊúâÂ¶ÇÊûúÂèÇÊï∞‰∏∫String‰πü‰ºöÂØºËá¥ÊäõÂá∫getterÂºÇÂ∏∏ÔºåÊâÄ‰ª•Ê≠§Ê¨°Ê≠£Â•ΩÊù•ÂàÜÊûê‰∏ã ÂàÜÊûêmybatisÊòØÂ¶Ç‰ΩïËß£ÊûêmapperÂèÇÊï∞ÁöÑË∑üË∏™Ê∫êÁ†Å‰Ω†‰ºöÂèëÁé∞Âú®MapperProxyÁöÑinvokeÂ§Ñ‰ºöËøõË°åÂÖ•ÂèÇ:1234567891011121314@Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; try &#123; if (Object.class.equals(method.getDeclaringClass())) &#123; return method.invoke(this, args); &#125; else if (isDefaultMethod(method)) &#123; return invokeDefaultMethod(proxy, method, args); &#125; &#125; catch (Throwable t) &#123; throw ExceptionUtil.unwrapThrowable(t); &#125; final MapperMethod mapperMethod = cachedMapperMethod(method); return mapperMethod.execute(sqlSession, args); &#125; Ê≥®ÊÑèÊ≠§Â§ÑÁöÑargsÔºåËøô‰∏™ÂèÇÊï∞Â∞±ÊòØmapperÁöÑÂÖ•ÂèÇ„ÄÇ ÈÇ£‰πàmybatisÂú®ËøôÈáåÊé•Êî∂Âà∞Ëøô‰∏™ÂèÇÊï∞‰πãÂêéÔºåÂÆÉ‰ºöÂ∞ÜÂèÇÊï∞ÂÜç‰∏ÄÊ¨°ËøõË°å‰º†ÈÄíÔºåÊ≠§Êó∂‰ºöËøõÂÖ•Âà∞MapperMethodÁöÑexecuteÊñπÊ≥ï1234567891011121314151617181920212223242526272829public Object execute(SqlSession sqlSession, Object[] args) &#123; //ÁúÅÁï•Êó†ÂÖ≥‰ª£Á†Å case SELECT: if (method.returnsVoid() &amp;&amp; method.hasResultHandler()) &#123; executeWithResultHandler(sqlSession, args); result = null; &#125; else if (method.returnsMany()) &#123; result = executeForMany(sqlSession, args); &#125; else if (method.returnsMap()) &#123; result = executeForMap(sqlSession, args); &#125; else if (method.returnsCursor()) &#123; result = executeForCursor(sqlSession, args); &#125; else &#123; Object param = method.convertArgsToSqlCommandParam(args); result = sqlSession.selectOne(command.getName(), param); &#125; break; case FLUSH: result = sqlSession.flushStatements(); break; default: throw new BindingException("Unknown execution method for: " + command.getName()); &#125; if (result == null &amp;&amp; method.getReturnType().isPrimitive() &amp;&amp; !method.returnsVoid()) &#123; throw new BindingException("Mapper method '" + command.getName() + " attempted to return null from a method with a primitive return type (" + method.getReturnType() + ")."); &#125; return result; &#125; Âõ†‰∏∫Âú®xmlÊñá‰ª∂ÈáåÈù¢‰ΩøÁî®ÁöÑÊòØselectÊ†áÁ≠æÔºåÊâÄ‰ª•‰ºöËøõÂÖ•caseÁöÑselectÔºåÁÑ∂ÂêéÊ≠§Êó∂‰ºöËøõÂÖ•Âà∞Object param = method.convertArgsToSqlCommandParam(args); Âú®ËøôÈáåargsËøòÊòØStuÁöÑÂÆû‰ΩìÁ±ªÔºåÂπ∂Êú™ÂèëÁîüÂèòÂåñ ÈöèÂêéËøõÂÖ•convertArgsToSqlCommandParamÊñπÊ≥ïÔºåÁÑ∂ÂêéÁªèËøá‰∏Ä‰∏™ÊñπÊ≥ïÁöÑË∑≥ËΩ¨ÔºåÊúÄÂêé‰ºöËøõÂÖ•Âà∞ParamNameResolverÁöÑgetNamedParamsÊñπÊ≥ïÔºå12345678910111213141516171819202122public Object getNamedParams(Object[] args) &#123; final int paramCount = names.size(); if (args == null || paramCount == 0) &#123; return null; &#125; else if (!hasParamAnnotation &amp;&amp; paramCount == 1) &#123; return args[names.firstKey()]; &#125; else &#123; final Map&lt;String, Object&gt; param = new ParamMap&lt;Object&gt;(); int i = 0; for (Map.Entry&lt;Integer, String&gt; entry : names.entrySet()) &#123; param.put(entry.getValue(), args[entry.getKey()]); // add generic param names (param1, param2, ...) final String genericParamName = GENERIC_NAME_PREFIX + String.valueOf(i + 1); // ensure not to overwrite parameter named with @Param if (!names.containsValue(genericParamName)) &#123; param.put(genericParamName, args[entry.getKey()]); &#125; i++; &#125; return param; &#125; &#125; Ê≠§Êó∂Ê≥®ÊÑèhasParamAnnotationËøô‰∏™Âà§Êñ≠ÔºåËøô‰∏™Âà§Êñ≠Ë°®Á§∫ËØ•ÂèÇÊï∞ÊòØÂê¶Âê´ÊúâÊ†áÁ≠æÔºåÊúâÁöÑËØùÂú®ËøôÈáå‰ºöÂú®MapÈáåÈù¢Ê∑ªÂä†‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂÖ∂ÈîÆÂ∞±ÊòØGENERIC_NAME_PREFIX(param) + i ÁöÑÂÄº„ÄÇÂÉèÂú®Êú¨Ê¨°ÁöÑÊµãËØï‰ª£Á†ÅÁöÑËØùÔºå‰ºöÁõ¥Êé•Âú®return args[names.firstKey()];ËøîÂõûÔºå‰∏çËøáËøô‰∏çÊòØÈáçÁÇπÔºåÁªßÁª≠ÂæÄ‰∏ãËµ∞Ôºå‰ºöËøîÂõûÂà∞MapperMethodÁöÑexecuteÊñπÊ≥ïÁöÑËøô‰∏ÄË°åresult = sqlSession.selectOne(command.getName(), param); Ê≠§Êó∂ÁöÑparamÂ∞±ÊòØ‰∏Ä‰∏™StuÂØπË±°‰∫Ü„ÄÇ ÁªßÁª≠Ëµ∞‰∏ãÂéª‚Ä¶Áî±‰∫émybatisÁöÑË∞ÉÁî®ÈìæÂ§™Â§öÔºåÊ≠§Â§ÑÂè™‰ºöÂÜôÂá∫ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÁÇπÔºåÂèØ‰ª•Âú®Ëá™Â∑±debugÁöÑÊó∂ÂÄôÁ®çÂæÆÊ≥®ÊÑè‰∏ã„ÄÇ BaseExecutorÁöÑcreateCacheKeyÁöÑÊñπÊ≥ï123456789101112131415161718192021222324252627282930313233343536@Override public CacheKey createCacheKey(MappedStatement ms, Object parameterObject, RowBounds rowBounds, BoundSql boundSql) &#123; if (closed) &#123; throw new ExecutorException("Executor was closed."); &#125; CacheKey cacheKey = new CacheKey(); cacheKey.update(ms.getId()); cacheKey.update(rowBounds.getOffset()); cacheKey.update(rowBounds.getLimit()); cacheKey.update(boundSql.getSql()); List&lt;ParameterMapping&gt; parameterMappings = boundSql.getParameterMappings(); TypeHandlerRegistry typeHandlerRegistry = ms.getConfiguration().getTypeHandlerRegistry(); // mimic DefaultParameterHandler logic for (ParameterMapping parameterMapping : parameterMappings) &#123; if (parameterMapping.getMode() != ParameterMode.OUT) &#123; Object value; String propertyName = parameterMapping.getProperty(); if (boundSql.hasAdditionalParameter(propertyName)) &#123; value = boundSql.getAdditionalParameter(propertyName); &#125; else if (parameterObject == null) &#123; value = null; &#125; else if (typeHandlerRegistry.hasTypeHandler(parameterObject.getClass())) &#123; value = parameterObject; &#125; else &#123; MetaObject metaObject = configuration.newMetaObject(parameterObject); value = metaObject.getValue(propertyName); &#125; cacheKey.update(value); &#125; &#125; if (configuration.getEnvironment() != null) &#123; // issue #176 cacheKey.update(configuration.getEnvironment().getId()); &#125; return cacheKey; &#125; ÂΩìËøõË°åÂà∞Ëøô‰∏ÄÊ≠•ÁöÑÊó∂ÂÄôÔºåÁî±‰∫émybatisÁöÑÁ±ªÂ§™Â§ö‰∫ÜÔºåÊâÄ‰ª•ËøôÈáåÈÄâÊã©ÊÄßÁöÑË∑≥ËøáÔºåÂΩìÁÑ∂ÈáçË¶ÅÁöÑ‰ª£Á†ÅËøòÊòØ‰ºö‰ªãÁªçÁöÑ„ÄÇ DefaultReflectorFactoryÁöÑfindForClassÊñπÊ≥ï1234567891011121314@Override public Reflector findForClass(Class&lt;?&gt; type) &#123; if (classCacheEnabled) &#123; // synchronized (type) removed see issue #461 Reflector cached = reflectorMap.get(type); if (cached == null) &#123; cached = new Reflector(type); reflectorMap.put(type, cached); &#125; return cached; &#125; else &#123; return new Reflector(type); &#125; &#125; Ê≥®ÊÑèMetaObjectÁöÑgetValueÊñπÊ≥ïÔºö12345678910111213public Object getValue(String name) &#123; PropertyTokenizer prop = new PropertyTokenizer(name); if (prop.hasNext()) &#123; MetaObject metaValue = metaObjectForProperty(prop.getIndexedName()); if (metaValue == SystemMetaObject.NULL_META_OBJECT) &#123; return null; &#125; else &#123; return metaValue.getValue(prop.getChildren()); &#125; &#125; else &#123; return objectWrapper.get(prop); &#125; &#125; ËøôÈáåÁöÑnameÁöÑÂÄºÊòØpro1_stu.stuName,ËÄåpropÁöÑÂ±ûÊÄßÊòØËøôÊ†∑ÁöÑ:ËøôÈáåÁöÑhasNextÂáΩÊï∞‰ºöÂà§Êñ≠Ëøô‰∏™propÁöÑchildrenÊòØ‰∏çÊòØ‰∏∫Á©∫ÔºåÂ¶ÇÊûú‰∏çÊòØÁ©∫ÁöÑËØùÂ∞±‰ºöËøõÂÖ• get ÊñπÊ≥ïÔºåÁÑ∂ÂêéËøõÂÖ•Âà∞Â¶Ç‰∏ãÁöÑÊñπÊ≥ïÈÄöËøáËøîÂõûËé∑ÂèñgetÊñπÊ≥ï„ÄÇÊâÄ‰ª•ÂΩìÈÅçÂéÜÂà∞stuNameÁöÑÊó∂ÂÄô‰ºöÁõ¥Êé•returnÔºå ÁÑ∂ÂêéÂ∞±ÈúÄË¶ÅÊ≥®ÊÑèReflectorÁöÑgetGetInvokerÊñπÊ≥ïÔºå1234567public Invoker getGetInvoker(String propertyName) &#123; Invoker method = getMethods.get(propertyName); if (method == null) &#123; throw new ReflectionException("There is no getter for property named '" + propertyName + "' in '" + type + "'"); &#125; return method; &#125; Ëøô‰∏™propertyNameÂ∞±ÊòØpro1_studnetÔºåËÄågetMethods.get(propertyName);Â∞±ÊòØË¶ÅÈÄöËøáÂèçÂ∞ÑËé∑Âèñpro1_studnetÊñπÊ≥ïÔºå‰ΩÜÊòØÂæàÊòéÊòæÔºåËøôÈáåÊòØËé∑Âèñ‰∏çÂà∞ÁöÑÔºåÊâÄ‰ª•Ê≠§Êó∂Â∞±‰ºöÊäõÂá∫Ëøô‰∏™ÂºÇÂ∏∏„ÄÇ ÈÇ£‰πà‰∏∫‰ªÄ‰πàÂä†‰∫Ü@paramÊ≥®Ëß£‰πãÂêéÂ∞±‰∏ç‰ºöÊäõÂá∫ÂºÇÂ∏∏Âë¢Ê≠§Êó∂Â∞±ÈúÄË¶ÅÊ≥®ÊÑèMapWrapperÁ±ªÁöÑgetÊñπÊ≥ï„ÄÇ123456789@Override public Object get(PropertyTokenizer prop) &#123; if (prop.getIndex() != null) &#123; Object collection = resolveCollection(prop, map); return getCollectionValue(prop, collection); &#125; else &#123; return map.get(prop.getName()); &#125; &#125; Âú®‰πãÂâçÂ∞±ËØ¥ËøáÔºåÂ¶ÇÊûúÂä†‰∫ÜÊ≥®Ëß£ÁöÑËØùÔºåmapÁöÑÁªìÊûÑÊòØ{‚Äúparam1‚Äù,‚Äùpro1_studnet‚Äù,‚Äùpro1_studnet‚Äù,XXXÂØπË±°}ÔºåÊ≠§Êó∂Áî±‰∫épropÁöÑindexÊòØnullÔºåÊâÄ‰ª•‰ºöÁõ¥Êé•ËøîÂõûmapÁöÑÈîÆÂÄº‰∏∫pro1_studnetÁöÑÂØπË±°„ÄÇËÄåÂú®DefaultReflectorFactoryÁöÑfindForClassÈáåÈù¢ÔºåÁî±‰∫éÊâÄÂä†ËΩΩÁöÑÂÆû‰ΩìÁ±ªÂ∑≤ÁªèÂåÖÂê´‰∫ÜPro1_StudentÔºåÈöèÂêéÂú®metaValue.getValue(prop.getChildren());ÁöÑÂ∞Üstu_name‰º†ÂÖ•ËøáÂéªÔºåÂ∞±ÂèØ‰ª•‰∫ÜËé∑ÂèñÂà∞‰∫ÜÂ±ûÊÄßÁöÑÂÄº‰∫Ü„ÄÇ]]></content>
      <categories>
        <category>Mybatis</category>
      </categories>
      <tags>
        <tag>mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JsonÁöÑÂ∫ïÂ±ÇÂÆûÁé∞‰∏ÄËßà]]></title>
    <url>%2F2018%2F09%2F06%2FJson%E7%9A%84%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0%E4%B8%80%E8%A7%88%2F</url>
    <content type="text"><![CDATA[Âú®ÂºÄÂßã‰∫ÜËß£JsonÁöÑÂéüÁêÜ‰πãÂâçÔºåÈ¶ñÂÖàÁúã‰∏ÄÊÆµ‰ª£Á†ÅÔºåÂú®ËøôÈáå‰ª•ÈòøÈáåÁöÑFastJson‰∏∫‰æã„ÄÇ12345678public class JsonRun &#123; public static void main(String[] args) &#123; JSONObject jsonObject =new JSONObject(); jsonObject.put("id","a"); jsonObject.put("name","b"); System.out.println(jsonObject.toJSONString()); &#125;&#125; ÂΩìÁúãÂà∞‰∏äËø∞‰ª£Á†ÅÁöÑÊó∂ÂÄôÔºåÂèØËÉΩ‰∏ÄËà¨ÁöÑÁ®ãÂ∫èÂëòÈÉΩ‰ºöÊÉ≥Âà∞ÁöÑÊòØËæìÂá∫‰∏∫Â¶Ç‰∏ãJson‰∏≤ {‚Äúid‚Äù:‚Äùa‚Äù,‚Äùname‚Äù:‚Äùb‚Äù}‰ΩÜÊòØËøêË°åËøôÊÆµÁ®ãÂ∫èÔºå‰Ω†‰ºöÂèëÁé∞ÊéßÂà∂Âè∞ÊâìÂç∞Âá∫Êù•ÁöÑÊòØÂ¶Ç‰∏ã‰ª£Á†ÅÔºö{‚Äúname‚Äù:‚Äùb‚Äù,‚Äùid‚Äù:‚Äùa‚Äù} ÈÇ£‰πà‰∏∫‰ªÄ‰πà‰ºöÂá∫Áé∞ËøôÁßçÊÉÖÂÜµÂë¢ÔºåÁøªÂºÄFastJsonÁöÑÊ∫êÁ†Å‰æøÁü•ÈÅì‰∫ÜÔºåÈ¶ñÂÖàÂÆö‰ΩçÂà∞ JsonObject Ëøô‰∏™Á±ªÁöÑÊûÑÈÄ†ÂáΩÊï∞ÔºåÂ¶Ç‰∏ãÔºö1234567public JSONObject(int initialCapacity, boolean ordered)&#123; if (ordered) &#123; map = new LinkedHashMap&lt;String, Object&gt;(initialCapacity); &#125; else &#123; map = new HashMap&lt;String, Object&gt;(initialCapacity); &#125; &#125; ËøôÈáåÁöÑ ordered ‰∏∫‰∏Ä‰∏™ÊûÑÈÄ†ÂèÇÊï∞ÔºåË°®Á§∫ÁöÑÊòØÊòØÂê¶ÊåâÁÖßÈ°∫Â∫èÊ∑ªÂä†ÔºåÊ≠§Â§ÑÂÖà‰∏çÁÆ°ÔºåÁÑ∂ÂêéÂèØ‰ª•ÂèëÁé∞Âú®ÈòøÈáåÁöÑFastJson‰∏≠ÔºåÂÖ∂ÂÆûÈªòËÆ§ÁöÑJsonÂÆûÁé∞ÊòØ‰∏Ä‰∏™MapÔºåÈÇ£‰πàÂØπ‰∫éLinkedHashMapÊù•ËÆ≤ÔºåÂÆÉÊòØ‰∏Ä‰∏™mapÂíåÂèåÂêëÈìæË°®ÁöÑÊï¥Âêà‰ΩìÔºåÊâÄ‰ª•Âú®LinkedList‰∏≠ÔºåÊØè‰∏Ä‰∏™NodeÈÉΩ‰ºöÊúâ‰∏Ä‰∏™ÂâçÊåáÈíàÂíå‰∏Ä‰∏™ÂêéÊåáÈíà HashMapLinkedHashMap ÊòØ‰∏Ä‰∏™HashMapÁöÑÂèòÁßçÔºåÂ§ßÂÆ∂ÈÉΩÁü•ÈÅìÔºå‰∏Ä‰∏™HashMapÊòØÁî±‰∏Ä‰∏™Ê°∂Âíå‰∏Ä‰∏™Ê°∂ÂêéÈù¢ÁöÑËäÇÁÇπÁªÑÊàêÁöÑÔºåËÄåÊ°∂ÂÖ∂ÂÆûÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÊØè‰∏Ä‰∏™Ê°∂ÁöÑÁ¥¢ÂºïÊâÄÂØπÂ∫îÁöÑÂÄºÈÉΩÊòØÁî±Hash()ÂáΩÊï∞ËÆ°ÁÆóÂæóÂá∫ÁöÑ„ÄÇÈÇ£‰πàËøôÊ†∑Â∞±‰ºöÂØºËá¥Ê°∂ÁöÑÂÖÉÁ¥†ÊòØ‰∏Ä‰∏™‰π±Â∫èÁöÑÂ≠òÂÇ®ÁöÑÔºå‰æãÂ¶ÇÂú®Êú¨ÊÆµ‰ª£Á†Å‰∏≠ÁöÑidÂíånameÔºåÂÆÉ‰ª¨ÊâÄÂú®ÁöÑÊ°∂Á¥¢ÂºïÂèØËÉΩÊòØ: ËøôÊ†∑Â∞±ÂØºËá¥‰∫Ü‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂ∞±ÊòØJsonÁöÑÈîÆÁöÑÈ°∫Â∫èÊòØÊó†Ê≥ï‰øùËØÅÁöÑÔºåÈÇ£‰πàÊó¢ÁÑ∂HashMapÊòØÊó†Ê≥ï‰øùËØÅÁöÑÔºå‰∏∫‰ªÄ‰πàLinkedHashMapÂç¥ÂèØ‰ª•‰øùËØÅÈ°∫Â∫è„ÄÇ LinkedHashMapÁøªÂºÄLinkedHashMapÁöÑÊ∫êÁ†ÅÂèØ‰ª•ÂèëÁé∞ÔºåÂú®ÂÖ∂ËäÇÁÇπÁ±ªÈáåÈù¢ÔºåLinkedHashMapÂú® HashMapÁöÑEntryÂü∫Á°Ä‰∏äÂèàÊ∑ªÂä†‰∫Ü‰∏Ä‰∏™beforeÂíåafterÊåáÈíàÔºå123456static class Entry&lt;K,V&gt; extends HashMap.Node&lt;K,V&gt; &#123; Entry&lt;K,V&gt; before, after; Entry(int hash, K key, V value, Node&lt;K,V&gt; next) &#123; super(hash, key, value, next); &#125; &#125; ÈÇ£‰πàËøô‰∏§‰∏™ÊåáÈíàÂ∞±ÊòØÂèåÂêëÈìæË°®ÁöÑÊåáÈíà„ÄÇÊúâ‰∫ÜËøô‰∏§‰∏™ÊåáÈíà‰πãÂêéÔºåÊØè‰∏Ä‰∏™Êñ∞ÊèíÂÖ•ÁöÑËäÇÁÇπÈÉΩ‰ºöÁü•ÈÅì‰ªñÁöÑÂâçÈ©±ÁªìÁÇπÂíåÂêéÁΩÆËäÇÁÇπÔºåÈÇ£‰πàÂØπ‰∫éLinkedHashMapÁöÑÊèíÂÖ•È°∫Â∫èÂ∞±‰ºöÊúâ‰øùËØÅ‰∫Ü„ÄÇÊâÄ‰ª•ÂÖ∂ÂØπÂ∫îÁöÑÊï∞ÊçÆÁªìÊûÑÂ¶ÇÂõæÔºö Âú®Ëøô‰∏™ÁªìÊûÑÈáåÈù¢ÔºåÊ°∂Á¥¢ÂºïÊòØidÁöÑÁ¨¨‰∏Ä‰∏™ËäÇÁÇπÊòØ‰∏Ä‰∏™Â§¥ËäÇÁÇπÔºåÂú®Êñ∞ÊèíÂÖ•nameÁöÑÊó∂ÂÄôÔºåLinkedHashMap‰ºöÂ∞ÜheadËäÇÁÇπÁöÑafterÊåáÈíàÊåáÂêënameÔºåÊâÄ‰ª•ËôΩÁÑ∂ËøôÊòØ‰∏Ä‰∏™HashMapÔºå‰ΩÜÊòØÂÆÉÁöÑÈ°∫Â∫èËøòÊòØÂèØ‰ª•‰øùËØÅÁöÑ„ÄÇ LinkedHashMapÁöÑËø≠‰ª£Âå∫Âà´‰∫éHashMap‰ª•Á¥¢ÂºïÁöÑÊñπÂºèËøõË°åËø≠‰ª£ÔºåLinkedHashMapÊòØ‰ª•ÈìæË°®ÁöÑÊåáÈíàËøõË°åËø≠‰ª£ÁöÑÔºåÂ¶Ç‰ª•‰∏ã‰ª£Á†ÅÊâÄÁ§∫Ôºö12345678910111213141516171819202122abstract class LinkedHashIterator &#123; LinkedHashMap.Entry&lt;K,V&gt; next; LinkedHashMap.Entry&lt;K,V&gt; current; int expectedModCount; LinkedHashIterator() &#123; next = head; expectedModCount = modCount; current = null; &#125;final LinkedHashMap.Entry&lt;K,V&gt; nextNode() &#123; LinkedHashMap.Entry&lt;K,V&gt; e = next; //nextÂ∞±ÊòØheadËäÇÁÇπ if (modCount != expectedModCount) throw new ConcurrentModificationException(); if (e == null) throw new NoSuchElementException(); current = e; next = e.after; //Ê≠§Â§ÑÊØè‰∏ÄÊ¨°ÁöÑËø≠‰ª£ÈÉΩÊòØÈìæË°®ÁöÑafter return e; &#125; ÂèØ‰ª•ÁúãÂà∞Âú®ÊØè‰∏ÄÊ¨°Ëø≠‰ª£ÁöÑÊó∂ÂÄôLinkedHashMapÈÉΩÊòØ‰ª•ÈìæË°®ÁöÑnextËäÇÁÇπ‰Ωú‰∏∫‰∏ã‰∏Ä‰∏™Ëø≠‰ª£ÔºåÈÇ£‰πàHashMapÂë¢Ôºü HashMapÁöÑËø≠‰ª£1234567891011121314151617181920212223242526272829abstract class HashIterator &#123; Node&lt;K,V&gt; next; // next entry to return Node&lt;K,V&gt; current; // current entry int expectedModCount; // for fast-fail int index; // current slotHashIterator() &#123; expectedModCount = modCount; Node&lt;K,V&gt;[] t = table; current = next = null; index = 0; if (t != null &amp;&amp; size &gt; 0) &#123; // advance to first entry do &#123;&#125; while (index &lt; t.length &amp;&amp; (next = t[index++]) == null); &#125; &#125;final Node&lt;K,V&gt; nextNode() &#123; Node&lt;K,V&gt;[] t; Node&lt;K,V&gt; e = next; if (modCount != expectedModCount) throw new ConcurrentModificationException(); if (e == null) throw new NoSuchElementException(); if ((next = (current = e).next) == null &amp;&amp; (t = table) != null) &#123; do &#123;&#125; while (index &lt; t.length &amp;&amp; (next = t[index++]) == null); &#125; return e; &#125; Ê≥®ÊÑèËøô‰∏ÄÊÆµ‰ª£Á†Å if (t != null &amp;&amp; size &gt; 0) { // advance to first entry do {} while (index &lt; t.length &amp;&amp; (next = t[index++]) == null); } Ëøô‰∏ÄÊÆµ‰ª£Á†ÅÁöÑ‰ΩúÁî®ÊòØÊâæÂá∫table[]‰∏≠Á¨¨‰∏Ä‰∏™‰∏ç‰∏∫nullÁöÑÊ°∂ÔºåÊâÄ‰ª•ÂÖ∂ÂÆûHashMapÁöÑËø≠‰ª£Â∞±ÊòØ‰æùÊçÆÊ°∂‰∏≠ÁöÑÈ°∫Â∫èÊù•ÁöÑÔºå‰ΩÜÊòØLinkedHashMapÂàôÊòØÊåâÊâæÈìæË°®ÁöÑÈ°∫Â∫èÊù•ÁöÑ„ÄÇ ÊÄªÁªìÂÖ∂ÂÆûÊØè‰∏Ä‰∏™javaÁöÑËÆæËÆ°ÈÉΩÊòØÂæàÁ≤æÂ¶ôÁöÑ‚Ä¶]]></content>
      <categories>
        <category>Json</category>
      </categories>
      <tags>
        <tag>Json</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â∞ÜJacksonÊõøÊç¢ÊàêFastjosn]]></title>
    <url>%2F2018%2F09%2F04%2F%E5%B0%86Jackson%E6%9B%BF%E6%8D%A2%E6%88%90Fastjosn%2F</url>
    <content type="text"><![CDATA[ËÆ∞ÂæóÊúâ‰∏ÄÊ¨°ÁöÑÈù¢ËØïÊòØ„ÄÇÂ¶Ç‰ΩïÂú®Spring‰∏≠Â∞ÜJackSon ÊõøÊç¢‰∏∫ FastJsonÔºåemmmm‚Ä¶ÂΩìÊó∂ÁöÑÂõûÁ≠îÊòØÂè™ÈúÄË¶ÅÊõøÊç¢ pom.xmlÔºåÁÑ∂ÂêéÂú®‰ΩøÁî®ÁöÑÊó∂ÂÄôÂºïÂÖ•FastJosnÂ∞±Ë°å‰∫ÜÔºå‰ΩÜÊòØÂú®ÂΩìÊó∂ÊòæÁÑ∂Ê≤°ÊúâÁêÜËß£Âà∞Èù¢ËØïÂÆòÁöÑÊÑèÂõæÔºåÊó¢ÁÑ∂Èù¢ËØïÂÆòÂº∫Ë∞ÉÁöÑÊòØÂ¶Ç‰ΩïÊõøÊç¢ÔºåÈÇ£‰πà‰øÆÊîπpom.xmlÂæàÊòæÁÑ∂‰∏çÊòØÈù¢ËØïÂÆòÊâÄÊÉ≥Ë¶ÅÁöÑÁ≠îÊ°àÔºåÈÇ£ËøòÊúâ‰ªÄ‰πàÁ≠îÊ°àÂë¢Ôºü Êúâ‰∏Ä‰∏™ÊñπÊ≥ïÂèØËÉΩÊòØÈù¢ËØïÂÆòÊÉ≥Ë¶ÅÁöÑÔºåÈÇ£Â∞±ÊòØÈáçÂÜôSpringÁöÑHttpMesageConverterÊñπÊ≥ïÔºåÂú®Ëøô‰∏™ÊñπÊ≥ïÈáåÈù¢ÂºïÂÖ•FastJsonÁöÑÈÖçÁΩÆÔºåÁÑ∂ÂêéÊõøÊç¢ÊéâSpringÈªòËÆ§ÁöÑJackson„ÄÇ ÊõøÊç¢ÊñπÂºèÊúâÂá†ÁßçÔºå‰∏ÄÁßçÊòØËøîÂõû‰∏Ä‰∏™HttpMesageConverterÔºåÂè¶‰∏ÄÁßçÊòØÁªßÊâøWebMvcConfigurerAdapter Êù•ÂÆûÁé∞ configureMessageConverters ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425@Configurationpublic class WebConfig extends WebMvcConfigurerAdapter &#123; @Override public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) &#123; FastJsonConfig fastJsonConfig = new FastJsonConfig(); fastJsonConfig.setSerializerFeatures( // ËæìÂá∫Á©∫ÁΩÆÂ≠óÊÆµ SerializerFeature.WriteMapNullValue, // listÂ≠óÊÆµÂ¶ÇÊûú‰∏∫nullÔºåËæìÂá∫‰∏∫[]ÔºåËÄå‰∏çÊòØnull SerializerFeature.WriteNullListAsEmpty, // Êï∞ÂÄºÂ≠óÊÆµÂ¶ÇÊûú‰∏∫nullÔºåËæìÂá∫‰∏∫0ÔºåËÄå‰∏çÊòØnull SerializerFeature.WriteNullNumberAsZero, // BooleanÂ≠óÊÆµÂ¶ÇÊûú‰∏∫nullÔºåËæìÂá∫‰∏∫falseÔºåËÄå‰∏çÊòØnull SerializerFeature.WriteNullBooleanAsFalse, // Â≠óÁ¨¶Á±ªÂûãÂ≠óÊÆµÂ¶ÇÊûú‰∏∫nullÔºåËæìÂá∫‰∏∫""ÔºåËÄå‰∏çÊòØnull SerializerFeature.WriteNullStringAsEmpty); fastJsonConfig.setCharset(Charset.forName("UTF-8")); fastJsonConfig.setDateFormat("yyyy-MM-dd hh:mm:ss"); FastJsonHttpMessageConverter Converter = new FastJsonHttpMessageConverter(); Converter.setFastJsonConfig(fastJsonConfig); HttpMessageConverter&lt;?&gt; converter = Converter; converters.add(0,converter); super.configureMessageConverters(converters); &#125; ControllerÁ±ª123456789@RequestMapping("/testjson") @ResponseBody public TestJson forword(@RequestBody TestJson testJson) &#123; System.out.println(testJson.getId()); System.out.println(testJson.getName()); System.out.println(testJson.isFlag()); return testJson; &#125; ÊâìÂç∞ÁªìÊûúÂ¶Ç‰∏ãÔºö1234567891011//ÂèëÈÄÅËØ∑Ê±Ç&#123; "id":1, "name":null&#125;//ÊéßÂà∂Âè∞ËæìÂá∫&#123; "flag": false, "id": 1, "name": ""&#125; ÊâÄ‰ª•ÂèØ‰ª•ÁúãÂà∞ÈªòËÆ§ÁöÑJacksonÂ∑≤ÁªèË¢´ÊõøÊç¢‰∏∫Fastjson‰∫Ü ‰∏∫‰∫ÜÂå∫Âà´‰∏éJacksonÁöÑÂ∑ÆÂºÇÔºåÂú®ËøôÈáåÊ≥®ÈáäÊéâJacksonÁöÑconfigÔºåÁÑ∂ÂêéÂÜçÊ¨°ËØ∑Ê±ÇÔºåÁªìÊûúÂ¶Ç‰∏ãÔºö12345&#123; "id": 1, "name": null, "flag": false&#125; ÂèØ‰ª•ÁúãÂà∞String‰∏∫nullÁöÑËØùÔºåÂπ∂Ê≤°ÊúâË¢´ÊõøÊç¢‰∏∫‚Äù‚Äù]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux‰∏äÂÆâË£ÖrabbitmqÈÅáÂà∞ÁöÑ‰∏Ä‰∫õÈóÆÈ¢ò]]></title>
    <url>%2F2018%2F08%2F29%2FLinux%E4%B8%8A%E5%AE%89%E8%A3%85rabbitmq%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Âú®ÂÆâË£ÖelixirÁöÑÊó∂ÂÄôerlangÔºåÂÆâË£Ö‰∫ÜÈîôËØØÁöÑÂåÖÈîôËØØËÆ∞ÂΩïÂ¶Ç‰∏ãÔºö12&#123;&quot;init terminating in do_boot&quot;,&#123;&apos;cannot get bootfile&apos;,&apos;no_dot_erlang.boot&apos;&#125;&#125;init terminating in do_boot (&#123;cannot get bootfile,no_dot_erlang.boot&#125;) Ê≠§Êó∂ÁöÑÈîôËØØÊòØÂú®ÂÆâË£ÖerlangÁöÑÊó∂ÂÄôÂÆâË£Ö‰∫ÜÈîôËØØÁöÑerlangÔºåÊ≠£Á°ÆÁöÑÈúÄË¶ÅÂÆâË£ÖÁöÑÊòØesl-erlangÔºåËØ¶ÊÉÖÂ¶Ç‰∏ãÔºö The ‚Äúesl-erlang‚Äù package is a file containg the complete installation: it includes the Erlang/OTP platform and all of its applications. The ‚Äúerlang‚Äù package is a frontend to a number of smaller packages. Currently we support both ‚Äúerlang‚Äù and ‚Äúesl-erlang‚Äù. Note that the split packages have multiple advantages:seamless replacement of the available packages,other packages have dependencies on ‚Äúerlang‚Äù, not ‚Äúesl-erlang‚Äù,if your disk-space is low, you can get rid of some unused parts; ‚Äúerlang-base‚Äù needs only ~13MB of space. ‰πüÂ∞±ÊòØËØ¥Áõ∏ËæÉ‰∫éerlangÔºåesl-erlangÁöÑÂÆâË£ÖÂåÖÊòØÂåÖÂê´‰∫ÜÊâÄÊúâÁöÑÁªÑ‰ª∂ÁöÑ„ÄÇ rabbitmqÂíåerlangÁöÑcookies‰∏ç‰∏ÄËá¥ÔºåÂØºËá¥ÂêØÂä®‰∏ç‰∫ÜÂêØÂä®ÁöÑÊó•ÂøóÂ¶Ç‰∏ãÔºö12345678910111213attempted to contact: [rabbit@izm5e0h94dt7do1kplgd15z]rabbit@izm5e0h94dt7do1kplgd15z: * connected to epmd (port 4369) on izm5e0h94dt7do1kplgd15z * epmd reports node 'rabbit' running on port 25672 * TCP connection succeeded but Erlang distribution failed * Authentication failed (rejected by the remote node), please check the Erlang cookie current node details: - node name: 'rabbitmq-cli-56@izm5e0h94dt7do1kplgd15z' - home dir: /root - cookie hash: ajtINcxQAbART7QakzjkSg== Âú®ÊêúÁ¥¢‰∏≠ÂèëÁé∞‰∫Ü‰∏§‰∏™ÈìæÊé•ÔºöStackOverFlow„ÄÅRabbitmqÂÆòÊñπÊñáÊ°£ ÂÖ∂‰∏≠Âú®ÂÆòÁΩë‰∏≠ÁúãÂà∞‰∫Ü‰ªãÁªçÔºö Linux, MacOS, *BSDOn UNIX systems, the cookie will be typically located in /var/lib/rabbitmq/.erlang.cookie (used by the server) and $HOME/.erlang.cookie (used by CLI tools). Note that since the value of $HOME varies from user to user, it‚Äôs necessary to place a copy of the cookie file for each user that will be using the CLI tools. This applies to both non-privileged users and root. ‰πüÂ∞±ÊòØËØ¥Âú®Linux‰∏äÔºåÈªòËÆ§ÁöÑcookiesÊòØÂú® /var/lib/rabbitmq/.erlang.cookieÔºå ‰ΩÜÊòØËØ•rabbitmqÁöÑhomeÁõÆÂΩïÊòØrootÔºåÊâÄ‰ª•ÈúÄË¶ÅÂ∞ÜÈªòËÆ§Ë∑ØÂæÑÁöÑcookiesÊõøÊç¢Âà∞homeÁõÆÂΩï‰∏ã„ÄÇÊõøÊç¢‰πãÂêéÂç≥ÂèØ„ÄÇ ÂÖ≥‰∫éRabbitmqÁöÑwebÁïåÈù¢ÂêØÂä®‰∏ç‰∫ÜÊèêÁ§∫Â¶Ç‰∏ãÔºö123Plugin configuration unchanged.Applying plugin configuration to rabbit@izm5e0h94dt7do1kplgd15z... failed. ÂèëÁé∞Âè™Ë¶ÅÈáçÂêØ‰∏ãrabbitmqÂ∞±Â•Ω‰∫Ü„ÄÇ„ÄÇ„ÄÇ Âè¶Â§ñÂ∞±ÊòØerlangÁöÑÁâàÊú¨ÊúÄÂ•ΩÂú®20ÔºåÂú®21Ë≤å‰ºº‰ºöÂá∫ÈóÆÈ¢òÔºåÂΩìÁÑ∂ÈíàÂØπrabbit3.6.15ÁâàÊú¨]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>rabbitmq</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â≠óÁ¨¶‰∏≤Êï∞ÁªÑÁªÑÊàêÊúÄÂ∞èÁöÑÊï∞Â≠ó]]></title>
    <url>%2F2018%2F08%2F25%2F%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%95%B0%E7%BB%84%E7%BB%84%E6%88%90%E6%9C%80%E5%B0%8F%E7%9A%84%E6%95%B0%E5%AD%97%2F</url>
    <content type="text"><![CDATA[Â≠óÁ¨¶‰∏≤Êï∞ÁªÑÊãºÊé•Âá∫‰∏Ä‰∏™ÊúÄÂ∞èÁöÑÊï∞Â≠óËÆ∞ÂæóÂú®‰πãÂâçÁöÑ‰∏Ä‰∏™Èù¢ËØï‰∏≠ÈÅáÂà∞‰∫ÜËøô‰∏™ÁÆóÊ≥ïÈ¢òÔºå ‰ΩÜÊòØÂΩìÊó∂Ê≤°ÊÄé‰πàÊÉ≥Â•ΩÂ¶Ç‰ΩïÂà§Êñ≠‰∏§‰∏™Â≠óÁ¨¶‰∏≤‰πãÈó¥ÁöÑÂ§ßÂ∞èÔºåÊØîÂ¶Ç 23 Âíå 223 ‰πãÈó¥ÔºåÂÖ∂ÁªÑÂêàËµ∑Êù•ÁªùÂØπÊòØ 23 Â§ß‰∫é 223ÔºåÊâÄ‰ª• 223ÊòØÈúÄË¶ÅÊîæÂú®ÂâçÈù¢ÁöÑ„ÄÇ ÊÄùË∑ØÂÖ∂ÂÆûÂèØ‰ª•Â∞Ü‰∏§‰∏™Â≠óÁ¨¶‰∏≤Áõ∏Âä†Ôºå‰æãÂ¶Ç 22323 &lt; 23223 ÔºåÊâÄ‰ª• 223 ÊòØÈúÄË¶ÅÊîæÂú® 23 ÂâçÈù¢ÁöÑÔºå‰∏ãÈù¢Â∞±ÊòØ‰ª£Á†Å. ‰ª£Á†Å1234567891011121314151617181920212223242526272829303132333435363738394041424344private void getNum(String[] str)&#123; sortString(str,0,str.length-1); &#125; private void sortString(String[] strArray ,int start ,int end)&#123; if(end &gt; strArray.length -1 || end &lt;0)&#123; return; &#125; if(start &lt;0 || start &gt; strArray.length -1)&#123; return; &#125; if(start == end )&#123; return; &#125; int mid =(start + end) / 2; while (start &lt; end &amp;&amp; start &lt;mid &amp;&amp; end &gt;mid)&#123; String s1 =strArray[start] +strArray[mid]; String s2 =strArray[mid] +strArray[start]; String s3 =strArray[mid] +strArray[end]; String s4 =strArray[end] +strArray[mid]; if(Integer.parseInt(s1) &lt; Integer.parseInt(s2))&#123; start++; &#125; if(Integer.parseInt(s3) &lt; Integer.parseInt(s4))&#123; end--; &#125; &#125; String temp =strArray[start]; strArray[start] = strArray[end]; strArray[end] =temp; sortString(strArray,start,mid ); sortString(strArray,mid-1,end ); &#125; public static void main(String[] args) &#123; String[] s =new String[]&#123;"32","321","3"&#125;; new GetSmallSum().getNum(s); StringBuffer stringBuffer =new StringBuffer(); for(String s1 :s)&#123; stringBuffer.append(s1); &#125; System.out.println(Integer.parseInt(stringBuffer.toString())); &#125;]]></content>
      <categories>
        <category>ÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>ÁÆóÊ≥ï</tag>
        <tag>Leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éLeetcode‰∏äÂà§Êñ≠‰ΩçÊï∞ÁöÑËß£Ê≥ï]]></title>
    <url>%2F2018%2F08%2F17%2F%E5%85%B3%E4%BA%8ELeetcode%E4%B8%8A%E5%88%A4%E6%96%AD%E4%BD%8D%E6%95%B0%E7%9A%84%E8%A7%A3%E6%B3%95%2F</url>
    <content type="text"><![CDATA[Âú®Leetcode‰∏äÊúâ‰∏ÄÈÅìÁÆóÊ≥ïÈ¢òÁõÆÂà§Êñ≠ÊúÄÂêé‰∏Ä‰ΩçÊòØ‰∏çÊòØ‰∏Ä‰ΩçÁöÑÔºåÈ¢òÁõÆÁöÑÊÑèÊÄùÊòØÂΩìÂú®‰∏Ä‰∏™Êï∞ÁªÑ‰∏≠Â¶ÇÊûúÂ≠òÂú®10ÊàñËÄÖ00ÔºåÈÇ£‰πàËøô‰∏™Â∞±ÊòØ‰∏Ä‰∏™ËøûÁª≠ÁöÑ„ÄÇËøô‰∏™Êï∞ÁªÑÁöÑÊúÄÂêé‰∏Ä‰ΩçÊ∞∏ËøúÈÉΩÊòØ0„ÄÇ We have two special characters. The first character can be represented by one bit 0. The second character can be represented by two bits (10 or 11).Now given a string represented by several bits. Return whether the last character must be a one-bit character or not. The given string will always end with a zero. ÊÄùË∑ØÔºöÂàöÂºÄÂßãÈîôËØØÁöÑÁêÜËß£È¢òÁõÆÁöÑÊÑèÊÄù‰∫ÜÔºåÂØºËá¥‰∏ÄÁõ¥Âú®Á∫†ÁªìÊï∞ÁªÑÁöÑÊúÄÂêé‰∏§‰ΩçÂíå‰∏â‰ΩçÔºåÂêéÊù•Áúã‰∫ÜÁ≠îÊ°à‰πãÂêéËßâÂæóËá™Â∑±ÁöÑÊÄùË∑ØÊ≤°ÊúâÊÉ≥Âà∞ÁîµÂ≠ê‰∏äÔºåÊâÄ‰ª•Âú®Ê≠§ËÆ∞ÂΩï‰∏Ä‰∏ã„ÄÇ Ëß£Ê≥ï‰∏ÄÔºöËøô‰∏ÄÈ¢òÊúâ‰∏Ä‰∏™ÊòéÊòæÁöÑËßÑÂæãÔºå‰πüÂ∞±ÊòØÂΩì bits[i] ‰∏∫ 1 ÁöÑÊó∂ÂÄôÔºåÈÇ£‰πà‰ªñÂ∞±ÂèØ‰ª•‰∏çÁÆ°ÂêéÈù¢ÁöÑ‰∏Ä‰ΩçÔºåÂèØ‰ª•Áõ¥Êé•ÂêéÁßª‰∏§‰ΩçÊù•Âà§Êñ≠„ÄÇÂΩì bits[i] ‰∏∫ 0 ÁöÑÊó∂ÂÄôÔºåÈÇ£‰πà‰ªñÂ∞±Âè™ËÉΩÊòØÂêëÂêéÁßªÂä®‰∏Ä‰Ωç‰∫Ü„ÄÇÊâÄ‰ª•ÁÆóÊ≥ïÂ¶Ç‰∏ãÔºö1234567int len=0;while(int len =0 &amp;&amp; len&lt; bits.length)&#123; len += bits[len] +1;&#125;if(len == bits.length)&#123; return true;&#125; Ëß£Ê≥ï‰∫åÔºö‰ªéÂêéÈÅçÂéÜÔºåÊâæÂá∫Á¨¨‰∏Ä‰∏™‰∏∫ 0 ÁöÑÔºåÂ¶ÇÊûúÁ¨¨‰∏Ä‰∏™‰∏∫0ÁöÑÊòØÊï∞ÁªÑÁöÑÂÄíÊï∞Á¨¨‰∫å‰ΩçÁöÑËØùÔºåÈÇ£‰πàÂ∞±ÊòØ true1234567int len =bits.length-2;while(len &gt;0 &amp;&amp; bits[len] &gt;0 )&#123; len --;&#125;if(len == bits.length -2)&#123; return true&#125; ‰ª•‰∏ä‰æøÊòØËøô‰∏§ÁßçËß£Ê≥ï‰∫ÜÔºåÂè™‰∏çËøáÂΩìÊó∂ËøòÊú™ÊÉ≥Âà∞„ÄÇ]]></content>
      <categories>
        <category>ÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>ÁÆóÊ≥ï</tag>
        <tag>Leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂØπÊï∞ÊçÆÂ∫ì‰∫ãÁâ©ÁöÑÁêÜËß£]]></title>
    <url>%2F2018%2F08%2F10%2F%E5%AF%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E7%89%A9%E7%9A%84%E7%90%86%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[‰ªÄ‰πàÊòØ‰∫ãÁâ©‰∫ãÁâ©ÈÄö‰øóÁöÑÊù•ËÆ≤Â∞±ÊòØÂ∞±ÊòØ‰∏ÄÁªÑÊìç‰Ωú‰∫ã‰ª∂ÔºåÂèØ‰ª•Á±ªÊØî‰∫éJavaÈáåÈù¢ÁöÑÂéüÂ≠êÊìç‰Ωú„ÄÇÂú®‰∏Ä‰∏™‰∫ãÁâ©‰∏≠ÔºåË¶Å‰πàÂÖ®ÈÉ®ÊàêÂäüÔºåË¶Å‰πàÂ∞±ÊòØÂÖ®ÈÉ®Â§±Ë¥•„ÄÇ mysql‰∏≠ÁöÑ‰∫ãÁâ©Âú®MysqlÁöÑinnodb‰∏≠Ôºå‰∫ãÁâ©ÁöÑÈªòËÆ§Á∫ßÂà´ÊòØ ÂèØÈáçÂ§çËØªÔºåÂú®ËØ•Á∫ßÂà´‰∏ãÔºå‰∫ãÁâ©ÂèØËÉΩÂá∫Áé∞ÂπªËØª„ÄÇÂá∫Áé∞ÂπªËØªÁöÑÊÉÖÂÜµÊòØËØ•ÂºïÊìé‰∏∫Ë°åÁ∫ßÈîÅÔºåÂØºËá¥mysqlÂú®ËøõË°å‰∏Ä‰∏™‰∫ãÁâ©ÁöÑÊó∂ÂÄôÂè™‰ºöÈîÅÂÆö‰∏éËØ•‰∫ãÁâ©ÊúâÂÖ≥ÁöÑÂá†Ë°å„ÄÇ Á§∫‰æãÂ¶Ç‰∏ãÔºöÊñ∞Âª∫‰∏Ä‰∏™Ë°®ÔºåÂÖ∂‰∏≠ÁöÑÊï∞ÊçÆÂ¶Ç‰∏ãÔºö123456789mysql&gt; select * from curd;+----+------+| id | name |+----+------+| 3 | 4 || 4 | 3 || 5 | 2 || 6 | 1 |+----+------+ ÂºÄÂêØ‰∏Ä‰∏™‰∫ãÁâ©Ôºö123456START TRANSACTION;SELECT * FROM curd;UPDATE curd SET curd.name='1000';SELECT * FROM curd;-- SELECT * FROM curd;-- COMMIT; Ê≠§Êó∂‰∏§Ê¨°Êü•ËØ¢ÁöÑÁªìÊûú‰∏∫Ôºö12345678910111213141516171819202122232425262728mysql&gt; START TRANSACTION;Query OK, 0 rows affected (0.00 sec)mysql&gt; SELECT * FROM curd;+----+------+| id | name |+----+------+| 3 | 4 || 4 | 3 || 5 | 2 || 6 | 1 |+----+------+4 rows in set (0.00 sec)mysql&gt; UPDATE curd SET curd.name='1000';Query OK, 4 rows affected (0.00 sec)Rows matched: 4 Changed: 4 Warnings: 0mysql&gt; SELECT * FROM curd;+----+------+| id | name |+----+------+| 3 | 1000 || 4 | 1000 || 5 | 1000 || 6 | 1000 |+----+------+4 rows in set (0.00 sec) Ê≠§Êó∂ÂèØ‰ª•ÁúãÂà∞ÔºåÂú®‰∫ãÁâ©‰∏ÄÊú™Êèê‰∫§‰πãÂâçÔºå‰∫ãÁâ©‰∏ÄÂÅö‰∫Ü‰∏Ä‰∏™ÂÖ®Ë°®ÁöÑÊõ¥Êñ∞ÔºåÂ∞ÜËØ•Ë°®ÁöÑÊï∞ÂÄºÂÖ®ÈÉ®Êõ¥Êñ∞‰∏∫1000‰∫Ü„ÄÇÁÑ∂ÂêéÂºÄÂêØ ‰∫ãÁâ©‰∫å1234567891011121314151617mysql&gt; START TRANSACTION;Query OK, 0 rows affected (0.00 sec)mysql&gt; SELECT * FROM curd;+----+------+| id | name |+----+------+| 3 | 4 || 4 | 3 || 5 | 2 || 6 | 1 |+----+------+4 rows in set (0.00 sec)mysql&gt; INSERT INTO curd(curd.id,curd.name) VALUES(7,'7');ERROR 1205 (HY000): Lock wait timeout exceeded; try restarting transaction-- Ê≥®ÊÑè‰ΩøÁî®win10ÁöÑÁÆ°ÁêÜÂëòcmd‰ºöÂç°Âú®Ëøô‰∏ÄË°åÔºå‰ΩÜÊòØ‰ΩøÁî®sqlyogÂ∞±‰∏ç‰ºöÔºåmysql‰ºöÂç°Âú®Ëøô‰∏ÄË°å ÂΩì‰∫ãÁâ©‰∫åÊâßË°åÂÆåËøô‰∏ÄÂè•‰πãÂêéÔºåÂõûÂà∞‰∫ãÁâ©‰∏ÄÔºåÁÑ∂ÂêéÊü•ËØ¢Ë°®Êï∞ÊçÆ„ÄÇ123456789101112-- ‰ΩøÁî®SqlyogÊñ∞Â¢û‰πãÂêéÁúãÂà∞ÁöÑÊï∞ÊçÆmysql&gt; SELECT * FROM curd;+----+------+| id | name |+----+------+| 3 | 1000 || 4 | 1000 || 5 | 1000 || 6 | 1000 || 7 | 7 |+----+------+4 rows in set (0.00 sec) Ê≠§Êó∂Â∞±ÊòØÂπªËØªÔºå‰∫ãÁâ©‰∏ÄÊòéÊòéÂ∞±Êõ¥Êñ∞‰∫Ü6Êù°Êï∞ÊçÆÔºå‰∏∫‰ªÄ‰πà‰ºöÂá∫Áé∞7Êù°Êï∞ÊçÆ„ÄÇ„ÄÇÁÑ∂Âêé‰∫ãÁâ©‰∏ÄÊèê‰∫§Ôºö12mysql&gt; commit;Query OK, 0 rows affected (0.01 sec) Ê≠§Êó∂Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆÂ∑≤ÁªèÂÖ®ÈÉ®Êõ¥Êñ∞Êàê1000Ôºå‰ΩÜÊòØÂú®‰∫ãÁâ©‰∫å‰∏≠Ôºö1234567891011mysql&gt; SELECT * FROM curd;+----+------+| id | name |+----+------+| 3 | 4 || 4 | 3 || 5 | 2 || 6 | 1 || 7 | 7 |+----+------+5 rows in set (0.00 sec) ËØ¥Êòé‰∏§‰∏™‰∫ãÁâ©‰πãÈó¥‰∏çËÉΩËØªÂèñÂÖ∂‰ªñ‰∫ãÁâ©Êú™Êèê‰∫§ÁöÑÊõ¥ÊîπÔºåÂπ∂‰∏îÂú®mysqlÁöÑËØ•Á∫ßÂà´‰∏ãÔºå‰∫ãÁâ©ÂºÄÂßãÂíåÁªìÊùüÁöÑÊó∂ÂÄôÊâÄËØªÂèñÁöÑÊï∞ÊçÆÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ Ê≠§Êó∂Êèê‰∫§‰∫ãÁâ©‰∫åÔºö1234567891011121314mysql&gt; commit;Query OK, 0 rows affected (0.00 sec)mysql&gt; SELECT * FROM curd;+----+------+| id | name |+----+------+| 3 | 1000 || 4 | 1000 || 5 | 1000 || 6 | 1000 || 7 | 7 |+----+------+5 rows in set (0.00 sec) ÂèØ‰ª•ÁúãÂà∞Ê≠§Êó∂Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆÂ∑≤ÁªèÂ¶ÇÊàê‰∏∫‰∫Ü‰∏äÈù¢ÊâÄÁ§∫‰∫Ü„ÄÇ ÂéüÁêÜÂÖ∑‰ΩìÊòØÂõ†‰∏∫mysqlÁöÑinnodb‰ΩøÁî®ÁöÑÊòØË°åÁ∫ßÈîÅÔºåËÄå‰∏îÂú®mysqlÁöÑÊØè‰∏Ä‰∏™Ë°®ÈáåÈù¢ÈÉΩ‰ºöÊúâ‰∏§‰∏™ÈöêËóèÁöÑÂàóÔºåÂàÜÂà´ÊòØÂàõÂª∫ÁöÑÊó∂ÂÄôÁâàÊú¨Âè∑ÂíåÂà†Èô§ÁöÑÊó∂ÂÄôÁöÑÁâàÊú¨Âè∑„ÄÇÊâÄ‰ª•ÊØè‰∏Ä‰∏™‰∫ãÁâ©ÊâßË°åÁöÑÊó∂ÂÄôÁöÑÁâàÊú¨Âè∑ÈÉΩ‰ºöË¢´ËØ•‰∫ãÁâ©Âè∑ÊâÄÊõ¥Êñ∞ÔºåÂõ†Ê≠§‰ºöÂØºËá¥ÊúâÁöÑ‰∫ãÁâ©Âú®ÊâßË°åÊúüÈó¥‰ºöÂØºËá¥ÁúãÂà∞‰∏çÂêåÁöÑÊï∞ÊçÆ„ÄÇ Ê≥®ÊÑèÁé∞Âú®mysql5.7Ë≤å‰ººÂ∑≤ÁªèËß£ÂÜ≥‰∫ÜÂπªËØª„ÄÇ„ÄÇÁî®ÂëΩ‰ª§Ë°åËøõË°åÊµãËØïÁöÑ„ÄÇ]]></content>
      <categories>
        <category>Êï∞ÊçÆÂ∫ì</category>
      </categories>
      <tags>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RabbitmqÂíåSpringboot‰∏ÄËµ∑‰ΩøÁî®ÁöÑÈóÆÈ¢ò]]></title>
    <url>%2F2018%2F08%2F04%2FRabbitmq%E5%92%8CSpringboot%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8%E7%9A%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[ÂàöÂàöÂáÜÂ§áÂú®Springboot‰∏≠‰ΩøÁî®rabbitmqÊù•ÂÆûÁé∞Êó•ÂøóÁöÑÊî∂ÈõÜÔºåÂú®‰ΩøÁî®‰∏≠Âá∫Áé∞‰∫Ü‰∏Ä‰∫õÈóÆÈ¢òÔºåÊâÄ‰ª•Âú®Ê≠§ËÆ∞ÂΩï‰∏ã„ÄÇ Ê∂àË¥πËÄÖÊé•Êî∂‰∏çÂà∞Ê∂àÊÅØËøô‰∏™ÈóÆÈ¢òÂá∫Áé∞ÁöÑÈóÆÈ¢òÔºå‰∏Ä‰∏™ÊòØÊ≤°ÊúâÂª∫Á´ã‰∏Ä‰∏™‰∫§Êç¢Êú∫ÔºåÂØºËá¥Áîü‰∫ßËÄÖÂú®Êé®ÈÄÅÊ∂àÊÅØÁöÑÊó∂ÂÄô‰ΩøÁî®ÁöÑAPIÊòØthis.amqpTemplate.convertAndSend(contet);,Áõ¥Êé•Â∞ÜÂÜÖÂÆπÊé®Âá∫ÂéªÔºå]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>rabbitmq</tag>
        <tag>spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetcodeÊ±Ç‰∫åÂèâÊ†ëÁöÑËäÇÁÇπÊúÄÂ∞èÁªùÂØπÂÄº]]></title>
    <url>%2F2018%2F07%2F25%2FLeetcode%E6%B1%82%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E8%8A%82%E7%82%B9%E6%9C%80%E5%B0%8F%E7%BB%9D%E5%AF%B9%E5%80%BC%2F</url>
    <content type="text"><![CDATA[‰∫åÂèâÊ†ëÁöÑ‰∏≠Â∫èÈÅçÂéÜÈ¢òÁõÆÂ¶Ç‰∏ã:1234567891011121314151617Given a binary search tree with non-negative values, find the minimum absolute difference between values of any two nodes.Example:Input: 1 \ 3 / 2Output:1Explanation:The minimum absolute difference is 1, which is the difference between 2 and 1 (or between 2 and 3). ÊÑèÊÄùÂ∞±ÊòØÈúÄË¶ÅÊ±ÇÂá∫‰∏Ä‰∏™‰∫åÂèâÊ†ë‰∏≠ÁªùÂØπÂÄºÊúÄÂ∞èÁöÑÂÄº„ÄÇ ÂàöÂºÄÂßãÁöÑÁ¨¨‰∏Ä‰∏™ÊÉ≥Ê≥ïÂ∞±ÊòØÈÄíÂΩíÔºåÁÑ∂ÂêéÊØîËæÉÂΩìÂâçËäÇÁÇπÂíåÂÖ∂Â∑¶Âè≥‰∏§‰∏™ËäÇÁÇπÁöÑÂÄºÔºå‰ΩÜÊòØÂèëÁé∞Êúâ‰∏Ä‰∏™Áº∫Èô∑Â∞±ÊòØÂ¶ÇÊûú‰∏Ä‰∏™Ê†πËäÇÁÇπÊòØ3ÔºåÂÖ∂Â∑¶ËäÇÁÇπÊòØ10Ôºå10ÁöÑÂè≥ËäÇÁÇπÊòØ4ÔºåÈÇ£‰πàÊúÄÂ∞èÁöÑÂÄº‰æøÊòØ1ÔºåÁÑ∂ÂêéÈÄöËøáÈÄíÂΩíÂè™ËÉΩÊòØ 10-3Ôºå10-4 „ÄÇÊâÄ‰ª•ÂΩìÊó∂Â∞±ÊîæÂºÉ‰∫Ü ‰∏≠Â∫èÈÄíÂΩíÂêéÊù•ÂèàÊÉ≥Âà∞‰∫Ü‰∏≠Â∫èÈÄíÂΩí‰æøÊòØËøôÁßçÈÅçÂéÜÈ°∫Â∫èÔºå‰πüÂ∞±ÊòØÈÄöËøá‰∏≠Â∫èÈÅçÂéÜÁöÑÊñπÂºè‰æøÂèØ‰ª•Ê≠£Á°ÆÁöÑÂæóÂá∫ÁªìÊûú‰∫Ü„ÄÇ‰ΩÜÊòØ‰∏ÄÁõ¥ÊÉ≥‰∏çÂá∫ËøôÁßçÊÉÖÂÜµÂ¶Ç‰ΩïËøõË°å‰∏≠Â∫èÊìç‰ΩúÔºå‰ΩÜÊòØÂú®ËÆ®ËÆ∫Âå∫ÂèëÁé∞‰∫Ü‰∏Ä‰∏™Ëß£Ê≥ïÂ¶Ç‰∏ãÔºö123456789101112131415int minDiff = Integer.MAX_VALUE;TreeNode prev;public int getMinimum(TreeNode root) &#123; inorder(root); return minDiff; &#125; public void inorder(TreeNode root) &#123; if (root == null) return; inorder(root.left); if (prev != null) minDiff = Math.min(minDiff, root.val - prev.val); prev = root; inorder(root.right); &#125; ÂêéÊù•ÂèëÁé∞Ëøô‰∏™ prev ÊâçÊòØËøô‰∏™‰∏≠Â∫èÈÅçÂéÜÁöÑÂÖ≥ÈîÆÔºåÂΩì‰∏Ä‰∏™ËäÇÁÇπÁöÑÂ∑¶ËäÇÁÇπÈÅçÂéÜÂÆå‰πãÂêéÔºå‰øùÂ≠òËØ•ËäÇÁÇπ‰∏∫ Prev ÁÑ∂Âêé‰∏é‰∏ã‰∏Ä‰∏™ËäÇÁÇπËøõË°åÊØîËæÉ„ÄÇ]]></content>
      <categories>
        <category>Leetcode</category>
      </categories>
      <tags>
        <tag>ÁÆóÊ≥ï</tag>
        <tag>Leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[leetcode‰∏ä‰∏ÄÈÅìÊ±ÇÂá∫Êï∞ÁªÑÂâç‰∏âÂ§ßÁöÑÊï∞Â≠ó]]></title>
    <url>%2F2018%2F07%2F25%2Fleetcode%E4%B8%8A%E4%B8%80%E9%81%93%E6%B1%82%E5%87%BA%E6%95%B0%E7%BB%84%E5%89%8D%E4%B8%89%E5%A4%A7%E7%9A%84%E6%95%B0%E5%AD%97%2F</url>
    <content type="text"><![CDATA[È¢òÁõÆÂ¶Ç‰∏ã:123456Given scores of N athletes, find their relative ranks and the people with the top three highest scores, who will be awarded medals: &quot;Gold Medal&quot;, &quot;Silver Medal&quot; and &quot;Bronze Medal&quot;.Input: [5, 4, 3, 2, 1]Output: [&quot;Gold Medal&quot;, &quot;Silver Medal&quot;, &quot;Bronze Medal&quot;, &quot;4&quot;, &quot;5&quot;]Explanation: The first three athletes got the top three highest scores, so they got &quot;Gold Medal&quot;, &quot;Silver Medal&quot; and &quot;Bronze Medal&quot;. For the left two athletes, you just need to output their relative ranks according to their scores. ‰πüÂ∞±ÊòØ‰∏Ä‰∏™‰π±Â∫èÁöÑÊï∞ÁªÑÔºåÁÑ∂ÂêéÂ∞ÜÊï∞ÁªÑ‰∏≠ÁöÑÂâç‰∏âÂ§ßÁöÑÊï∞ÁªÑÊç¢ÊàêÊåáÂÆöÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇÂÖ∂‰∏≠Êúâ‰∏Ä‰∏™Ëß£Ê≥ïÊòØÊØîËæÉÊúâÊñ∞ÊÑèÁöÑÔºåÂÖ∂ÊÄùË∑ØÂ¶Ç‰∏ãÔºö Âè¶Â§ñÂÜçÂºÄËæü‰∏Ä‰∏™Êï∞ÁªÑÔºåÁÑ∂ÂêéÊï∞ÁªÑÁöÑÈïøÂ∫¶ÊòØÂéüÊï∞ÁªÑ‰∏≠Êï∞Â≠óÊúÄÂ§ßÁöÑÈÇ£‰∏™ÂÄºÔºåÈÇ£‰πàÂú®ËøõË°åÈÅçÂéÜÁöÑÊó∂ÂÄôÔºåÊñ∞Âª∫ÁöÑÊï∞ÁªÑ‰∏≠ÊúÄÂêé‰∏â‰ΩçËÇØÂÆöÊòØÊúÄÂ§ßÁöÑÔºåÁÑ∂Âêé‰æùÊ¨°Â∞ÜÂÖ∂ÂéüÁ¥¢ÂºïÊâæÂá∫Êù•Âç≥ÂèØ„ÄÇ ÂÖ∑‰ΩìÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ã:12345678910111213141516171819202122232425262728293031public String[] findRelativeRanks(int[] nums) &#123; String[] s =new String[nums.length]; int max =0; for(int i : nums)&#123; if(i&gt; max)&#123; max= i; &#125; &#125; int[] index =new int[max+1]; for(int i =0 ;i&lt; nums.length ;i++)&#123; index[nums[i]] =i+1; //Âú®ËøôÈáåÂä†‰∏ÄÊòØÂõ†‰∏∫Â¶ÇÊûú‰∏çÂä†‰∏ÄÈÇ£‰πàÁ¨¨‰∏Ä‰∏™Á¥¢ÂºïÁöÑÊï∞ÁªÑ‰πãÂú®indexÈáåÈù¢‰ºöÊòØ0Ôºå‰∏çÂ•ΩÂå∫ÂàÜ„ÄÇ &#125; int place=1; for(int i =index.length-1 ;i&gt;=0 ;i--)&#123; if(index[i] !=0 )&#123; if(place ==1 )&#123; s[index[i] -1]="Gold Medal"; &#125;else if(place ==2)&#123; s[index[i] -1]="Silver Medal"; &#125;else if(place ==3)&#123; s[index[i] -1]="Bronze Medal"; &#125;else&#123; s[index[i] -1]=String.valueOf(place); &#125; place++; &#125; &#125; return s; &#125;]]></content>
      <categories>
        <category>Leetcode</category>
      </categories>
      <tags>
        <tag>ÁÆóÊ≥ï</tag>
        <tag>Leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mavenÂíåjson‰ª•ÂèäspringÁöÑ‰∏Ä‰∫õÈóÆÈ¢ò]]></title>
    <url>%2F2018%2F07%2F18%2Fmaven%E5%92%8Cjson%E4%BB%A5%E5%8F%8Aspring%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[mavenÂíåIDEAÁöÑ‰∏Ä‰∏™ÈóÆÈ¢òÂú® IDEA ‰∏≠ÂèØ‰ª•Ê≠£Â∏∏‰ΩøÁî®mavenÁöÑ‰∏Ä‰∫õÂëΩ‰ª§Êù•ËøõË°å clean Âíå complime Ôºå‰ΩÜÊòØÂú®‰ΩøÁî®IDEAÁöÑbuildÂäüËÉΩÊó∂‰∏ÄÁõ¥ÊèêÁ§∫Êüê‰∫õÂåÖÊâæ‰∏çÂà∞ÔºåËß£ÂÜ≥ÂäûÊ≥ïÔºöÊâßË°å mvn clean ÂëΩ‰ª§Ê∏ÖÈô§ÁºìÂ≠òÔºåÁÑ∂ÂêéÂà†Èô§ .idea Ëøô‰∏™Êñá‰ª∂Â§π‰∏≠ÁöÑÊñá‰ª∂ Â¶ÇÊûúËøòÊòØËß£ÂÜ≥‰∏ç‰∫ÜÂàôÂèØ‰ª•Áõ¥Êé•Êç¢‰∏Ä‰∏™ maven ÔºåÊúÄÂ•ΩÁöÑËß£ÂÜ≥ÂäûÊ≥ïÂàôÊòØÊØè‰∏Ä‰∏™È°πÁõÆÔºå‰∏Ä‰∏™ maven„ÄÇ ÈòøÈáåÁöÑJsonÂåÖÂíåÂØπË±°‰πãÈó¥ÁöÑËΩ¨Êç¢‰ªäÂ§©Êúâ‰∏Ä‰∏™Êñ∞ÁöÑÈúÄÊ±ÇÊòØÂ∞Ü‰∏Ä‰∏™ Json Â≠óÁ¨¶‰∏≤ËΩ¨Êç¢Êàê‰∏Ä‰∏™JsonÂØπË±°ÔºåÊ≠§Êó∂ÂèØ‰ª•Ë∞ÉÁî®JSON.parseObject( new TypeReference(XXX),json‰∏≤)Êù•ËÆ≤‰∏Ä‰∏™ Json Â≠óÁ¨¶‰∏≤ËΩ¨‰∏∫‰∏Ä‰∏™ÂØπË±° spring‰∏≠ËØªÂèñÈÖçÁΩÆÊñá‰ª∂Áõ∏ÂÖ≥ÁöÑÈóÆÈ¢òÂú® spring ‰∏≠ÂèØ‰ª•ÈÄöËøá @Value Ëøô‰∏™Ê≥®Ëß£Êù•Ëé∑ÂèñÂà∞ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑ‰∏Ä‰∫õÈÖçÁΩÆÔºå‰ΩÜÊòØËÆ∞‰Ωè‚Ä¶.‰∏çË¶ÅÂÜç‰ΩøÁî® new ÂÖ≥ÈîÆÂ≠óÊù•ÂÜçÂàùÂßãÂåñ]]></content>
      <categories>
        <category>Â∑•ÂÖ∑</category>
      </categories>
      <tags>
        <tag>spring</tag>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[maven‰∏ãËΩΩÂø´ÁÖßÁöÑÈóÆÈ¢ò]]></title>
    <url>%2F2018%2F07%2F17%2Fmaven%E4%B8%8B%E8%BD%BD%E5%BF%AB%E7%85%A7%E7%9A%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[‰ªäÂ§©Âú®‰ΩøÁî®maven‰∏ãËΩΩ‰∏Ä‰∏™Âø´ÁÖßÊñá‰ª∂ÁöÑÊó∂ÂÄôÔºåÂè™Âú® settings.xml Êñá‰ª∂‰∏≠ÈÖçÁΩÆ‰∫ÜÈïúÂÉèÊ∫êÔºåÂπ∂Ê≤°ÊúâÈÖçÁΩÆ release ÁâàÊú¨Âíå snapshoot ÁâàÊú¨,ÊâÄ‰ª•Â∞±ÂØºËá¥‰∫ÜÂú®‰∏ãËΩΩÂø´ÁÖßÊñá‰ª∂ÁöÑÊó∂ÂÄô‰∏ÄÁõ¥Âá∫Áé∞ÈóÆÈ¢òÔºöMissing artifact Â§ßÊÑèÂ∞±ÊòØËØ¥Êâæ‰∏çÂà∞Ëøô‰∏™jarÁöÑpomÊñá‰ª∂Âï•ÁöÑÔºåÁÑ∂ÂêéÁúã‰∫Ü‰∏ãÊú¨Âú∞ÁöÑ‰ªìÂ∫ìÔºå‰πüÂπ∂Ê≤°ÊúâÁúãÂà∞‰∏ãËΩΩÁöÑÊñá‰ª∂Â§π„ÄÇ Ëß£ÂÜ≥ÂäûÊ≥ïÔºöÂú® pom.xml ‰∏≠ËÆæÁΩÆÂø´ÁÖßÁöÑ‰∏ãËΩΩÂú∞ÂùÄÔºåÈÖçÁΩÆÂ¶Ç‰∏ãÔºö12345678910&lt;repositories&gt; &lt;repository&gt; &lt;id&gt;‰ªìÂ∫ìÁöÑID&lt;/id&gt; &lt;!-- &lt;name&gt;Spring Milestones&lt;/name&gt; --&gt; Â¶ÇÊûúÊ≤°ÊúâÂèØ‰ª•ÂøΩÁï• &lt;url&gt;https://repo.spring.io/libs-milestone&lt;/url&gt; Âø´ÁÖß‰ªìÂ∫ìÁöÑURL &lt;snapshots&gt; &lt;enabled&gt;true&lt;/enabled&gt; ÊâìÂºÄÈïúÂÉè &lt;/snapshots&gt; &lt;/repository&gt;&lt;/repositories&gt; ÊúÄÂêéËß£ÂÜ≥‰∫ÜÔºåÂ¶ÇÊûú‰∏∫‰∫ÜÊñπ‰æøÔºåÂÖ∂ÂÆûÂèØ‰ª•Âú® settings.xml ‰∏≠Áõ¥Êé•ÈÖçÁΩÆÔºå‰ª•ÂáèÂ∞ëÂêéÊúüÂ§ö‰∏™pom.xmlÈÖçÁΩÆÁöÑÈ∫ªÁÉ¶]]></content>
      <categories>
        <category>Â∑•ÂÖ∑</category>
      </categories>
      <tags>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Leetcode‰∏ä‰∏§ÈÅìÊØîËæÉÂ•ΩÁöÑBFSÂíåDFSÈ¢òÁõÆ]]></title>
    <url>%2F2018%2F06%2F14%2FLeetcode%E4%B8%8A%E4%B8%A4%E9%81%93%E6%AF%94%E8%BE%83%E5%A5%BD%E7%9A%84BFS%E5%92%8CDFS%E9%A2%98%E7%9B%AE%2F</url>
    <content type="text"><![CDATA[È¶ñÂÖàÊòØLeetcode‰∏ä‰∏§ÈÅìÊØîËæÉÂ•ΩÁöÑ‰∏Ä‰∏™È¢òÁõÆÔºåÂàÜÂà´Â¶Ç‰∏ãÔºö https://leetcode.com/problems/letter-case-permutation/description/ Letter Case Permutation https://leetcode.com/problems/max-area-of-island/description/ Max Area of Island ÂÖ≥‰∫éÂ≠óÁ¨¶‰∏≤ÁöÑÈÇ£‰∏ÄÈ¢ò‰æøÊòØÂ∞Ü‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÈáåÈù¢ÁöÑ‰ªªÊÑè‰∏Ä‰∏™Â≠óÁ¨¶ËøõË°åÂ§ßÂ∞èÂÜôÁöÑÂèòÊç¢ÔºåÊ≠§È¢òÊúâ‰∏§ÁßçËß£Ê≥ïÔºå‰∏ÄÁßçÊòØ BFS ÊåâÁÖßÂ≠óÁ¨¶Á™ú‰∏≠ÁöÑÂ≠óÁ¨¶ÈÅçÂéÜÔºåÂ∞ÜÂÖ∂ÂèòÊàêÂ§ßÂ∞èÂÜôÔºåÁÑ∂ÂêéÂ≠òÂÖ•Ê†à‰∏≠ÔºåÊúÄÂêé‰æøÊØè‰∏ÄÊ¨°ÂêëÂêéËø≠‰ª£ÔºåÁÑ∂ÂêéÂÜçÂ≠òÂÖ•Âç≥ÂèØ„ÄÇÂè¶‰∏ÄÁßçÂàôÊòØ DFS ÔºåÈÄöËøá‰∏ÄÁßç‰∏çÊñ≠ÈÄíÂΩíÁöÑÊñπÂºèÊù•ËøõË°åÂ§ßÂ∞èÂÜôÁöÑÂèòÊç¢ÁöÑÔºåÂíåÁà¨Ê•ºÊ¢ØÁöÑÈÇ£‰∏™ÁÆóÊ≥ïÊûÅÂÖ∂Á±ª‰ºº Â≠óÁ¨¶‰∏≤Â≠óÁ¨¶‰∏≤ÁöÑBFS‰º™‰ª£Á†ÅÔºö12345678910Stack &lt;- stack;for i -&gt; S.length()&#123; if(i is char)&#123; stack.pop() -&gt; y; y[i] &lt;- Upper stack.push(y[i]); y[i] &lt;- Lower stack.push(y[i]); &#125;&#125; Âú®Ëøô‰∏™‰ª£Á†ÅÁöÑÂÜôÊ≥ï‰∏≠ÔºåÈááÂèñÁöÑÊòØÂπøÂ∫¶ÊúâÈôêÈÅçÂéÜÔºåÂç≥Âú®‰∏Ä‰∏™Âπ≥Èù¢‰∏äÂ±ïÂºÄÔºåËÄå‰∏çÊòØÊ∑±ÂÖ•Âà∞Ëøô‰∏™Â≠óÁ¨¶ÁöÑ Â≠óÁ¨¶‰∏≤ÁöÑDFS‰º™‰ª£Á†Å:1234567891011121314151617List &lt;- list ;char[] c &lt;- S.toCharArray();fun change(list,index)&#123;if( index = S.length())&#123; list.add(S); return;&#125;if(c[index] is not char)&#123; change(list,index+1);&#125;char[] temp &lt;- S.toCharArray();temp[index] &lt;- UpperCase;change(list,index+1);temp[index] &lt;- Lower;change(list,index+1);&#125; ÂÖ≥‰∫éËøô‰∏§‰∏™ÁÆóÊ≥ïÁöÑÂ∑ÆÂºÇ‰∏Ä‰∏™ÊòØ‰ªéÂπøÂ∫¶ÂÄüÂä©È¢ùÂ§ñÁöÑÂ≠òÂÇ®Á©∫Èó¥Êù•ËøõË°åÂ§ßÂ∞èÂÜôÁöÑÂèòÊç¢ÔºåËÄåÂè¶‰∏Ä‰∏™ÂàôÊòØÈÄöËøáÈÄíÂΩíÂ∞ÜËøô‰∏™Â≠óÁ¨¶‰∏≤‰ªéÂ∞æÂà∞Â§¥ÁöÑËøõË°åÂ§ßÂ∞èÂÜôÁöÑÂèòÂåñ„ÄÇ ÊúÄÂ§ßÂ≤õÂ±øÈù¢ÁßØÁöÑDFSÈ¢òÊÑèÂ∞±ÊòØ‰ªéÁªôÂÆöÁöÑ‰∫åÁª¥Êï∞ÁªÑ‰∏≠ÊâæÂá∫Êï∞Â≠ó‰∏∫ 1 ÁöÑÔºåÂπ∂‰∏îË¶ÅÊ±ÇÂÆÉ‰ª¨‰πãÈó¥‰∏çËÉΩÊúâÈó¥ÈöôÔºåÊâÄ‰ª•Ëøô‰∏ÄÈ¢òÊòØÊØîËæÉÈÄÇÂêà DFS ÁöÑËß£Ê≥ïÔºåÂÖ∂Á±ª‰ºº‰∫é‰∏äÊ•ºÊ¢ØÁöÑÈÇ£‰∏ÄÈÅìÈ¢òÁõÆÔºå‰∏äÊ•ºÊ¢ØÂ∞±ÊòØ‰∏Ä‰∏™ÈÄíÂΩíÔºåÊääÊØè‰∏ÄÊ¨°ÁöÑÊ≠•Êï∞ÁΩóÂàóÂá∫Êù•„ÄÇ Èù¢ÁßØÈ¢òÁõÆÁöÑDFS‰º™‰ª£Á†Å:12345678boolean[][] &lt;- xfun getMaxArea(int[][] a, x,int xIndex, int yIndex )&#123; if( xIndex &lt; 0 ,yINdex&lt;0 , xINdex&lt;a.length, yINdex&lt;a[0].length)&#123; return 0; &#125; x &lt;- true; return 1 + getMaxArea(a,x,xIndex+1,yIndex)+getMaxArea(a,x,xIndex,yIndex+1) + getMaxArea(a,x,xIndex-1,yIndex) getMaxArea(a,x,xIndex,yIndex-1)&#125;]]></content>
      <categories>
        <category>Leetcode</category>
      </categories>
      <tags>
        <tag>ÁÆóÊ≥ï</tag>
        <tag>Leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringCloudÈÖçÁΩÆ‰∏≠ÂøÉÁöÑ‰ΩøÁî®]]></title>
    <url>%2F2018%2F06%2F11%2FSpringCloud%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[Âú®ÂÆûÈôÖÁöÑÂºÄÂèëËøáÁ®ã‰∏≠ÔºåÂæàÂèØËÉΩ‰ºöÊ∂âÂèäÂà∞ÂæàÂ§öÁöÑÂºÄÂèëÁéØÂ¢ÉÔºåÂ∏∏ËßÅÁöÑ‰æãÂ¶Ç dev , product Á≠âÔºåÂú®‰ΩøÁî®SpringCloudÁöÑÊó∂ÂÄôÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆ‰∏≠ÂøÉÂæÆÊúçÂä°ÔºåÁªìÂêà Git ÁÆ°ÁêÜÂ∑•ÂÖ∑ÂÆûÁé∞ÈÖçÁΩÆÁöÑÈõÜ‰∏≠ÂºèÁÆ°ÁêÜ„ÄÇ ÈÖçÁΩÆ‰∏≠ÂøÉconfigÈÖçÁΩÆ‰∏≠ÂøÉÁöÑymlÊñá‰ª∂Ôºö123456789101112131415spring: application: name: sc-config cloud: config: server: git: uri: $&#123;GitAddress:https://gitee.com/somersames/spring-cloud-demo-config&#125; search-paths: $&#123;GitPath:dev&#125;eureka: client: service-url: defaultZone: http://$&#123;EurekaHost:localhost&#125;:$&#123;EurekaPort:8081&#125;/eureka/server: port: 8888 ËøôÈáåÁöÑ ${A:B} ÈÖçÁΩÆË°®Á§∫ÁöÑÊòØÂ¶ÇÊûú A Ëé∑Âèñ‰∏çÂà∞Â∞±Âèñ B ÁöÑÂÄº„ÄÇsearch-paths ÂàôÊòØ‰ª£Ë°®‰ªéÂì™‰∏™Êñá‰ª∂Â§π‰∏≠Ëé∑ÂèñÈÖçÁΩÆÊñá‰ª∂ÔºåÂèØ‰ª•‰ΩøÁî® , Êù•ËøõË°åÂàÜÂâ≤„ÄÇÁÑ∂ÂêéÂú®ÂêØÂä®Á±ª‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÂá†‰∏™Ê≥®Ëß£Ôºå‰∏Ä‰∏™ÈÖçÁΩÆ‰∏≠ÂøÉÁöÑÂæÆÊúçÂä°‰æøÂºÄÂêØ‰∫Ü„ÄÇ123456789@SpringBootApplication@EnableConfigServer@EnableAutoConfiguration@EnableEurekaClientpublic class ConfogApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(ConfogApplication.class); &#125;&#125; Ëé∑ÂèñÈÖçÁΩÆ‰∏≠ÂøÉÁöÑÈÖçÁΩÆÂΩìÂÖ∂‰ªñÂá†‰∏™ÂæÆÊúçÂä°ÈúÄË¶ÅÈÄöËøáÈÖçÁΩÆ‰∏≠ÂøÉËé∑ÂèñÈÖçÁΩÆÊñá‰ª∂ÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÊ∑ªÂä†‰∏Ä‰∫õÈÖçÁΩÆÊñá‰ª∂ÊâçÂèØ‰ª•„ÄÇ123456789101112spring: profiles: active: master application: name: sc-auth cloud: config: discovery: service-id: sc-config #Ê≥®ÂÜå‰∏≠ÂøÉÁöÑServiceId enabled: true label: master #Ë°®Á§∫ÁöÑÊòØÂàÜÊîØ profile: config #Ë°®Á§∫ÁöÑÊòØ‰∏Ä‰∏™Ê†áÁ≠æ ÈÇ£‰πàËøô‰∏™ÂæÆÊúçÂä°Âú®ÊãâÂèñÈÖçÁΩÆÊñá‰ª∂ÁöÑÊó∂ÂÄôÂ∞±‰ºöÊãâÂèñ sc-auth-config.yml ÁöÑÈÖçÁΩÆ]]></content>
      <categories>
        <category>Spring Cloud</category>
      </categories>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>springcloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HashMapÂæó‰∏ÄÁÇπÊÄªÁªì]]></title>
    <url>%2F2018%2F06%2F06%2FHashMap%E5%BE%97%E4%B8%80%E7%82%B9%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[HashMapp‰∏∫‰ªÄ‰πàÂú®HashÁöÑÊó∂ÂÄôÂáè1Âú®JavaÁöÑHashmap‰∏≠ÊúâÂ¶Ç‰∏ã‰ª£Á†ÅÔºö12345678910111213141516171819final Node&lt;K,V&gt; getNode(int hash, Object key) &#123; Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n; K k; if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp; (first = tab[(n - 1) &amp; hash]) != null) &#123; if (first.hash == hash &amp;&amp; // always check first node ((k = first.key) == key || (key != null &amp;&amp; key.equals(k)))) return first; if ((e = first.next) != null) &#123; if (first instanceof TreeNode) return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key); do &#123; if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) return e; &#125; while ((e = e.next) != null); &#125; &#125; return null; &#125; ‰∏äÈù¢Êúâ‰∏ÄË°åÊòØ first = tab[(n - 1) &amp; hash]) != null HashMap‰∏∫‰ªÄ‰πàÂú®‰º†ÂÖ•Âè¶‰∏Ä‰∏™MapÊó∂Âä†‰∏Ä12345678910111213141516171819final void putMapEntries(Map&lt;? extends K, ? extends V&gt; m, boolean evict) &#123; int s = m.size(); if (s &gt; 0) &#123; if (table == null) &#123; // pre-size float ft = ((float)s / loadFactor) + 1.0F; int t = ((ft &lt; (float)MAXIMUM_CAPACITY) ? (int)ft : MAXIMUM_CAPACITY); if (t &gt; threshold) threshold = tableSizeFor(t); &#125; else if (s &gt; threshold) resize(); for (Map.Entry&lt;? extends K, ? extends V&gt; e : m.entrySet()) &#123; K key = e.getKey(); V value = e.getValue(); putVal(hash(key), key, value, false, evict); &#125; &#125; &#125; Âú®ËøôÈáåÂä†‰∏ÄÁöÑÁõÆÁöÑÊó∂Âêë‰∏äÂèñÊï¥ÔºåÂÅáËÆæ s=10 ÔºåÈÇ£‰πà‰πò‰ª•0.75‰πãÂêé‰æøÊòØ7.5ÔºåÂä†‰∏Ä‰πãÂêéÂÜçÂèñÊï¥Ôºå‰æøÊòØÊúÄÊÅ∞ÂΩìÁöÑÂ≠òÂÇ®‰∏™Êï∞‰∫Ü„ÄÇ‰∏ãÈù¢ÁöÑÂà§Êñ≠ÂàôÊòØËØ¥ÂΩìÂâçÁöÑmapÂ∑≤ÊúâÁöÑkeyÁöÑÊï∞ÈáèÊòØÂê¶ËææÂà∞‰∫ÜÊâ©ÂÆπÁöÑÂøÖË¶Å„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÊâ©ÂÆπÁöÑËØùÔºåÂàôÊòØÁõ¥Êé•Âá∫ÂèëÊâ©ÂÆπÂáΩÊï∞„ÄÇ HashMapÈÄöËøá‰∏Ä‰∏™ÈîÆÊù•Ëé∑ÂèñÂÄº123456789101112131415161718192021222324public V get(Object key) &#123; Node&lt;K,V&gt; e; return (e = getNode(hash(key), key)) == null ? null : e.value; &#125; final Node&lt;K,V&gt; getNode(int hash, Object key) &#123; Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n; K k; if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp; (first = tab[(n - 1) &amp; hash]) != null) &#123; if (first.hash == hash &amp;&amp; // always check first node ((k = first.key) == key || (key != null &amp;&amp; key.equals(k)))) return first; if ((e = first.next) != null) &#123; if (first instanceof TreeNode) return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key); do &#123; if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) return e; &#125; while ((e = e.next) != null); &#125; &#125; return null; &#125; ÂÖ∂‰∏ªË¶ÅÊòØÈÄöËøá get(object key) ÁÑ∂ÂêéÂÜçHashËøô‰∏™keyÔºåÊúÄÂêéÈÄöËøáhashÁöÑkeyÊù•Ëé∑ÂèñÂÖ∂ÂÄº„ÄÇÂΩìËé∑ÂèñÂà∞ hash ÁöÑ key ‰πãÂêéÂÜçÈÄöËøátab[(n - 1) &amp; hashÊù•Ëé∑Âèñ‰øùÂ≠òÁöÑ‰ΩçÁΩÆÔºåÂΩìÂèëÁé∞ËØ•‰ΩçÁΩÆ‰∏∫ null ÁöÑÊó∂ÂÄô‰æøÁõ¥Êé•ËøîÂõû nullÔºåËã•‰∏çÊòØ null ÂàôÂà§Êñ≠Á¨¨‰∏Ä‰∏™‰ΩçÁΩÆÁöÑÈîÆÁöÑ hash ÂÄºÊòØ‰∏çÊòØË¶ÅËé∑ÂèñÁöÑ key ÁöÑ hash Áõ∏ÂêåÔºåÊòØÁöÑËØù‰æøËøîÂõûÁ¨¨‰∏Ä‰∏™ËäÇÁÇπÔºå‰∏çÊòØÁöÑËØùÂ∞±Ê¨ßÂÆâÊÆµÈìæË°®ÁöÑ‰∏ã‰∏Ä‰∏™ÊòØ‰∏çÊòØ nullÔºåÂ¶ÇÊûú‰∏çÊòØÁöÑËØùÂ∞±Âà§Êñ≠Á¨¨‰∏Ä‰∏™ËäÇÁÇπÁöÑ‰∏ã‰∏Ä‰∏™ËäÇÁÇπÊòØ‰∏çÊòØÁ∫¢ÈªëÊ†ëÔºåÊòØÁöÑËØùÁõ¥Êé•Ë∞ÉÁî®Á∫¢ÈªëÊ†ëÁöÑÊü•ËØ¢ÊñπÊ≥ïÔºåÁÑ∂ÂêéËøîÂõûÂç≥ÂèØ„ÄÇËøôÈáåÁöÑÂÅöÊ≥ïÊòØËÆ© table Á¨¨‰∏Ä‰∏™ËäÇÁÇπÁöÑ next ÊåáÂêëÁ∫¢ÈªëÊ†ëÁöÑÂ§¥ËäÇÁÇπÊàñËÄÖÊåáÂêëÈìæË°®ÁöÑ‰∏ã‰∏Ä‰∏™ËäÇÁÇπ„ÄÇ HashMapÊîæÂÖ•ÈîÆÂíåÂÄº123456789101112131415161718192021222324252627282930313233343536373839404142final V putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict) &#123; Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i; if ((tab = table) == null || (n = tab.length) == 0) n = (tab = resize()).length; if ((p = tab[i = (n - 1) &amp; hash]) == null) tab[i] = newNode(hash, key, value, null); else &#123; Node&lt;K,V&gt; e; K k; if (p.hash == hash &amp;&amp; ((k = p.key) == key || (key != null &amp;&amp; key.equals(k)))) e = p; else if (p instanceof TreeNode) e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value); else &#123; for (int binCount = 0; ; ++binCount) &#123; if ((e = p.next) == null) &#123; p.next = newNode(hash, key, value, null); if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st treeifyBin(tab, hash); break; &#125; if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) break; p = e; &#125; &#125; if (e != null) &#123; // existing mapping for key V oldValue = e.value; if (!onlyIfAbsent || oldValue == null) e.value = value; afterNodeAccess(e); return oldValue; &#125; &#125; ++modCount; if (++size &gt; threshold) resize(); afterNodeInsertion(evict); return null; &#125; È¶ñÂÖàËøòÊòØ‰∏ÄÊ†∑ÔºåÂà§Êñ≠ tab ÁöÑÈïøÂ∫¶ÊòØÂê¶ÊòØ0ÔºåÊòØÁöÑËØùÂ∞±ÂàùÂßãÂåñ tableÔºåÁÑ∂ÂêéÈÄöËøáhashÂá∫Êù•ÁöÑÂÄº‰∏é table ÁöÑÈïøÂ∫¶ËøõË°å‰∏éËøêÁÆóÔºåÊâæÂá∫ÊúÄÂêàÈÄÇÂ≠òÊîæËØ•keyÁöÑ‰ΩçÁΩÆÔºåÂ¶ÇÊûú‰∏∫ null ,ÂàôÂ≠òÂÖ•„ÄÇÁÑ∂ÂêéÂà§Êñ≠hashÊòØÂê¶Áõ∏ÂêåÔºåÂè¶Â§ñkeyÊòØÂê¶Áõ∏ÂêåÔºåÊòØÁöÑËØùË∑≥Âá∫ifÔºåÁÑ∂ÂêéÂà§Êñ≠ÂΩìÂâçËäÇÁÇπÊòØÂê¶‰∏∫nullÔºåÊòØÁöÑËØùÂ∞±ÊâßË°å afterNodeAccess Â∞ÜËØ•ËäÇÁÇπÁßªÂä®Âà∞Êú´Â∞æ„ÄÇÂ¶ÇÊûúÂèëÁé∞ p ÊòØ‰∏Ä‰∏™Ê†ëËäÇÁÇπÁöÑËØùÔºåÈÇ£‰πàÁõ¥Êé•Ë∞ÉÁî®Ê†ëÁöÑÂ≠òÂÖ•ÊñπÊ≥ïÂç≥ÂèØÔºå‰∏çÊòØÁöÑËØùÂ∞±Ë∞ÉÁî®ÂçïÈìæË°®ÁöÑÊñπÊ≥ïËøõË°åÊèíÂÖ•Âç≥ÂèØ„ÄÇÊúÄÂêéËøò‰ºöÂà§Êñ≠ÊòØÂê¶ËææÂà∞‰∫ÜÈìæË°®ËΩ¨Ê†ëÁöÑÈòàÂÄºÔºåËææÂà∞‰∫ÜÂ∞±ÂèØ‰ª•ËΩ¨‰∫Ü„ÄÇ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Êï∞ÊçÆÁªìÊûÑ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nettyÁöÑ‰∏Ä‰∫õÊ¶ÇÂøµ]]></title>
    <url>%2F2018%2F05%2F31%2Fnetty%E7%9A%84%E4%B8%80%E4%BA%9B%E6%A6%82%E5%BF%B5%2F</url>
    <content type="text"><![CDATA[ËøôÈáåÈù¢ÁöÑÈÉ®ÂàÜÊ¶ÇÂøµÂèÇËÄÉ‰∫Ü„ÄäApress JavaI.O . NIO and NIO2„Äã BufferNIOÁöÑ‰∏Ä‰∫õÊìç‰ΩúÂü∫Á°ÄÂ∞±ÊòØBuffer ChannelsÂÆÉÁöÑÂÖ∑‰Ωì‰ΩúÁî®ÊòØÂ∏ÆÂä© DMA Âø´ÈÄüÁöÑ‰ªéÁ°¨Áõò‰∏äËé∑ÂèñÂíåÂÜôÂÖ•Êï∞ÊçÆ SelectorÈÄâÊã©Âô®ÔºåÁõÆÁöÑÊòØÂú®ÂºÇÊ≠•Ê®°Âºè‰∏≠ÂèØ‰ª•ÈÄöËøá‰∏Ä‰∏™Á∫øÁ®ãÊù•ÂÆûÁé∞Âì™‰∫õIOÊìç‰ΩúÂ∑≤ÁªèÂÆåÊàê‰∫Ü„ÄÇ]]></content>
      <categories>
        <category>Netty</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Netty</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[angular‰∏≠‰ΩøÁî®Service]]></title>
    <url>%2F2018%2F05%2F30%2Fangular%E4%B8%AD%E4%BD%BF%E7%94%A8Service%2F</url>
    <content type="text"><![CDATA[‰ªäÂ§©‰ΩøÁî® Angular ÁöÑÊó∂ÂÄôÔºåÁúãÂà∞‰π¶‰∏≠Â∞ÅË£Ö‰∫ÜËá™Â∑±Âæó‰∏Ä‰∏™ LoggerService ÔºåÁÑ∂ÂêéËá™Â∑±‰πüÊÉ≥Â∞ùËØï‰∏ãÔºåÈ°∫‰æø‰πüÂÜô‰∏ãËøô‰∏™ËÆ∞ÂΩï„ÄÇ Êñ∞Âª∫‰∏Ä‰∏™ServiceÂæótsÊñá‰ª∂Âú® app ÁõÆÂΩï‰∏ãÂª∫Á´ã‰∏Ä‰∏™ ts Êñá‰ª∂ÔºåÂ¶Ç‰∏ãÔºö1234567891011export class LoggerService&#123; info(msg : any) &#123; console.log(msg); &#125; warn(msg: any)&#123; console.warn(msg); &#125; error(msg: any)&#123; console.error(msg); &#125;&#125; Ëøô‰∏™Á±ªÂ∞±ÊòØÂ∞ÅË£Ö‰∫Ü‰∏ÄÂ±ÇÊó•ÂøóÊâìÂç∞ÂæóÂáΩÊï∞ÔºåÂΩìÁÑ∂Âú®ËøôÈáå‰πüÂèØ‰ª•Â∞ÅË£Ö‰∏Ä‰∫õÂÖ∂‰ªñÂæóÂáΩÊï∞„ÄÇ Â∞ÜÊîπÊúçÂä°Ê∑ªÂä†Ëá≥module‰øÆÊîπ app.module.ts Êñá‰ª∂ÔºåÂ∞ÜËøô‰∏™Êó•ÂøóÊúçÂä°Âä†ÂÖ•Âà∞ app.module.ts Ëøô‰∏™Êñá‰ª∂‰∏≠„ÄÇ123import &#123; LoggerService &#125; from './loggerService';providers: [PersonService,LoggerService], Âú®ÁªÑ‰ª∂‰∏≠‰ΩøÁî®Â¶ÇÊûúÈúÄË¶ÅÂú®ÁªÑ‰ª∂‰∏≠‰ΩøÁî®Ëøô‰∏™ÊúçÂä°ÁöÑËØùÔºåÂèØ‰ª•Áõ¥Êé•Âú®ÁªÑ‰ª∂Âæó Component ‰∏≠ import Âç≥ÂèØ„ÄÇ12345678910111213import &#123; LoggerService &#125; from '../loggerService'//ÁÑ∂ÂêéÂú®ÊûÑÈÄ†ÂáΩÊï∞‰∏≠Âä†ÂÖ• constructor(private personService :PersonService,private logger: LoggerService) &#123;&#125;// ÊúÄÂêéÊñπÊ≥ï‰∏≠‰ΩøÁî®Ôºö printItem()&#123; console.log(this.item) this.logger.info("LoggerÊúçÂä°ÂæóÊó•Âøó"); this.emitor.emit("ÊµãËØïÂõûÂèëÊï∞ÊçÆ") &#125; ÁªìÊùü]]></content>
      <categories>
        <category>Angular</category>
      </categories>
      <tags>
        <tag>angular</tag>
        <tag>webÂâçÁ´Ø</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âú®Angular‰∏≠‰ΩøÁî®Bootstrap]]></title>
    <url>%2F2018%2F05%2F29%2F%E5%9C%A8Angular%E4%B8%AD%E4%BD%BF%E7%94%A8Bootstrap%2F</url>
    <content type="text"><![CDATA[Âú®ÂéªÂπ¥ÁöÑÊó∂ÂÄôÁü≠ÊöÇÁöÑÊé•Ëß¶‰∫ÜÂ§ßÊ¶Ç‰∏Ä‰∏™ÊòüÊúüÁöÑ Angular ‰πãÂêéÂ∞±ÂÜç‰πüÊ≤°Á¢∞Ëøá‰∫ÜÔºå‰ªäÂ§©Á™ÅÁÑ∂ÊÉ≥ÈáçÊñ∞Êç°Ëµ∑ Angular ÁöÑÁõ∏ÂÖ≥Áü•ËØÜÔºåÂπ∂‰∏îÊÉ≥Â∞Ü Angular ÁªìÂêà Bootstrap ‰∏ÄËµ∑‰ΩøÁî®„ÄÇÊâÄ‰ª•Ê≠£Â•ΩËÆ∞ÂΩï‰∏ã‰∏ÄËµ∑ÁªìÂêà‰ΩøÁî®ÁöÑÊ≠•È™§„ÄÇ ÂàùÂßãÂåñ‰∏Ä‰∏™ Angular ÁöÑÈ°πÁõÆ„ÄÇÂàùÂßãÂåñ‰πãÂêéÊâìÂºÄÂëΩ‰ª§Ë°åÔºåËæìÂÖ•Ôºö12npm install jquery --save-devnpm install bootstrap --save-dev ËæìÂÖ•‰ª•‰∏ä‰∏§Êù°ÂëΩ‰ª§‰πãÂêéÔºåÂú® package.json ‰∏≠ÂèØ‰ª•ÁúãÂà∞Â∑≤ÁªèÂ§öÂá∫‰∫Ü jquery Âíå bootstrap Ëøô‰∏§‰∏™Â∫ì‰∫Ü„ÄÇÂ¶Ç‰∏ãÔºö ÂΩìÂàùÂßãÂåñÂÆåÊàê‰πãÂêé‰ºöÂú® node_modules ‰∏≠Âá∫Áé∞ bootstrap Âíå jquery Ëøô‰∏§‰∏™Êñá‰ª∂Â§π„ÄÇ ÁÑ∂ÂêéÂÜçÂ∞ÜÈúÄË¶ÅÂºïÂÖ•ÁöÑ css Êñá‰ª∂Âíå js Êñá‰ª∂Âä†ÂÖ•Âà∞ .angular-cli.json‰∏≠ÔºåÂ¶Ç‰∏ãÔºö ÊúÄÂêéÂÜçÊâßË°åÂ¶Ç‰∏ãÂëΩ‰ª§ÔºåÂ∞Ü JS Êñá‰ª∂ËΩ¨Âåñ‰∏∫ TypeScript Êñá‰ª∂„ÄÇ123npm install @types/jquery --save -devnpm install @types/bootstrap --save -dev Âá∫ÈîôËß£ÂÜ≥Â¶ÇÊûúÂÆâË£ÖÂÆåÊàê‰πãÂêéÊèêÁ§∫ÁöÑÈîôËØØÂ¶Ç‰∏ãÔºö1ERROR in ./node_modules/css-loader?&#123;&quot;sourceMap&quot;:false,&quot;importLoaders&quot;:1&#125;!./node_modules/postcss-loader/lib?&#123;&quot;ident&quot;:&quot;postcss&quot;,&quot;sourceMap&quot;:false&#125;!./node_modules/bootstrap/dist/css/bootstrap.min.css Module build failed: BrowserslistError: Unknown browser major at error Ê≠§Êó∂ÈúÄË¶ÅÂ∞Ü node_modules ÈáåÈù¢ÁöÑ bootstrap Êñá‰ª∂Â§π‰∏≠ÁöÑ package.json ‰∏≠ÁöÑ &quot;last 1 major version&quot;,&quot;&gt;= 1%&quot; Âà†Èô§„ÄÇÁÑ∂Âêé ËæìÂÖ• npm startÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ]]></content>
      <categories>
        <category>Angular</category>
      </categories>
      <tags>
        <tag>angular</tag>
        <tag>webÂâçÁ´Ø</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ErrorÊòØÁúüÁöÑ‰∏çÂèØ‰ª•Ë¢´ÊçïËé∑ÁöÑÂêó?]]></title>
    <url>%2F2018%2F05%2F25%2FError%E6%98%AF%E7%9C%9F%E7%9A%84%E4%B8%8D%E5%8F%AF%E4%BB%A5%E8%A2%AB%E6%8D%95%E8%8E%B7%E7%9A%84%E5%90%97%2F</url>
    <content type="text"><![CDATA[Âú®ÂàöÊé•Ëß¶JavaÁöÑÊó∂ÂÄôÁªèÂ∏∏Âê¨Âà∞ÁöÑ‰∏ÄÂè•ËØù‰æøÊòØÂú® Java ‰∏≠ÔºåException ÊòØÂèØ‰ª•ÊçïËé∑ÁöÑÔºåError ÊòØ‰∏çÂèØ‰ª•ÊçïËé∑ÁöÑ„ÄÇ‰ΩÜÊòØÂú®ÈöèÁùÄÂ≠¶‰π†ÁöÑÊ∑±ÂÖ•Ôºå‰ºöÂèëÁé∞Êúâ‰∫õËßÇÁÇπÈúÄË¶ÅÈáçÊñ∞ËÆ§ËØÜ‰∏ã‰∫Ü„ÄÇThrowable Ëøô‰∏™Á±ªÊòØËá™ JDK1.0 ÂºÄÂßãÂ∞±Â≠òÂú®‰∫é Java ÁöÑËØ≠Ë®Ä‰πã‰∏≠„ÄÇ ThrowableÈ¶ñÂÖàÂºïÁî®‰∏ÄÊÆµ Oracle ÂÆòÊñπÊñáÊ°£‰∏äÂØπ Throwable ÁöÑ‰ªãÁªçJava8 ThrwoableÁöÑ‰ªãÁªçÔºö The Throwable class is the superclass of all errors and exceptions in the Java language. Only objects that are instances of this class (or one of its subclasses) are thrown by the Java Virtual Machine or can be thrown by the Java throw statement. Similarly, only this class or one of its subclasses can be the argument type in a catch clause. For the purposes of compile-time checking of exceptions, Throwable and any subclass of Throwable that is not also a subclass of either RuntimeException or Error are regarded as checked exceptions.Instances of two subclasses, Error and Exception, are conventionally used to indicate that exceptional situations have occurred. Typically, these instances are freshly created in the context of the exceptional situation so as to include relevant information (such as stack trace data).Â§™ÈïøÔºåÁúÅÁï•Â§ßÈÉ®ÂàÜ‰∫Ü‚Ä¶‚Ä¶ ÁÆÄÂçïÁøªËØë‰∏ãÂ∞±ÊòØÔºåThrowable ÊòØ Error Âíå Exception ÁöÑÁà∂Á±ªÔºåÂπ∂‰∏îÂè™ËÉΩÊòØ Error Âíå Exception ÁöÑÂÆû‰æãÊâçÂèØ‰ª•ÈÄöËøá throw ËØ≠Âè•ÊàñËÄÖ JavaËôöÊãüÊú∫ ÊäõÂá∫ÂºÇÂ∏∏„ÄÇException ÊàñËÄÖ Error ÊòØÂú®Âá∫ÈîôÁöÑÊÉÖÂÜµ‰∏ãÊñ∞ÂàõÂª∫ÁöÑÔºå‰ªéËÄåÂ∞ÜÂá∫ÈîôÁöÑ‰ø°ÊÅØÂíåÊï∞ÊçÆÂåÖÂê´ËøõÂéª„ÄÇÂè¶Â§ñÂú®Ëøô‰∏™ÊñáÊ°£‰∏≠ËøòÊèêÂà∞‰∫Ü‰∏ÄÁÇπÂ∞±ÊòØÂΩì‰ΩéÂ±ÇÊñπÊ≥ïÂêëÈ´òÂ±ÇÊñπÊ≥ïÊäõÂá∫ÂºÇÂ∏∏ÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúÊäõÂá∫ÁöÑÂºÇÂ∏∏ÊòØÂèóÊ£ÄÊü•ÁöÑÂºÇÂ∏∏ÔºåÂàô ErrorÂú®Áúã Error ‰πãÂâçÈ¶ñÂÖàÁúã‰∏ÄÊÆµ‰ª£Á†ÅÔºåÂ¶Ç‰∏ãÔºö123456789public class ExceptionTest &#123; private void test()&#123; try&#123; &#125;catch (Error e)&#123; e.printStackTrace(); &#125; &#125;&#125; ÂèØ‰ª•ÁúãËßÅ Error ÊòØÂèØ‰ª•Ë¢´ÊçïËé∑ÁöÑÔºåËôΩÁÑ∂ Java ÁöÑcatchËØ≠Âè•ÂèØ‰ª•ÊçïËé∑ ErrorÔºå‰ΩÜÊòØÂú®ErrorÁöÑÂÆòÊñπÊñáÊ°£‰∏äÂç¥ÂÅö‰∫ÜËØ¥ÊòéÔºö‰∏çÊé®ËçêÂØπErrorËøõË°åÊçïËé∑Ôºå‰πüÂ∞±ÊòØËØ¥ Error ËôΩÁÑ∂ÂèØ‰ª•Ë¢´ Java ËØ≠Ë®ÄÊçïËé∑Ôºå‰ΩÜÊòØJavaÂÆòÊñπÂç¥ÊòØ‰∏çÊé®ËçêÂØπErrorËøõË°åÊçïËé∑ÁöÑ„ÄÇÂÖ∑‰ΩìÊñáÊ°£Â¶Ç‰∏ãÔºö An Error is a subclass of Throwable that indicates serious problems that a reasonable application should not try to catch. Most such errors are abnormal conditions. The ThreadDeath error, though a ‚Äúnormal‚Äù condition, is also a subclass of Error because most applications should not try to catch it.A method is not required to declare in its throws clause any subclasses of Error that might be thrown during the execution of the method but not caught, since these errors are abnormal conditions that should never occur. That is, Error and its subclasses are regarded as unchecked exceptions for the purposes of compile-time checking of exceptions. ‰πüÂ∞±ÊòØËØ¥ Error ÁöÑÂá∫Áé∞Ë°®Á§∫Á®ãÂ∫èÂá∫Áé∞‰∫Ü‰∏•ÈáçÁöÑÈùûÊ≠£Â∏∏ÈóÆÈ¢òÔºåÂπ∂‰∏îÂú®JavaÊÄªÂ§Ñ‰∫é‰∏Ä‰∫õÂéüÂõ†ÔºåError Ë¢´ËÆ§‰∏∫ÊòØÊú™Ê£ÄÊü•ÁöÑÂºÇÂ∏∏„ÄÇ ÂºÇÂ∏∏ÂºÇÂ∏∏ÂàÜ‰∏∫ÂèóÊ£ÄÊü•ÁöÑÂºÇÂ∏∏ÂíåËøêË°åÊó∂ÂºÇÂ∏∏ÔºåÂèóÊ£ÄÊü•ÁöÑÂºÇÂ∏∏Ê†áÂøóÁùÄÁ®ãÂ∫èÂú®ÁºñËØëÊúüÈó¥ÂøÖÈ°ªÂ§ÑÁêÜÔºåÂ∏∏ËßÅÁöÑÊØîÂ¶ÇÂú®ËØªÂèñ‰∏Ä‰∏™Êñá‰ª∂ÁöÑÊó∂ÂÄôÔºåJavaËØ≠Ë®ÄÂøÖÈ°ªË¶ÅÊ±ÇÊäõÂá∫ÊàñËÄÖCatch FileNotFoundException„ÄÇËÄåËøêË°åÊó∂ÂºÇÂ∏∏ Java ÂàôÊòØÂØπÂÖ∂‰∏çÂÅöË¶ÅÊ±Ç„ÄÇ ‰∏∫‰ªÄ‰πàJava‰∏çÊé®ËçêÊçïËé∑ErrorJavaÂÆòÊñπÊñáÊ°£ÁöÑËß£ÈáäËØ¥ÊòØ Error ÁöÑÂá∫Áé∞‰ª£Ë°®ÁöÑÊòØ‰∏Ä‰∫õ‰∏•ÈáçÁöÑÈùûÊ≠£Â∏∏ÁöÑÈîôËØØ„ÄÇÈÇ£‰πàÂú® Java ÁöÑÂÆòÊñπÊñáÊ°£‰∏≠‰ªãÁªçÁöÑ Error ÊúâÂ¶Ç‰∏ãÂá†ÁßçÔºö AnnotationFormatError, AssertionError, AWTError, CoderMalfunctionError, FactoryConfigurationError, FactoryConfigurationError, IOError, LinkageError, SchemaFactoryConfigurationError, ServiceConfigurationError, ThreadDeath, TransformerFactoryConfigurationError, VirtualMachineError„ÄÇ Ëøô‰∫õErrorÁöÑÂá∫Áé∞‰ª£Ë°®ÁöÑÊòØÁ®ãÂ∫èÂ∑≤Áªè‰∏çÁî®ËøõË°åÂ§ÑÁêÜ‰∫ÜÔºåÊØîÂ¶Ç OutOfMemoryErrorÔºåÂ¶ÇÊûúÂá∫Áé∞‰∫ÜËøô‰∏™ÈîôËØØÁöÑËØùÔºåÈÇ£‰πàÁ®ãÂ∫èÂ∑≤ÁªèÊó†Ê≥ïËøêË°å‰∏ãÂéª‰∫ÜÔºåÊ≠§Êó∂ÊçïËé∑Â∞±Ê≤°ÊúâÊÑè‰πâ‰∫Ü„ÄÇ ÊÄªÁªìÊâÄ‰ª•Âπ∂‰∏çÊòØËØ¥ErrorÊòØ‰∏çÂèØ‰ª•ÊçïËé∑ÁöÑÔºåËÄåÊòØÂèØ‰ª•ÊçïËé∑ÁöÑÔºå‰ΩÜÊòØ Java ÂÆòÊñπÂπ∂‰∏çÊé®ËçêÊçïËé∑Error„ÄÇ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[TreeSetÂíåTreeMapÁöÑ‰∏ÄÁÇπÊÄªÁªì]]></title>
    <url>%2F2018%2F05%2F24%2FTreeSet%E5%92%8CTreeMap%E7%9A%84%E4%B8%80%E7%82%B9%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[È¶ñÂÖàÁÆÄÂçï‰ªãÁªç‰∏ãTreeSetÂíåTreeMapÁöÑ‰∏§ÁßçÊéíÂ∫èÔºö Ëá™ÁÑ∂ÊéíÂ∫è ÈÄöËøácomparatorÊéíÂ∫è12345678910111213141516171819202122private static void compareWithCpmparator()&#123; TreeSet&lt;String&gt; treeSet =new TreeSet&lt;&gt;(); List&lt;String&gt; list =new ArrayList&lt;&gt;(); list.add("a"); list.add("d"); list.add("b"); treeSet.addAll(list); Iterator&lt;String&gt; iterator =treeSet.iterator(); while (iterator.hasNext())&#123; System.out.println(iterator.next()); &#125; Comparator&lt;String&gt; comparator1 = (Comparator&lt;String&gt;) treeSet.comparator(); if (comparator1 == null)&#123; System.out.println("comparator1ÊòØÁ©∫"); &#125;else &#123; System.out.println("comparator1‰∏çÊòØÁ©∫"); &#125; &#125; public static void main(String[] args) &#123; compareWithCpmparator(); &#125; ËøêË°å‰πãÂêéÁöÑÁªìÊûúÂ¶Ç‰∏ã:1234abdcomparator1ÊòØÁ©∫ ËøôÊÆµ‰ª£Á†ÅÈáåÈù¢Ëé∑ÂèñÁöÑcomparatorÊòØÁ©∫ÁöÑÔºåDebug‰∏ÄÈÅçÔºåÂèëÁé∞Ëøô‰∏™ÊñπÊ≥ïÂÖ∂ÂÆûË∞ÉÁî®ÁöÑÊòØNavigableMapÈáåÈù¢ÁöÑcomparator123public Comparator&lt;? super E&gt; comparator() &#123; return m.comparator();&#125; Êü•ÁúãÂÆòÁΩë‰∏äÂØπÂÖ∂ÁöÑ‰ªãÁªçÔºö1234Comparator&lt;? super K&gt; comparator()Returns the comparator used to order the keys in this map, or null if this map uses the natural ordering of its keys.Returns:the comparator used to order the keys in this map, or null if this map uses the natural ordering of its keys Âú®Ë∞ÉÁî®Ëøô‰∏™ÊñπÊ≥ïÁöÑÊó∂ÂÄôËã•ÊòØËá™ÁÑ∂ÊéíÂ∫èÔºåÈÇ£‰πà‰ºöËøîÂõû‰∏Ä‰∏™null„ÄÇËã•ÊòØÈÄöËøácomparatorËøõË°åÊéíÂ∫èÁöÑËØùÂΩìÂâçÈõÜÂêàÈááÁî®ÁöÑcomparator„ÄÇÊü•ÁúãÂÆòÁΩëÂØπreeSetÁöÑÊó†ÂèÇÊûÑÈÄ†Âô®ÁöÑËß£ÈáäÔºö /** * Constructs a new, empty tree set, sorted according to the * natural ordering of its elements. All elements inserted into * the set must implement the {@link Comparable} interface. * Furthermore, all such elements must be &lt;i&gt;mutually * comparable&lt;/i&gt;: {@code e1.compareTo(e2)} must not throw a * {@code ClassCastException} for any elements {@code e1} and * {@code e2} in the set. If the user attempts to add an element * to the set that violates this constraint (for example, the user * attempts to add a string element to a set whose elements are * integers), the {@code add} call will throw a * {@code ClassCastException}. Âú®‰ΩøÁî®TreeSetÁöÑÊó∂ÂÄôÔºåÊèíÂÖ•ÁöÑÂÖÉÁ¥†ÈúÄË¶ÅÂÆûÁé∞ComparableËøô‰∏™Êé•Âè£ÔºåËÄåÂàöÂàöÁöÑÂÖÉÁ¥†ÊòØStringÔºåÊü•ÁúãStringÁöÑ‰ª£Á†ÅÂèëÁé∞: 1public final class String implements java.io.Serializable, Comparable&lt;String&gt;, CharSequence &#123; Á°ÆÂÆûÂÆûÁé∞‰∫ÜÔºåÂÜçÊµãËØï‰∏Ä‰∏™Ê≤°ÊúâÂÆûÁé∞ÁöÑÂÖÉÁ¥†Ôºö123456789101112131415161718192021222324252627282930313233343536373839public class PojoTest &#123; private int id; private String name; public PojoTest() &#123; &#125; public int getId() &#123; return id; &#125; public void setId(int id) &#123; this.id = id; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public PojoTest(int id, String name) &#123; this.id = id; this.name = name; &#125;&#125; private static void com()&#123; TreeSet&lt;PojoTest&gt; treeSet =new TreeSet&lt;&gt;(); treeSet.add(new PojoTest(1,"a")); treeSet.add(new PojoTest(2,"b")); treeSet.add(new PojoTest(3,"c")); Iterator&lt;PojoTest&gt; iterator =treeSet.iterator(); while (iterator.hasNext())&#123; System.out.println(iterator.next().getName()); &#125; &#125; ËøêË°åÁªìÊûúÂ¶Ç‰∏ã:123456Exception in thread "main" java.lang.ClassCastException: SetAndMap.TreeSetAndTreeMap.PojoTest cannot be cast to java.lang.Comparable at java.util.TreeMap.compare(TreeMap.java:1294) at java.util.TreeMap.put(TreeMap.java:538) at java.util.TreeSet.add(TreeSet.java:255) at SetAndMap.TreeSetAndTreeMap.TestTreeSet.com(TestTreeSet.java:77) at SetAndMap.TreeSetAndTreeMap.TestTreeSet.main(TestTreeSet.java:88) ÂæàÊòéÊòæÔºåÊâÄ‰ª•ÊîæÂú®TreeSetÈáåÈù¢ÁöÑÂÖÉÁ¥†Ë¶Å‰πàÊòØÂÆûÁé∞Comparable‰∫ÜÁöÑËá™ÁÑ∂ÊéíÂ∫èÔºåË¶Å‰πàÊòØÈÄöËøácomparatorÊù•ËøõË°åÊéíÂ∫èÁöÑ„ÄÇ ÊúÄÂêéÈôÑ‰∏ä‰∏Ä‰∏™Ê†áÂáÜÁöÑ‰ΩøÁî®ComparatorÁöÑÊñπÊ≥ïÔºö1234567891011121314151617181920212223242526272829303132private static void construct()&#123; Comparator&lt;String&gt; comparator =new Comparator&lt;String&gt;() &#123; @Override public int compare(String o1, String o2) &#123; if(o1.toCharArray()[0] &gt;o2.toCharArray()[0])&#123; return -1; &#125;else if(o1.toCharArray()[0] == o2.toCharArray()[0])&#123; return 0; &#125;else&#123; return 1; &#125; &#125; &#125;; TreeSet&lt;String&gt; treeSet =new TreeSet&lt;&gt;(comparator); List&lt;String&gt; list =new ArrayList&lt;&gt;(); list.add("a"); list.add("d"); list.add("b"); treeSet.addAll(list); Iterator&lt;String&gt; iterator =treeSet.iterator(); while (iterator.hasNext())&#123; System.out.println(iterator.next()); &#125; Comparator&lt;String&gt; comparator1 = (Comparator&lt;String&gt;) treeSet.comparator(); TreeSet&lt;String&gt; treeSet1 =new TreeSet&lt;&gt;(comparator1); treeSet1.add("c"); treeSet1.add("g"); treeSet1.add("a"); Iterator&lt;String&gt; iterator1 =treeSet1.iterator(); while (iterator1.hasNext())&#123; System.out.println(iterator1.next()); &#125; Ëá™ÁÑ∂ÊéíÂ∫èÔºöÊòØÂÆûÁé∞ComparableÊé•Âè£Âπ∂‰∏îÈáçÂÜô‰∫ÜcompareToÊñπÊ≥ïÁöÑ Âè¶‰∏Ä‰∏™comparatorÂàôÊòØÈÄöËøácomparatorÂπ∂‰∏îÈáçÂÜôcompareÊñπÊ≥ï]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Êï∞ÊçÆÁªìÊûÑ</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring CloudÁöÑZuulÁõ∏ÂÖ≥ÊÄªÁªì]]></title>
    <url>%2F2018%2F05%2F23%2FSpring-Cloud%E7%9A%84Zuul%E7%9B%B8%E5%85%B3%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[ZuulÊòØSpringCloudÁîüÊÄÅ‰ΩìÁ≥ª‰∏≠ÁöÑÁΩëÂÖ≥‰∏ÄÁéØÔºåÈ¶ñÂÖàÁÆÄÂçïÈÖçÁΩÆÂ¶Ç‰∏ãÔºöÂºÄÂêØÊ≥®ÂÜå‰∏≠ÂøÉÂπ∂‰∏îÈÖçÁΩÆymlÊñá‰ª∂ÔºåÂ¶Ç‰∏ãÔºö12345678910111213spring: application: name: somersames-eruekaserver: port: 8081eureka: client: registerWithEureka: false fetchRegistry: false serviceUrl: defaultZone: http://localhost:8081/eureka/ ÂºÄÂêØÁî®Êà∑ÁöÑÂæÆÊúçÂä°Ôºö123456789spring: application: name: somersames-userserver: port: 8082eureka: client: service-url: defaultZone: http://localhost:8081/eureka ÁºñÂÜô‰∏Ä‰∏™ÊµãËØïÁöÑControllerÔºö12345678@RestController@RequestMapping("testuser")public class UserTestController &#123; @GetMapping("/testzuul") public String testZUul()&#123; return "ÊµãËØïZuul"; &#125;&#125; ÈÖçÁΩÆÊ≥®ÂÜå‰∏≠ÂøÉÔºö123456789101112131415spring: application: name: somersames-zuuleureka: client: service-url: defaultZone: http://localhost:8081/eurekazuul: routes: user-route: url : http://localhost:8082 //Áî®Êà∑ÂæÆÊúçÂä°ÁöÑÂú∞ÂùÄ path : /user/** //Êò†Â∞ÑÁöÑË∑ØÂæÑserver: port: 8083 ËÆæÁΩÆZuulÂêØÂä®Á±ªÁöÑÊ≥®Ëß£Ôºö1234567@SpringBootApplication@EnableZuulProxypublic class ZuulConfigApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(ZuulConfigApplication.class); &#125;&#125; ÊµãËØïÔºö‰ΩøÁî®ÂæÆÊúçÂä°ÁöÑSericiceIdËÆøÈóÆÔºö ‰ΩøÁî®ZuulÁöÑpathËÆøÈóÆÔºö]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>SpringCloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Á∫øÁ®ãÁöÑinterruptÂíåstopÂå∫Âà´Ôºå‰ª•ÂèäÁ∫øÁ®ãÁöÑ‰∏≠Êñ≠Êú∫Âà∂]]></title>
    <url>%2F2018%2F05%2F22%2Fx%E7%BA%BF%E7%A8%8B%E7%9A%84interrupt%E5%92%8Cstop%E5%8C%BA%E5%88%AB%EF%BC%8C%E4%BB%A5%E5%8F%8A%E7%BA%BF%E7%A8%8B%E7%9A%84%E4%B8%AD%E6%96%AD%E6%9C%BA%E5%88%B6%2F</url>
    <content type="text"><![CDATA[interruptÂú®JavaÈáåÈù¢Á∫øÁ®ãÁöÑ‰∏≠Êñ≠ÊòØ‰∏Ä‰∏™Âçè‰ΩúÂºèÁöÑÔºå‰πüÂ∞±ÊòØËØ¥Á∫øÁ®ã‰ºöÂú®Ëá™Â∑±ÂêàÈÄÇÁöÑÊó∂ÂÄôËá™Â∑±‰∏≠Êñ≠Ëá™Â∑±Ôºå‰∏ÄËà¨Êù•ËÆ≤Á∫øÁ®ãÂ¶ÇÊûúÈúÄË¶Å‰∏≠Êñ≠ÁöÑËØùÊúâÂ¶Ç‰∏ã‰∏§ÁßçÊñπÊ≥ïÔºö ÊçïËé∑InterruptException ÈÄöËøáThreadÁöÑinterrupted()ÊàñËÄÖisInterrupted()ÊñπÊ≥ïÔºå‰ΩÜÊòØÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØinterrupted‰ºöÊ∏ÖÈô§Ëøô‰∏™Á∫øÁ®ãÁöÑÁä∂ÊÄÅ ÂΩì‰∏Ä‰∏™Á∫øÁ®ãË∞ÉÁî®Âè¶‰∏Ä‰∏™Á∫øÁ®ãÁöÑinterruptÁöÑÊó∂ÂÄôÔºåÂè¶‰∏Ä‰∏™Á∫øÁ®ãÂπ∂‰∏ç‰ºöÈ©¨‰∏äÁªìÊùüÔºåËÄåÊòØ‰ºöËÆæÁΩÆ‰∏Ä‰∏™‰∏≠Êñ≠ÁöÑÁä∂ÊÄÅÔºåÂ¶ÇÊûú‰∏Ä‰∏™Á∫øÁ®ãÂ§Ñ‰∫éÈòªÂ°ûÁöÑÁä∂ÊÄÅÔºåÈÇ£‰πàÊ≠§Êó∂ËØ•Á∫øÁ®ã‰ºöÈ©¨‰∏äÊäõÂá∫‰∏Ä‰∏™InterruptExceptionÔºåÁî±‰∏äÂ±ÇÁöÑ‰ª£Á†ÅËøõË°åÂ§ÑÁêÜ„ÄÇËã•Á∫øÁ®ãÊ≤°ÊúâÂ§Ñ‰∫éÈòªÂ°ûÁöÑËØùÔºåÊ≠§Êó∂Á∫øÁ®ãËøòÊòØ‰ºöÊâßË°åÁöÑ„ÄÇ‰ΩÜÊòØÁ∫øÁ®ãÈúÄË¶ÅËá™Â∑±Âú®ÂêàÈÄÇÁöÑÂú∞ÊñπÈÄöËøá‰∏äËø∞ÁöÑ‰∏§‰∏™ÊñπÊ≥ïÊù•Âà§Êñ≠Ëá™Â∑±ÊòØÂê¶Â∫îËØ•‰∏≠Êñ≠„ÄÇÂ¶ÇÊûúËá™Â∑± stopstopÊñπÊ≥ïÂíåinterruptÊúâËÆ∏Â§öÁõ∏‰ºº‰πãÂ§ÑÔºåÂÖ∑‰ΩìÂ∞±ÊòØÂú®ÈòªÂ°ûÁöÑÊó∂ÂÄôÈÉΩ‰ºöÊäõÂá∫InterruptexceptionËøô‰∏™ÂºÇÂ∏∏„ÄÇ‰ΩÜÊòØÂú®ËøêË°åÊúüÈó¥ÁöÑËØùstopÊñπÊ≥ï‰ºöÁõ¥Êé•Âº∫Ëø´Âè¶‰∏Ä‰∏™Á∫øÁ®ãÁªàÊ≠¢ÔºåÂπ∂‰∏îÊäõÂá∫‰∏Ä‰∏™ThreadDeathÁöÑErrorÔºåËøô‰∏™ ‰∏≠Êñ≠Êú∫Âà∂ÔºöÊÄªÁªì‰∫Ü‰∏ãÔºåÊúâÂ¶Ç‰∏ãÂá†Áßç„ÄÇÂΩìÁ∫øÁ®ãÂú®ÈòªÂ°ûÁöÑÊó∂ÂÄôÊî∂Âà∞‰∏≠Êñ≠ËØ∑Ê±ÇÔºå‰ΩÜÊòØÁ∫øÁ®ã‰ºöÊäõÂá∫‰∏Ä‰∏™ExceptionÂπ∂‰∏îÁ∫øÁ®ãÁöÑ‰∏≠Êñ≠Áä∂ÊÄÅ‰ºöË¢´Ê∏ÖÈô§Êéâ„ÄÇÔºàÂ∏∏ËßÅÁöÑÈòªÂ°ûÂ¶ÇsleepÔºåwaitÔºåjoinÔºâÁ≠â Ê≠§Êó∂ÈúÄË¶ÅÊ≥®ÊÑèÔºåÂ¶ÇÊûúÊó†Ê≥ïÁªßÁª≠Âêë‰∏äÊäõÂá∫Ëøô‰∏™ÂºÇÂ∏∏ÁöÑËØùÔºåÈÇ£‰πàÂ∞±Â∫îËØ•ÁªßÁª≠Ë∞ÉÁî®interruptËøô‰∏™ÊñπÊ≥ïÔºåÂõ†‰∏∫ÊØè‰∏Ä‰∏™‰∏≠Êñ≠ÈÉΩÂ∫îËØ•Ë¢´‰∏äÂ±ÇÁü•ÈÅìÁöÑ„ÄÇ Âú®Âà§Êñ≠Á∫øÁ®ãÁöÑ‰∏≠Êñ≠Áä∂ÊÄÅÁöÑÊó∂ÂÄôÈúÄË¶ÅÊ≥®ÊÑè12345678while(!Thread.currentThread().isInterrupted())&#123; try&#123; // IOÊìç‰ΩúÊàñËÄÖÂÖ∂‰ªñÁöÑ‰∏≠Êñ≠Êìç‰Ωú &#125;catch(InterruptException e)&#123; break; &#125; &#125; Âú®ËøôÊÆµ‰ª£Á†Å‰∏≠ÔºåIOÊìç‰Ωú‰∏ÄÊó¶ÂèëÁîüÈòªÂ°ûÂπ∂‰∏îÊî∂Âà∞‰∏Ä‰∏™‰∏≠Êñ≠ÂºÇÂ∏∏‰ΩÜÊòØËøô‰∏™ÂºÇÂ∏∏ÂèàÊ≤°ÊúâËøõË°åÂ§ÑÁêÜÔºåËøô‰∏™Êó∂ÂÄôwhile‰ºö‰∏ÄÁõ¥Âà§Êñ≠‰∏çÂà∞Ëøô‰∏™Á∫øÁ®ãÂ∑≤ÁªèÊòØÈúÄË¶ÅË¢´‰∏≠Êñ≠ÁöÑ‰∫Ü ÊÄªÁªìÂÖ≥‰∫éÁ∫øÁ®ã‰∏≠Êñ≠Â∞±ÊòØÊçïËé∑ÁöÑÂºÇÂ∏∏‰∏ÄÂÆöÈúÄË¶ÅÊäõÂá∫Ôºå‰∏çËÉΩÊäõÂá∫Â∞±ÈúÄË¶ÅËÆæÁΩÆ‰∏≠Êñ≠‰∏≠Êñ≠Áä∂ÊÄÅ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Â§öÁ∫øÁ®ã</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âú®nginx‰∏≠ÁºñÂÜôrewrite]]></title>
    <url>%2F2018%2F05%2F20%2F%E5%9C%A8nginx%E4%B8%AD%E7%BC%96%E5%86%99rewrite%2F</url>
    <content type="text"><![CDATA[Âú®‰ΩøÁî®NginxÂÅö‰∏Ä‰∏™ÂèçÂêë‰ª£ÁêÜÁöÑÊó∂ÂÄôÈöæÂÖç‰ºöÁ¢∞Âà∞‰∏Ä‰∫õÁâπÊÆäÁöÑURLÔºå‰æãÂ¶ÇËé∑ÂèñÂõæÁâáÁöÑURLÊòØhttp://dsda/XXX.jpgÔºåÂêéÊù•Áî±‰∫éÈúÄË¶ÅÂä†‰∏Ä‰∏™Êó∂Èó¥Êà≥Êù•Ëé∑ÂèñÂè¶Â§ñ‰∏ÄÂº†ÂõæÁâáÁöÑËØùÔºåÊ≠§Êó∂ÁöÑURLÂ∞±‰∏∫http://dsda/XXX.jpg?time=YYYY„ÄÇÂΩìÈÅáÂà∞Ëøô‰∏™ÊÉÖÂÜµÁöÑÊó∂ÂÄôÊòØÊúâ‰∏§ÁßçÈÄâÊã©ÁöÑÔºåÂàÜÂà´Â¶Ç‰∏ãÔºö ÈÖçÁΩÆlocation‰πüÂ∞±ÊòØÂú®nginx‰∏≠ÁöÑserverÈáåÈù¢ÂÜçÂä†ÂÖ•‰∏Ä‰∏™ÂåπÈÖç Ôºå‰ΩÜÊòØËøôÊ†∑Âä†ÂÖ•ÁöÑËØùËã•‰ª•Âêé‰∏çÂÜçÊõ¥ÊîπËøòÂ•ΩÔºå‰∏ÄÊó¶ÈúÄÊ±ÇÂÜçÊ¨°ÂèòÊõ¥ÔºåÂ∞±‰ºöÂØºËá¥ÈÖçÁΩÆËÆ∏Â§öÁöÑlocation„ÄÇÊâÄ‰ª•ËøôÁßçÂÅöÊ≥ïÁöÑËØùÂ¶ÇÊûúÂè™ÊòØ‰∏Ä‰∫õÂõ∫ÂÆöÁöÑURLËøòÊòØÂèØË°åÁöÑÔºå‰ΩÜÊòØËã•ÂåπÈÖç‰∏Ä‰∫õÂä®ÊÄÅÁöÑURLÂàô‰∏çÊé®Ëçê„ÄÇÂÆòÁΩëÁöÑËØ¥ÊòéÂ¶Ç‰∏ãÔºö12345678910111213server &#123; listen 80; server_name example.org www.example.org; root /data/www; location / &#123; index index.html index.php; &#125; location ~* \.(gif|jpg|png)$ &#123; expires 30d; &#125;&#125; ÈÖçÁΩÆrewriteËßÑÂàôÈíàÂØπ‰∏äÈù¢ÁöÑËØ∑Ê±ÇÔºåÂèØ‰ª•ÁºñÂÜôÂ¶Ç‰∏ãËßÑÂàôÔºö12345678location / &#123; # root /usr/share/nginx/html; # index index.html index.htm; if ( $request_uri ~* "time=(.+)$" ) &#123; rewrite .*?(?=\?) break; proxy_pass http://localhost:3000; &#125; &#125; Âú®ËøôÈáåÈù¢ÁöÑ‰∏Ä‰∏™ifÂà§Êñ≠ËØ≠Âè•‰ºöÂà§Êñ≠URLÊòØÂê¶ÊòØ‰ª•timeÁªìÂ∞æÔºåÂ¶ÇÊûúÊòØÁöÑËØùÂàôÂ∞Ü?‰πãÂêéÁöÑURLÊà™ÂèñÁÑ∂ÂêéËΩ¨ÂèëËá≥3000Á´ØÂè£ÔºåÊúÄÂêé‰æøÂèØ‰ª•‰∏çÁî®ÂÜô‰∏Ä‰∏™locationÊù•ÂÆûÁé∞ËΩ¨Âèë‰∫Ü]]></content>
      <categories>
        <category>Nginx</category>
      </categories>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>nginx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[È´òÊÄßËÉΩmysqlÈòÖËØªËÆ∞ÂΩï]]></title>
    <url>%2F2018%2F05%2F15%2F%E9%AB%98%E6%80%A7%E8%83%BDmysql%E9%98%85%E8%AF%BB%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[nginxÂá∫Áé∞403ÁöÑÊÄªÁªì]]></title>
    <url>%2F2018%2F05%2F14%2Fnginx%E5%87%BA%E7%8E%B0403%E7%9A%84%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[‰ªäÂ§©Âú®‰ΩøÁî®nginxÁöÑÊó∂ÂÄôËÆøÈóÆÈ¶ñÈ°µÊÄªÊòØÊèêÁ§∫403forbiddenÔºåÁªèËøáÂêÑÁßçÊü•ËØ¢‰πãÂêéÔºåÊÄªÁªì‰∏∫Â¶Ç‰∏ãÂá†ÁßçÂéüÂõ†Ôºö ËÆøÈóÆÁöÑËµÑÊ∫êÊùÉÈôê‰∏çË∂≥ÔºåÊúÄÂ•ΩÂ∞ÜnginxËÆøÈóÆÁöÑËµÑÊ∫êÊùÉÈôê‰øÆÊîπ‰∏∫755ÊàñËÄÖ777 SeLinuxÁöÑËÆæÁΩÆ‰∏∫trueÔºåÈúÄË¶ÅÂ∞ÜÂÖ∂‰øÆÊîπ‰∏∫false Â¶ÇÊûúÂá∫Áé∞È¶ñÈ°µÁöÑËÆøÈóÆËµÑÊ∫ê‰∏çÊòØÊåáÂÆöÁöÑÁõÆÂΩïÁöÑËØùÔºåÂèØ‰ª•Âú®/etc/nginx/nginx.conf‰∏≠Ê∑ªÂä†‰∏ÄÊù°ËØ≠Âè•root XXXÔºåXXX‰ª£Ë°®ÁöÑÊòØËµÑÊ∫êÁõÆÂΩï„ÄÇÂÖ∂‰ªñÁöÑÊöÇÊó∂Ê≤°ÂèëÁé∞‰ªÄ‰πàÈóÆÈ¢ò]]></content>
      <categories>
        <category>nginx</category>
      </categories>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>nginx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éIOÂ§öË∑ØÂ§çÁî®‰ª•ÂèäÂÖ∂‰ªñÁöÑÊï¥ÁêÜ]]></title>
    <url>%2F2018%2F04%2F28%2F%E5%85%B3%E4%BA%8EIO%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8%E4%BB%A5%E5%8F%8A%E5%85%B6%E4%BB%96%E7%9A%84%E6%95%B4%E7%90%86%2F</url>
    <content type="text"><![CDATA[ËÆ∞ÂæóÂéªÂπ¥ÂéªÂπ¥10Êúà‰ªΩÁöÑÊó∂ÂÄô‰∏Ä‰∏™ÁîµËØùÈù¢ËØïÔºåÂΩìÊó∂Èù¢ËØïÂÆòÁî±Â§öÁ∫øÁ®ãÈÇ£‰∏ÄÈÉ®ÂàÜÁü•ËØÜËΩ¨Âà∞‰∫ÜIOÈÉ®ÂàÜÔºåÂÖàÊèêÂá∫ÂêåÊ≠•IOÂíåÂºÇÊ≠•IOÔºåÊúÄÂêéÈù¢ËØïÂÆòÊèêÂá∫Ë¶Å‰∏Ä‰∏™IOÁöÑÂ§öË∑ØÂ§çÁî®ÈúÄË¶ÅÊÄé‰πàÂéªÂÆûÁé∞„ÄÇ‰ΩÜÊòØÁî±‰∫éÂØπÂ§öË∑ØÂ§çÁî® ÁöÑ‰∏Ä‰∫õÊ®°ÂºèËøòÊòØ‰∏çÂ§™Ê∏ÖÊ•öÔºåËÄåÁé∞Âú®Ê≠£Â•ΩÂú®Á†îÁ©∂ netty ÁöÑÊó∂ÂÄôÊÉ≥Ëµ∑Êù•‰∫ÜÔºåÊâÄ‰ª•ÂÅö‰∏Ä‰∏™ÊÄªÁªìÁÆó‰∫Ü„ÄÇ ÂêåÊ≠•IOÊâÄË∞ìÁöÑÂêåÊ≠•IO ÔºåÂú®ÂàöÂ≠¶JavaÁöÑSocketÈÄö‰ø°Êó∂Â∞±ÊòØ‰∏Ä‰∏™ÈòªÂ°ûIOÔºåÂÖ∑‰ΩìÊù•ËÆ≤Â∞±ÊòØÂú®ÊúçÂä°Á´ØÁöÑ‰∏Ä‰∏™ while ‰∏≠‰ºöË∞ÉÁî® Inputstream inputStream =scoket.getInputStream() Âú®ËøôÈáåÂ¶ÇÊûúÂÆ¢Êà∑Á´ØÊ≤°ÊúâÂèëÈÄÅÊï∞ÊçÆÁöÑËØùÔºåÊúçÂä°Á´ØÂ∞±‰ºö‰∏ÄÁõ¥Âç°Âú®ËøôÈáå„ÄÇÊàñËÄÖËØ¥Âú®Êé•Êî∂Êï∞ÊçÆÁöÑËøáÁ®ã‰∏≠‰ºö‰∏ÄÁõ¥Âç°Âú®ËøôÈáåÔºåÂØπ‰∫éÊúçÂä°Á´ØÊù•ËÆ≤ÁöÑËØùËøôÈáåÂ∞±ÊòØ‰∏Ä‰∏™ÂêåÊ≠•ÁöÑÔºåÂõ†‰∏∫Âú®ËøôÈáåÊ≤°ÊúâÊé•Êî∂Âà∞Êï∞ÊçÆÁöÑËØù‰ª£Á†Å‰∏ÄÁõ¥‰∏çËÉΩÂæÄ‰∏ãËµ∞„ÄÇ ÂºÇÊ≠•ÈòªÂ°ûIO Reactor IOÂ§öË∑ØÂ§çÁî®ÂºÇÊ≠•‰ª£Ë°®ÁöÑÊòØË¢´Ë∞ÉÁî®ÊñπÈúÄË¶Å‰∏ªÂä®ÁöÑÂèçÈ¶àÈÄöÁü•ÔºåÂ∞±ÊØîÂ¶ÇÂú®Êú¨‰æã‰∏≠ÔºåËØªÂèñSocketÁöÑÊµÅÔºåÂ¶ÇÊûúÂú®ËØªÂèñÊµÅÁöÑÊó∂ÂÄôÂøÖÈ°ªÁ≠âÂæÖË∞ÉÁî®ÊñπËá™Â∑±ÂéªÂà§Êñ≠ÊòØÂê¶ËØªÂèñÂÆåÊØïÔºåÂàôËøô‰∏™Â∞±ÊòØ‰∏Ä‰∏™ÂêåÊ≠•IO„ÄÇ‰ΩÜÊòØÂ¶ÇÊûúÂú®Ë∞ÉÂèñÁöÑÊó∂ÂÄôÔºåÊØè‰∏ÄÊ¨°Ë∞ÉÁî®ÊñπÈÉΩÂèØ‰ª•ÂæóÂà∞‰∏Ä‰∏™ÂèçÈ¶àÔºåÊó†ËÆ∫ÂÆ¢Êà∑Á´ØÊòØÂê¶ÂáÜÂ§áÂ∞±Áª™„ÄÇÂàôÁß∞‰πã‰∏∫ÂºÇÊ≠•ÁöÑÔºöÂ¶Ç‰∏ãÔºö1234while(true)&#123;InputStream in =read(); // ÂÅáËÆæÊ≠§Êó∂ÊØèÊ¨°Ë∞ÉÁî®ÈÉΩ‰ºöËøîÂõû‰∏Ä‰∏™ÁªìÊûúReader reader =new InputStreamReader(in);&#125; Ê≠§Êó∂Â∞±ÂèØ‰ª•Áß∞‰πã‰∏∫‰∏Ä‰∏™ÂºÇÊ≠•IOÔºå‰∏ªË¶ÅÂ∞±ÊòØÂõ†‰∏∫Ëøô‰∏™ËØªÂèñÊìç‰Ωú‰∏çÂÜç‰ºöË¢´ÈòªÂ°ûÔºåÊØè‰∏ÄÊ¨°ÁöÑË∞ÉÁî®ÔºåË¢´Ë∞ÉÁî®ÊñπÈÉΩ‰ºöÂèçÈ¶à‰∏Ä‰∏™‰ø°ÊÅØ. Âú® Java ÁöÑ Netty ‰∏≠ÊØèÊ¨°Âæ™ÁéØÈÉΩ‰ºöÂéªÊ£ÄÊü•ÊâÄÊúâÁöÑkeyÔºåÁúã‰∏ãÊòØ‰∏çÊòØÊúâÁöÑkeyÂèØ‰ª•ÈÉΩÂéª‰∫ÜÊàñËÄÖÂèØ‰ª•ÂÜôÂÖ•‰∫Ü‰πãÁ±ªÁöÑÔºåËøô‰∏™Â∞±ÊòØ‰∏Ä‰∏™ÂÖ∏ÂûãÁöÑIOÂ§öË∑ØÂ§çÁî® ÂêåÊ≠•ÈùûÈòªÂ°ûÁªßÁª≠‰ª•Socket‰∏æ‰æãÔºöÂú®ÂêåÊ≠•IOÁöÑÊó∂ÂÄôÔºåÊ≤°ÊúâÊî∂Âà∞Êï∞ÊçÆÊòØ‰∏ç‰ºöËøõË°å‰∏ã‰∏ÄÊ≠•Êìç‰ΩúÁöÑÔºå‰ΩÜÊòØÂêåÊ≠•ÈùûÈòªÂ°ûIOÂ∞±ÊòØÂú®ËøôÈáåÁõ¥Êé•Âà§Êñ≠Êï∞ÊçÆÂáÜÂ§áÂ•Ω‰∫ÜÊ≤°ÊúâÔºå‰∏çÁÆ°ÊòØÂê¶ÊúâÊï∞ÊçÆÔºåÁõ¥Êé•ËøõË°å‰∏ã‰∏ÄÊ≠•Êìç‰Ωú„ÄÇ ÂºÇÊ≠•ÈùûÈòªÂ°ûÂºÇÊ≠•IOÊåáÁöÑÊòØË∞ÉÁî®Êñπ‰∏çÂøÖÂú®ËøôÈáå‰∏ÄÁõ¥ËØ¢ÈóÆÊòØÂê¶ÂáÜÂ§áÂ•ΩÊï∞ÊçÆÊ≤°ÔºåËÄåÊòØÁõ¥Êé•ÊâßË°å‰ª£Á†ÅÔºåÊúÄÂêéÁ≠âÂæÖË¢´Ë∞ÉÁî®ÊñπÁöÑ‰∏Ä‰∏™ÈÄöÁü•Âç≥ÂèØ„ÄÇÂú®ËøôÈáåËøòÊ≤°ÊúâÊâæÂà∞ÂæàÂ•ΩÁöÑ‰∏æ‰æã Êâ©Â±ïÂú®ËøôÈáåÂÖ∂ÂÆûÂú®JavaÁöÑÂ§öÁ∫øÁ®ã‰∏≠ CallBack Âíå Future Á±ª‰ººÔºåÂΩìCallBackÊâßË°åÂÆåÊØï‰πãÂêéÂÜçÊâßË°å Future ‰æøÂèØ‰ª•ÂæóÂà∞‰∏Ä‰∏™ÁªìÊûúÔºå‰ΩÜÊòØËøô‰∏™ÊòØ‰∏Ä‰∏™ÂêåÊ≠•ÈòªÂ°ûÁöÑÔºåÂºÇÊ≠•]]></content>
      <categories>
        <category>ËÆ°ÁÆóÊú∫Âü∫Á°Ä</category>
      </categories>
      <tags>
        <tag>ËÆ°ÁÆóÊú∫Âü∫Á°Ä</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[spring‰∏≠‰ΩøÁî®MappingJackson2HttpMessageConverterÈÅáÂà∞ÁöÑ‰∏Ä‰∏™Âùë]]></title>
    <url>%2F2018%2F04%2F27%2Fspring%E4%B8%AD%E4%BD%BF%E7%94%A8MappingJackson2HttpMessageConverter%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%80%E4%B8%AA%E5%9D%91%2F</url>
    <content type="text"><![CDATA[‰ªäÂ§©ÈÅáÂà∞ÁöÑ‰∏Ä‰∏™ÈóÆÈ¢òÂ∞±ÊòØÂú®Spring‰∏≠Â¶ÇÊûúÁªßÊâø WebMvcConfigurerAdapter ÁÑ∂ÂêéÂÆûÁé∞ configureMessageConverters ÊñπÊ≥ïÊù•ÂÆûÁé∞‰∏Ä‰∏™ Json ÁöÑËΩ¨Êç¢ÁöÑÊó∂ÂÄôÔºåÊ≠§Êó∂‰ºöÂá∫Áé∞‰∏Ä‰∏™ÊÉÖÂÜµÂ∞±ÊòØÔºö Â¶ÇÊûúÂú®ControllerÈáåÈù¢ÁöÑÈÇ£‰∏™ÂèÇÊï∞ÊòØStringÁöÑËØùÂ∞±‰ºö‰∏ÄÁõ¥ÊèêÁ§∫‰∏Ä‰∏™ÈîôËØØ org.springframework.http.converter.HttpMessageNotReadableException&quot;,&quot;message&quot;:&quot;JSON parse error: Can not deserialize instance of java.lang.String out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of java.lang.String out of START_OBJECT token\n at [Source: java.io.PushbackInputStream@35b22c23; line: 1, column: 1]&quot;,&quot;path&quot;:&quot;/tetsjson&quot;}ÂàöÂºÄÂßã‰∏ÄÁõ¥Êâæ‰∏çÂá∫ÂéüÂõ†Ôºå‰∫éÊòØÂú® Spring Ê∫êÁ†Å‰∏≠ DEBUG :Âú®Â¶Ç‰∏ã‰∏§Â§ÑÊâìÊñ≠ÁÇπÂèëÁé∞ÊòØÂèØ‰ª•Ëé∑ÂèñËØ∑Ê±Ç‰ΩìÁöÑÔºö123456789101112131415161718192021222324@Override public HttpInputMessage beforeBodyRead(HttpInputMessage request, MethodParameter parameter, Type targetType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) throws IOException &#123; for (RequestBodyAdvice advice : getMatchingAdvice(parameter, RequestBodyAdvice.class)) &#123; if (advice.supports(parameter, targetType, converterType)) &#123; request = advice.beforeBodyRead(request, parameter, targetType, converterType); &#125; &#125; return request; &#125; @Override public Object afterBodyRead(Object body, HttpInputMessage inputMessage, MethodParameter parameter, Type targetType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) &#123; for (RequestBodyAdvice advice : getMatchingAdvice(parameter, RequestBodyAdvice.class)) &#123; if (advice.supports(parameter, targetType, converterType)) &#123; body = advice.afterBodyRead(body, inputMessage, parameter, targetType, converterType); &#125; &#125; return body; // ÂèØ‰ª•Ê≠£Â∏∏Ëß£ÊûêÂá∫ËØ∑Ê±ÇÁöÑbody &#125; ‰ΩÜÊòØ‰∏ÄÊó¶Âä†‰∏äËØ∑Ê±ÇÂ§¥Content-Type : application/json.Âú®ÊñπÊ≥ïËøõÂÖ• beforeBodyRead ÈáåÈù¢ÁöÑ forÂæ™ÁéØ ‰πãÂêé‰æøË∑≥ËΩ¨Âà∞‰∫Ü org.springframework.web.servlet.mvc.method.annotationgetMatchingAdvice() ÊñπÊ≥ïÔºåÁÑ∂ÂêéÁªßÁª≠Ëµ∞‰∏ãÂéªÂèëÁé∞Êúâ‰∏ÄÂ§ÑÊèêÁ§∫Â¶Ç‰∏ãÔºö123456789@Overridepublic boolean supports(MethodParameter methodParameter, Type targetType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) &#123; // ConverType :"class org.springframework.http.converter.json.MappingJackson2HttpMessgaeConverter" return (AbstractJackson2HttpMessageConverter.class.isAssignableFrom(converterType) &amp;&amp; methodParameter.getParameterAnnotation(JsonView.class) != null); // methodParamter: "method 'XXX' 'ControllerÊñπÊ≥ï' paramter 0"&#125; 1234567891011public &lt;A extends Annotation&gt; A getParameterAnnotation(Class&lt;A&gt; annotationType) &#123; Annotation[] anns = getParameterAnnotations(); for (Annotation ann : anns) &#123; //annotationType: ‚Äúinterface conk fast erxml. jackson. annotation. JsonView‚Äù ann: ‚Äúorg.springframework.web.bind. annotation. RequestBody(requiredtrue) if (annotationType.isInstance(ann)) &#123; return (A) ann; &#125; &#125; return null;&#125; ‰πüÂ∞±ÊòØËØ¥Âú®‰∏äÈù¢Â∑≤ÁªèËÆ≤JsonËΩ¨Êàê‰∫Ü json.MappingJackson2HttpMessageConverter ÁÑ∂ÂêéÂú® org.springframework.http.converter.json.AbstractJackson2HttpMessageConverterÁöÑread()ÊñπÊ≥ï‰∏≠Ôºö1234567@Override public Object read(Type type, Class&lt;?&gt; contextClass, HttpInputMessage inputMessage) throws IOException, HttpMessageNotReadableException &#123; JavaType javaType = getJavaType(type, contextClass); return readJavaType(javaType, inputMessage); //type :"class java.lang.String" contextClass :"class com.XXX.controller.UserContoller" &#125; ÂêéÊù•Â∞±DEBUG‰∏ç‰∏ãÂéª‰∫Ü„ÄÇ„ÄÇ„ÄÇ ÂéüÂõ†Âá∫Áé∞ËØ•BUGÊòØÂõ†‰∏∫‰ΩøÁî®‰∫Ü MappingJackson2HttpMessageConverter ‰πãÂêé‰ºöÂ∞ÜJsonËß£ÊûêÊàêÂØπË±°ÔºåÊòØStringËÇØÂÆö‰ºöÊä•Èîô„ÄÇ Ëß£ÂÜ≥ÂäûÊ≥ïÔºöË¶Å‰πàÂú® @RequestBodyÈáåÈù¢‰ΩøÁî®ÂØπË±°Êé•Êî∂ÔºåË¶Å‰πà‰øÆÊîπ MappingJackson2HttpMessageConverterÊñπÊ≥ïÂ∞ÜJsonËΩ¨ÊàêÂØπË±°]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTTPËØ∑Ê±ÇÁöÑContentType‰ª•ÂèäÂÖ∂‰ΩøÁî®ËåÉÂõ¥]]></title>
    <url>%2F2018%2F04%2F26%2FHTTP%E8%AF%B7%E6%B1%82%E7%9A%84ContentType%E4%BB%A5%E5%8F%8A%E5%85%B6%E4%BD%BF%E7%94%A8%E8%8C%83%E5%9B%B4%2F</url>
    <content type="text"><![CDATA[Âú®ÂèëÈÄÅËØ∑Ê±ÇÁöÑÊòØÊó∂ÂÄôÊúÄÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ Content-Type ÔºåÂõ†‰∏∫‰∏çÂêåÁöÑ Type ÂØπÂ∫îÁöÑÂàôÊòØ‰∏çÂêåÁ±ªÂûãÁöÑÊï∞ÊçÆÔºå‰ªäÂ§©Ê≠£Â•ΩÊ≤°‰ªÄ‰πà‰∫ãÊÉÖÔºåÊâÄ‰ª•Êù•ÊÄªÁªì‰∏ãÔºö application/jsonËøôÁßçÁ±ªÂûãÂú®ÊúÄËøëÂá†Âπ¥Áî®ÁöÑÊØîËæÉÂ§öÔºå‰∏ªË¶ÅÊòØÁî±‰∫éÁé∞Âú®ÂâçÂêéÁ´ØÂàÜÁ¶ªÔºåÊï∞ÊçÆÁöÑËØ∑Ê±ÇÊñπÂºèÂèØ‰ª•Áî±‰ª•ÂâçÁöÑË°®ÂçïÊèê‰∫§ÈÄêÊ∏êÂÅèÂêë‰∫éJsonÁöÑËøôÁßçÊ†ºÂºè„ÄÇÊâÄ‰ª•ËøôÁßç application/jsonÊ†ºÂºèÁöÑÊï∞ÊçÆ‰πüÂ∞±Ë∂äÊù•Ë∂äÂ§ö‰∫Ü„ÄÇ ËøôÁßçÊï∞ÊçÆÁé∞Âú®‰∏ÄËà¨‰ΩøÁî®ÁöÑËæÉÂ§ö„ÄÇ‰æãÂ¶ÇÔºåÂú®‰ΩøÁî®JqueryÁöÑÊó∂ÂÄôÂ¶ÇÊûúÊ≤°ÊúâÊåáÂÆödataTypeÁöÑËØùÔºåÂú®ÂêéÁ´ØÂèØ‰ª•ËÆæÁΩÆ Content-Type ‰∏∫ application/json ‰πüÊòØÂèØË°åÁöÑ„ÄÇÁî® Java ÂàôÊòØ1response.setHeader("Content-Type","application/json"); application/x-www-form-urlencodedËøôÁßçÂ∞±ÊòØÊúÄÂ∏∏ËßÅÁöÑ‰∏ÄÁßçË°®ÂçïÊèê‰∫§ÊñπÂºèÔºå‰πüÂ∞±ÊòØÂ∏∏Áî®ÁöÑformÊèê‰∫§‰∫Ü„ÄÇÂ¶ÇÊûúÈÄöËøáË°®ÂçïÊèê‰∫§Âπ∂‰∏îÊÉ≥Âú®Ë°®Âçï‰∏≠Ê∑ªÂä†Êñá‰ª∂ÔºåÂàôÈúÄË¶ÅÂú® form Ê†áÁ≠æ‰∏≠Âä†ÂÖ• enctypeÂ±ûÊÄßÔºåÂπ∂‰∏îÊåáÂÆö enctype ‰∏∫ multipart/form-data„ÄÇ ËÄåË°®ÂçïÈªòËÆ§ÁöÑÊòØ application/x-www-form-urlencoded ÊâÄ‰ª•ËØ¥ÂÖ∂ÂÆûÂΩìÊ≤°Êúâ‰∏ªÂä®ÂÜôËøô‰∏™Â±ûÊÄßÁöÑÊó∂ÂÄôÔºåÊµèËßàÂô®Â∑≤ÁªèÂ∏Æ‰Ω†Âä†‰∏äÂéª‰∫Ü„ÄÇ text/plainÊúÄÂ∏∏Áî®ÁöÑ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤‰º†ËæìÁ±ªÂûã]]></content>
      <categories>
        <category>ËÆ°ÁÆóÊú∫ÁΩëÁªú</category>
      </categories>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>ËÆ°ÁÆóÊú∫ÁΩëÁªú</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éÂæÆÊúçÂä°ÁöÑ‰∏Ä‰∫õÊÄùËÄÉ]]></title>
    <url>%2F2018%2F04%2F25%2F%E5%85%B3%E4%BA%8E%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[spring cloud‰ΩøÁî®ELKÊó•ÂøóËÆ∞ÂΩï(Âõõ)]]></title>
    <url>%2F2018%2F04%2F23%2Fspring-cloud%E4%BD%BF%E7%94%A8ELK%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95-%E5%9B%9B%2F</url>
    <content type="text"><![CDATA[Âú®ELKÁöÑ‰ΩøÁî®ËøáÁ®ã‰∏≠ÔºåÈÅáÂà∞‰∫Ü‰∏ÄÁÇπÂõ∞ÈöæÔºå ÊâÄ‰ª•Ê≠£Â•ΩÂÜôËøô‰∏ÄÁØáÊñáÁ´†Êù•ËÆ∞ÂΩï‰∏ãÔºö ÈóÆÈ¢ò‰∏ÄÔºölogstashËøûÊé•elasticsearchÊä•ÈîôËøô‰∏™ÈóÆÈ¢òÂú®ËøôËæπÊòØÁî±‰∫élogstashËøûÊé•Êä•ÈîôÔºåÊü•Áúã‰∫Ü‰∏ãÈîôËØØÊó•ÂøóÂèëÁé∞ÊòØÁî±‰∫éËß£ÊûêÊ®°ÊùøÂá∫ÈîôÔºåÂêéÊù•Êîπ‰∫Ü‰∏ã‰πãÂêé‰æøÂèØ‰ª•ËøûÊé•‰∫Ü ÈóÆÈ¢ò‰∫åÔºökibamaÂèØ‰ª•ËøûÊé•‰∏äelasticsearch‰ΩÜÊòØ‰∏ÄÁõ¥ËØªÂèñ‰∏ç‰∫ÜÊï∞ÊçÆ&quot;Couldn&#39;t find any Elasticsearch dataYou&#39;ll need to index some data into Elasticsearch before you can create an index pattern &quot;Ëøô‰∏™ÈóÆÈ¢òÂá∫Áé∞ÁöÑÂéüÂõ†ÊØîËæÉÂ§çÊùÇÔºåÈúÄË¶Å‰ªîÁªÜÊéíÈô§Ôºå‰∏çËøáÂΩìÂá∫Áé∞Ëøô‰∏™ÈóÆÈ¢òÁöÑÊó∂ÂÄôÂèØ‰ª•ÂÖàÁúã‰∏ãElasticsearch ÊòØÂê¶Âê´ÊúâÊï∞ÊçÆÔºåËã•ÊòØÊ≤°ÊúâÊï∞ÊçÆÂàôÊ∑ªÂä†Êï∞ÊçÆÂç≥ÂèØ„ÄÇhttp://localhost:9200/_cat/indices„ÄÇÂΩìËøô‰∏ÄÊ≠•Ê≤°ÈóÆÈ¢ò‰∫Ü‰ª•ÂêéÔºåËã•ÂèëÁé∞kibanaËøòÊòØÊó†Ê≥ïÊòæÁ§∫Êï∞ÊçÆÂàôÂèØ‰ª•Âú®kibanaÁöÑDevToolÈáåÈù¢Áõ¥Êé•Ê®°ÊãüÊï∞ÊçÆ„ÄÇÂ¶Ç‰∏ãÔºö1234POST test/doc&#123; "filed": "myData"&#125; Ê≠§Êó∂Âà∑Êñ∞http://localhost:9200/_cat/indices,Ëã•ËøòÊòØÊú™Âá∫Áé∞Êï∞ÊçÆÔºåÂàôË°®Á§∫ÂèØËÉΩÊòØlogstashÔºåelasticsearchÂíåkibanaËøûÊé•ÁöÑËøáÁ®ãÂá∫Èîô‰∫ÜÔºåÊ≠§Êó∂Â∞±ÈúÄË¶ÅÊ£ÄÊü•logÊó•Âøó„ÄÇ‰∏ãÈù¢ËøõÂÖ•ËøûÊé•ÈÉ®ÂàÜ ËøûÊé•:È¶ñÂÖàÂú®ÂæÆÊúçÂä°‰∏≠ÂºïÂÖ•logstashÊâÄÈúÄË¶ÅÁöÑjarÔºåÁÑ∂ÂêéÁºñÂÜôlogstash.xml„ÄÇÂÖ∑‰ΩìÂ¶Ç‰∏ãÔºö123456&lt;!-- https://mvnrepository.com/artifact/net.logstash.logback/logstash-logback-encoder --&gt; &lt;dependency&gt; &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt; &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt; &lt;version&gt;4.11&lt;/version&gt; &lt;/dependency&gt; ÁºñÂÜôlogstash.xml„ÄÇÂú®ËøôÈáåÁõ¥Êé•Â∞Üspringcloud‰∏éDockerÂæÆÊúçÂä°ÂÆûÊàòÁöÑlogstash.xmlÊãøÊù•‰ΩøÁî®‰∫Ü1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;configuration&gt; &lt;include resource="org/springframework/boot/logging/logback/defaults.xml" /&gt; ‚Äã &lt;springProperty scope="context" name="springAppName" source="spring.application.name" /&gt; &lt;!-- Example for logging into the build folder of your project --&gt; &lt;property name="LOG_FILE" value="$&#123;BUILD_FOLDER:-build&#125;/$&#123;springAppName&#125;" /&gt; ‚Äã &lt;property name="CONSOLE_LOG_PATTERN" value="%clr(%d&#123;yyyy-MM-dd HH:mm:ss&#125;)&#123;faint&#125; %clr($&#123;LOG_LEVEL_PATTERN:-%5p&#125;) %clr([$&#123;springAppName:-&#125;,%X&#123;X-B3-TraceId:-&#125;,%X&#123;X-B3-SpanId:-&#125;,%X&#123;X-B3-ParentSpanId:-&#125;,%X&#123;X-Span-Export:-&#125;])&#123;yellow&#125; %clr($&#123;PID:- &#125;)&#123;magenta&#125; %clr(---)&#123;faint&#125; %clr([%15.15t])&#123;faint&#125; %clr(%-40.40logger&#123;39&#125;)&#123;cyan&#125; %clr(:)&#123;faint&#125; %m%n$&#123;LOG_EXCEPTION_CONVERSION_WORD:-%wEx&#125;" /&gt; &lt;!-- Appender to log to console --&gt; &lt;appender name="console" class="ch.qos.logback.core.ConsoleAppender"&gt; &lt;filter class="ch.qos.logback.classic.filter.ThresholdFilter"&gt; &lt;!-- Minimum logging level to be presented in the console logs --&gt; &lt;level&gt;DEBUG&lt;/level&gt; &lt;/filter&gt; &lt;encoder&gt; &lt;pattern&gt;$&#123;CONSOLE_LOG_PATTERN&#125;&lt;/pattern&gt; &lt;charset&gt;utf8&lt;/charset&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;!-- Appender to log to file --&gt; &lt;appender name="flatfile" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;file&gt;$&#123;LOG_FILE&#125;&lt;/file&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;fileNamePattern&gt;$&#123;LOG_FILE&#125;.%d&#123;yyyy-MM-dd&#125;.gz&lt;/fileNamePattern&gt; &lt;maxHistory&gt;7&lt;/maxHistory&gt; &lt;/rollingPolicy&gt; &lt;encoder&gt; &lt;pattern&gt;$&#123;CONSOLE_LOG_PATTERN&#125;&lt;/pattern&gt; &lt;charset&gt;utf8&lt;/charset&gt; &lt;/encoder&gt; &lt;/appender&gt; ‚Äã &lt;!-- Appender to log to file in a JSON format --&gt; &lt;appender name="logstash" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;file&gt;$&#123;LOG_FILE&#125;.json&lt;/file&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;fileNamePattern&gt;$&#123;LOG_FILE&#125;.json.%d&#123;yyyy-MM-dd&#125;.gz&lt;/fileNamePattern&gt; &lt;maxHistory&gt;7&lt;/maxHistory&gt; &lt;/rollingPolicy&gt; &lt;encoder class="net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder"&gt; &lt;providers&gt; &lt;timestamp&gt; &lt;timeZone&gt;UTC&lt;/timeZone&gt; &lt;/timestamp&gt; &lt;pattern&gt; &lt;pattern&gt; &#123; "severity": "%level", "service": "$&#123;springAppName:-&#125;", "trace": "%X&#123;X-B3-TraceId:-&#125;", "span": "%X&#123;X-B3-SpanId:-&#125;", "parent": "%X&#123;X-B3-ParentSpanId:-&#125;", "exportable": "%X&#123;X-Span-Export:-&#125;", "pid": "$&#123;PID:-&#125;", "thread": "%thread", "class": "%logger&#123;40&#125;", "rest": "%message" &#125; &lt;/pattern&gt; &lt;/pattern&gt; &lt;/providers&gt; &lt;/encoder&gt; &lt;/appender&gt; ‚Äã &lt;root level="INFO"&gt; &lt;appender-ref ref="console" /&gt; &lt;appender-ref ref="logstash" /&gt; &lt;!--&lt;appender-ref ref="flatfile"/&gt; --&gt; &lt;/root&gt;&lt;/configuration&gt; ÁºñÂÜôÂÆåÊàêËøô‰∏™ÂæÆÊúçÂä°‰πãÂêéÔºåÈúÄË¶ÅÂéªËÆæÁΩÆELKÁõ∏ÂÖ≥ÁöÑconfig elasticsearchÂú®‰ΩøÁî®elasticsearchÁöÑÊó∂ÂÄôÂπ∂‰∏çÈúÄË¶ÅËøáÂ§öÁöÑËÆæÁΩÆ„ÄÇÁîöËá≥ÂèØ‰ª•‰∏çÁî®ËøõË°åËÆæÁΩÆÔºåÊâÄ‰ª•ËøôÈáåÂèØ‰ª•Áõ¥Êé•ÂøΩÁï•Êéâ logstashÂú®‰ΩøÁî®LogstashÁöÑÊó∂ÂÄôÈúÄË¶ÅËÆæÁΩÆ‰∏Ä‰∏™configÊñá‰ª∂ÔºåËØ•Êñá‰ª∂ÊåáÂÆö‰∫ÜËØªÂèñÊó•ÂøóÁöÑË∑ØÂæÑÔºå‰ª•ÂèäÊó•ÂøóÁöÑËøáÊª§ÊñπÂºèÔºåÂíåÊó•ÂøóÁöÑËæìÂá∫ÊñπÂºèÊâÄ‰ª•Âú®ËøôÈáåÈúÄË¶ÅËá™Â∑±ÈÖçÁΩÆ‰∏ãÔºöÂ¶Ç‰∏ã:12345678910111213141516171819input &#123; file &#123; codec =&gt; json path =&gt; &quot;C:\ELK\log\build\microservice-provider-user.json&quot; &#125;&#125;filter &#123; grok &#123; match =&gt; &#123; &quot;message&quot; =&gt; &quot;%&#123;TIMESTAMP_ISO8601:timestamp&#125;\s+%&#123;LOGLEVEL: severity&#125;\s+\[%&#123;DATA:service&#125;,%&#123;DATA:trace&#125;,%&#123;DATA:\span&#125;,%&#123;DATA:exportable&#125;\]\s+%&#123;DATA:pid&#125;---\s+\[%&#123;DATA:thread&#125;\]\s+%&#123;DATA:class&#125;\s+:\ s+%&#123;GREEDYDATA:rest&#125;&quot;&#125; &#125;&#125;output &#123; elasticsearch &#123; hosts =&gt; &quot;localhost:9200&quot; &#125; &#125; input-&gt;pathÊåáÂÆöÁöÑÊòØËØªÂèñÊó•ÂøóÁöÑË∑ØÂæÑÔºåËÄåoutput-&gt;elasticsearchÂàôÊòØ‰ª£Ë°®Â∞ÜÊó•ÂøóËæìÂá∫Âà∞elasticsearch kibanakibanaÁöÑÈÖçÁΩÆÂÖ∂ÂÆû‰∏çÈúÄË¶ÅÂæàÂ§öÔºåÂú®ËøôÈáå‰πü‰ªÖ‰ªÖÈÖçÁΩÆ‰∫ÜËøûÊé•elasticsearchÁöÑÁõ∏ÂÖ≥ËÆæÁΩÆ 123elasticsearch.url: "http://localhost:9200"elasticsearch.username: "elastic"elasticsearch.password: "changeme" ÊúÄÂêé‰æùÊ¨°ÂêØÂä®elasticsearchÔºålogstashÔºåkibana„ÄÇÊúÄÂêéÂ∞ÜÂåÖÂê´logstashÁõ∏ÂÖ≥ÁöÑÂæÆÊúçÂä°ÊâìÂåÖÊàêjarÔºåÁÑ∂ÂêéÂºÄÂêØÊ≥®ÂÜå‰∏≠ÂøÉÔºåÊúÄÂêéËøêË°åËØ•È°πÁõÆÔºåÈöè‰æøËÆøÈóÆ‰∏Ä‰∏™ËøûÊé•ÔºåÂ∫îËØ•ÊòØÂèØ‰ª•Âú®elasticsearchÁúãÂà∞ÂàöÂàöÁöÑÊï∞ÊçÆ ÊÄªÁªì elasticsearchËé∑Âèñ‰∏çÂà∞Êï∞ÊçÆ Ê≠§Êó∂Â∫îËØ•Ê£ÄÊü•logstashÁöÑÊó•ÂøóËßÇÂØüÊòØÂê¶Ê®°ÊùøÂá∫ÈîôÔºåÂè¶Â§ñÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂú®ÂåπÈÖçÁöÑÊó∂ÂÄô‰∏çÂèØ‰ª•‰ΩøÁî®*.jsonÔºå‰∏ÄÂÆöÊòØÈúÄË¶ÅÊñá‰ª∂ÂêçÁß∞Âä†‰∏äjsonÔºåÂ¶Ç‰∏äÈÖçÁΩÆÔºåÂê¶Âàô‰ºöÂØºËá¥Êó†Ê≥ïÊòØË¢´ ÈÖçÁΩÆÂ•Ω‰∫ÜËøòÊòØÊó†Ê≥ïËé∑ÂèñÊï∞ÊçÆ ÂèØ‰ª•Âú®kibanaÁöÑÊéßÂà∂Âè∞ÊâãÂä®Ê∑ªÂä†Êï∞ÊçÆÔºåÁÑ∂ÂêéËÆøÈóÆhttp://localhost:9200/_cat/indices?vÔºåÂ¶ÇÊûúËøòÊòØÊú™Âá∫Áé∞Êï∞ÊçÆÔºåÂàôË°®Á§∫ kibana Âíå elasticsearch ÁöÑËøûÊé•Èô§‰∫ÜÈóÆÈ¢òÔºåÈúÄË¶ÅÊéíÊü•„ÄÇÁõÆÂâçÊèê‰æõ‰∫Ü‰∏§ÁßçÊÄùË∑ØÔºåÁ¨¨‰∏ÄÁßçÊòØÂú®kibanaÁöÑÈÖçÁΩÆ‰∏≠ÊâãÂä®ÈÖçÁΩÆ elasticsearch ÁöÑÂú∞ÂùÄÂíåÁî®Êà∑Âêç‰ª•ÂèäÂØÜÁ†Å„ÄÇÁ¨¨‰∫åÁßçÂàôÊòØÂú® kibana ÁöÑÊéßÂà∂Âè∞ÊâãÂä®Ê∑ªÂä†Êï∞ÊçÆ: Â¶ÇÊûúkibanaËøûÊé•Ê≠£Â∏∏Âàô‰ºöÂú®http://localhost:9200/_cat/indices?vËøôÈáåÂá∫Áé∞ÂàöÂàöÊ∑ªÂä†ÁöÑÊï∞ÊçÆ„ÄÇÊ≤°Âá∫Áé∞ÁöÑËØùÂ∞±ÈúÄË¶Å‰ªîÁªÜÊ£ÄÊü•‰∫Ü]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[springcloudÁöÑÂÖ∂‰ªñÁªÑ‰ª∂‰ΩøÁî®ËÆ∞ÂΩï‰πãConfig(Âõõ)]]></title>
    <url>%2F2018%2F04%2F22%2Fspringcloud%E7%9A%84%E5%85%B6%E4%BB%96%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[Âú®‰ΩøÁî®Spring ConfigÁöÑÊó∂ÂÄôÈÅáÂà∞‰∏Ä‰∫õÂùëÔºåÂú®ËøôÈáåËÆ∞ÂΩï‰∏ãÔºåÈ°∫‰æøÊ¢≥ÁêÜ‰∏ãËøô‰∏™‰ΩøÁî®„ÄÇ Spring Cloud Config‰ΩøÁî®Spring ConfigÊù•ÈÖçÂêàgitÂÅö‰∏Ä‰∏™ÈÖçÁΩÆÊñá‰ª∂ÁÆ°ÁêÜÔºåÈúÄË¶Å‰∏Ä‰∏™ConfigÁöÑÊúçÂä°Á´ØÂíå‰∏Ä‰∏™ConfigÁöÑÂÆ¢Êà∑Á´ØÔºåÊúçÂä°Á´Ø‰∏ªË¶ÅÊòØÂíågit‰ªìÂ∫ìËøõË°å‰∏Ä‰∏™ËøûÊé•ÔºåËÄåconfigÁöÑÂÆ¢Êà∑Á´ØÊòØËøûÊé•ÊúçÂä°Á´ØÊù•Âà∑Êñ∞ÈÖçÁΩÆÊúçÂä°ÁöÑ„ÄÇÂú®Spring Cloud ConfigÈáåÈù¢ÂÆ¢Êà∑Á´ØÈúÄË¶Å‰ΩøÁî®Spring4.0Âá∫Áé∞ÁöÑ‰∏Ä‰∏™Ê≥®Ëß£@ValueÈÖçÂêà‰∏ÄËµ∑‰ΩøÁî® Spring ConfigÊúçÂä°Á´ØÈúÄË¶ÅÂºïÂÖ•‰∏Ä‰∏ãÂá†‰∏™Êñá‰ª∂Ôºö123456789101112&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; Êñ∞Âª∫‰∏Ä‰∏™application.yml123456789101112spring: application: name: microservice-server # nameÂèØ‰ª•Èöè‰æøÂ°´ÂÜôÔºå‰ª£Ë°®Ëøô‰∏™ÊúçÂä°ÁöÑServiceId cloud: config: server: git: uri: https://gitee.com/somersames/sprincloud-config.git # gitÁöÑÂú∞ÂùÄ username: yourname password: yourpasswordserver: port: 8099 # ÊúçÂä°ÂºÄÂêØÁöÑÁ´ØÂè£ Êñ∞Âª∫‰∏Ä‰∏™ÂêØÂä®Á±ªÔºö1234567@SpringBootApplication@EnableConfigServerpublic class ConfigApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(ConfigApplication.class); &#125;&#125; @EnableConfigServer‰ª£Ë°®ÁöÑÊòØÂ∞ÜËøô‰∏™ÂæÆÊúçÂä°‰Ωú‰∏∫ConfigÁöÑÊúçÂä°Âô® ÈÖçÁΩÆÊñá‰ª∂ÈöèÂêéÂú®gitÊúçÂä°Âô®‰∏≠Êñ∞Âª∫Âá†‰∏™Êñá‰ª∂ÔºåÂπ∂‰∏îÊåâÁÖßpeopertiesÁöÑÊ†ºÂºèËæìÂÖ•ÂÜÖÂÆπÔºå‰æãÂ¶Çprofile=adÂ¶Ç‰∏ãÔºö123microservice-foo.propertiesmicroservice-foo-dev.propertiesmicroservice-foo-test.properties ÂàÜÂà´‰ª£Ë°®ÁöÑÊòØÈªòËÆ§ÈÖçÁΩÆÂíåÂºÄÂèëÁéØÂ¢É‰ª•ÂèäÊµãËØïÁéØÂ¢ÉÁöÑÈÖçÁΩÆÊñá‰ª∂„ÄÇ ÂºÄÂêØÊúçÂä°Á´ØËøêË°åÊúçÂä°Á´ØÔºåÁÑ∂ÂêéËÆøÈóÆURLÔºåÂÖ∂‰∏≠URLÁöÑÊ†ºÂºè‰∏∫localhost:port/ÈªòËÆ§ÁöÑÈ°πÁõÆÂêçÁß∞/ÂàÜÊîØ.Ê†ºÂºèËøô‰∏™URLÁöÑÊ†ºÂºèÊúâÂæàÂ§öÁßçÊ†ºÂºèÔºåÂÖ∑‰ΩìÁöÑÂèØ‰ª•ÁôæÂ∫¶‰πãÂêéÂÜçËá™Â∑±Â∞ùËØï1&#123;"name":"microservice-foo","profiles":["dev.json"],"label":"master","version":"7ac2a341dfe7959b809b7d5ec70b980970208b91","state":null,"propertySources":[&#123;"name":"https://gitee.com/somersames/sprincloud-config.git/microservice-foo.properties","source":&#123;"profile":"default-1.0-changeewafasf"&#125;&#125;]&#125; Ê∑ªÂä†ÂÆ¢Êà∑Á´ØÂÆ¢Êà∑Á´Ø‰∏çË¥üË¥£Áõ¥Êé•ÂíågitËøõË°åÈÄö‰ø°ÔºåËÄåÊòØÁõ¥Êé•ÂíåConfigÁöÑÊúçÂä°Á´ØËøõË°åÈÄö‰ø°Ëé∑ÂèñÊúÄÊñ∞ÁöÑÊï∞ÊçÆ Êñ∞Âª∫‰∏Ä‰∏™Â∑•Á®ãÂπ∂‰∏îÊ∑ªÂä†‰∏Ä‰∏™ÈÖçÁΩÆÊñá‰ª∂bootstrap.ymlÔºåÊ≤°ÈîôÔºåÊòØbootstrap.ymlÔºåÁÑ∂ÂêéÂÜçÊñ∞Âª∫‰∏Ä‰∏™ÈÖçÁΩÆÊñá‰ª∂application.yml.Âú®bootstrap.yml‰∏≠Ê∑ªÂä†ÂÜÖÂÆπÔºö12345678spring: application: name: microservice-foo # ËøôÈáåÁöÑÂêçÁß∞Â°´ÂÜôÈ°πÁõÆÁöÑÂêçÁß∞Ôºå‰πüÂ∞±ÊòØÂú®‰πãÂâçËé∑ÂèñÁöÑjsonÈáåÈù¢ÁöÑÈÇ£‰∏™name cloud: config: uri: http://localhost:8099/ # Â°´ÂÜôConfigÊúçÂä°Á´ØÂú∞ÂùÄ profile: dev #È°πÁõÆÁéØÂ¢É label: master #È°πÁõÆÂàÜÊîØ Âú®Application.ymlÈáåÈù¢Ê∑ªÂä†ÂÜÖÂÆπÔºö12server: port: 8088 # ÊúçÂä°ÂºÄÂêØÁöÑÁ´ØÂè£Ôºå‰ªªÊÑèÂç≥ÂèØ Êñ∞Âª∫‰∏Ä‰∏™Controller123456789101112@RestController@RequestMapping("config")public class FeignController &#123; @Value("$&#123;profile&#125;") // ËøôÈáåÁöÑprofile‰∏çÊòØÈöè‰æøÂèñÂæóÔºåËøôÈáåÂèñÂæóÊòØ‰∏äËø∞josnÂ≠óÁ¨¶‰∏≤ÈáåÈù¢ÁöÑpropertySources ‰∏ãÁöÑ source ÈáåÈù¢ÁöÑÈÇ£‰∏™ÈîÆÔºåÂú®Ëøô‰∏™‰æãÂ≠êÈáåÈù¢Â∞±ÊòØprofile, private String profile; @RequestMapping(value = "/profile",method = RequestMethod.GET) public String hello()&#123; return this.profile; &#125;&#125; ÂÖ∂‰ªñÊó†ÈúÄÊîπÂä®ÔºåÁÑ∂ÂêéËÆøÈóÆlocalhost:8099/config/profileÔºåÂèØ‰ª•ÁúãÂà∞Â¶Ç‰∏ãÁªìÊûúÔºö Âà∑Êñ∞ÊúâÊó∂ÂÄôÈúÄË¶ÅÊØîÂ¶ÇÂä®ÊÄÅÂà∑Êñ∞gitÁöÑÊúÄÊñ∞ÈÖçÁΩÆÁöÑËØùÔºåÈúÄË¶ÅÂºïÂÖ•‰∏Ä‰∏™Êñ∞ÁöÑÂåÖÔºö12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt; &lt;version&gt;1.2.7.RELEASE&lt;/version&gt; &lt;!--Ê†πÊçÆËá™Â∑±ÁöÑÁâàÊú¨Ëá™Â∑±ÈÄâÊã©ÂêàÈÄÇÁöÑ --&gt; &lt;/dependency&gt; ÁÑ∂ÂêéÂú®ControllerÈáåÈù¢Ê∑ªÂä†Ê≥®Ëß£@RefreshScope,‰ΩÜÊòØÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÈ´òÁâàÊú¨ÈúÄË¶ÅÂú®bootstrap.ymlÈáåÈù¢Ê∑ªÂä†‰∏Ä‰∏™ÈÖçÁΩÆmanagement:security:enabled: falseÂê¶Âàô‰ºöÂØºËá¥‰øÆÊîπ‰πãÂêéËØ∑Ê±ÇrefreshÂà∑Êñ∞‰∏çÂá∫Êù•„ÄÇ Ëá™Â∑±ÈÄöËøágit‰øÆÊîπÈÇ£‰∏™Êñá‰ª∂‰πãÂêéÁªßÁª≠Â¶Ç‰∏ãÊìç‰ΩúÔºö ÁÑ∂ÂêéPOSTMANÂèëÂá∫‰∏Ä‰∏™POSTËØ∑Ê±ÇÔºå Â¶ÇÊûúÂú®È´òÁâàÊú¨ÈáåÈù¢‰∏çÊ∑ªÂä†ÈÇ£‰∏™ÈÖçÁΩÆ‰ºöÂØºËá¥Âà∑Êñ∞‰∏çÂá∫Êù•ÔºåÂ¶ÇÊûúËá™Â∑±Âà∑Êñ∞‰∏çÂá∫Êù•ÔºåËØ∑Â∞ùËØïÊ∑ªÂä†ÈÇ£‰∏™ÈÖçÁΩÆ,Âè¶Â§ñÈÇ£‰∏™È¢ùÂ§ñÊ∑ªÂä†ÁöÑÈÖçÁΩÆÈúÄË¶ÅÊåâÁÖßÊ†ºÂºèËá™Â∑±Ë∞ÉÊï¥‰∏ã„ÄÇÂà∑Êñ∞‰πãÂêéÂ¶Ç‰∏ãÔºö ÈÇ£‰∏™cvcvcvÂ∞±ÊòØÂàöÂàö‰øÆÊîπÁöÑÂÜÖÂÆπ Ëøô‰∏™Â∞±Â∑Æ‰∏çÂ§öÁªìÊùü‰∫Ü]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>springcloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[springcloud‰ΩøÁî®feignÂØºËá¥ÁöÑExcepted authority ÈîôËØØ(‰∏â)]]></title>
    <url>%2F2018%2F04%2F21%2F%E8%AE%B0%E4%B8%80%E6%AC%A1springcloud%E4%BD%BF%E7%94%A8feign%E5%AF%BC%E8%87%B4%E7%9A%84Excepted-authority-%E9%94%99%E8%AF%AF-%E4%B8%89%2F</url>
    <content type="text"><![CDATA[‰ªäÂ§©Âú®Áî®FeignÁöÑÊó∂ÂÄôÈÅáÂà∞‰∫Ü‰∏Ä‰∏™BUGÔºåËøô‰∏™BUGËôΩÁÑ∂‰∏çÊòØÂæàÈöæÔºå‰ΩÜÊòØÁî±‰∫éÁΩë‰∏äÊ≤°‰ªÄ‰πàËß£ÂÜ≥ÂäûÊ≥ïÔºåËÄåÊòØËá™Â∑±ÁöÑDEBUGËß£ÂÜ≥ÁöÑÔºåÊâÄ‰ª•ÊöÇ‰∏îËÆ∞ÂΩï‰∏ãÔºö ÂºÇÂ∏∏Â∞±ÊòØjava.net.URISyntaxException: Expected authority at index 7: http://ÔºåÂàöÂºÄÂßãÁöÑÊó∂ÂÄô‰∏ÄÂ§¥ÈõæÊ∞¥ÔºåÂú®Google‰∫Ü‰∏ÄÈÅç‰πãÂêéÂπ∂Êú™ÊâæÂá∫Ëß£ÂÜ≥ÂäûÊ≥ïÔºåÂêéÊù•ÂèàÂ∞ùËØï‰∫ÜÂú®‰ª£Á†Å‰∏≠ËøõË°å‰∫ÜDEBUGÔºåÂèëÁé∞‰ª£Á†ÅÂµåÂ•óÁöÑÂ§™Ê∑±‰∫ÜÔºåÊâÄ‰ª•Ê≤°ÂäûÊ≥ïËµ∞‰∏ãÂéªÔºå‰πãÂêé‰æøÂéªStackOverflow‰∏≠Êü•Áúã‰∫Ü‰∏ã‰πüÊ≤°Êúâ‰ªÄ‰πàÂ§¥Áª™Âú®ËøôÈáå‰πüÊ£ÄÊü•Ëøá‰∫ÜÊòØ‰∏çÊòØÊúçÂä°Ê≤°Ê≥®ÂÜåËøòÊòØFeignÁöÑÊ≥®Ëß£ÂæÆÊúçÂä°ÂêçÁß∞ÊòØ‰∏çÊòØÊúâÈóÆÈ¢òÔºåÈÉΩÊòæÁ§∫ÊòØÊ≠£Â∏∏ÁöÑÔºåÂπ∂‰∏îÂèØ‰ª•ÈÄöËøáËøô‰∏™ÂêçÁß∞Ëé∑ÂèñÂÖ∂ÂØπÂ∫îÁöÑÂú∞ÂùÄ ÂêéÊù•‰ªäÊó©Ëµ∑Êù•ÁöÑÊó∂ÂÄôÂÜçÊ¨°ÈÄõStackOverflowÁúãÂà∞Êúâ‰∫∫ÊèêÁ§∫try to debug into the LoadBalancerFeignClient.cleanUrl()„ÄÇÊü•Áúã‰∫Ü‰∏ãËøô‰∏™ÊñπÊ≥ïÁöÑ‰ª£Á†ÅÔºö123static URI cleanUrl(String originalUrl, String host) &#123; return URI.create(originalUrl.replaceFirst(host, "")); &#125; ÁåúÊµã‰∫Ü‰∏ãÂ∫îËØ•ÊòØË¥üË¥£ÂàõÂª∫FeignÁõ∏ÂÖ≥URLÁöÑ‰∏Ä‰∏™Á±ªÔºåÊâÄ‰ª•Â∞ùËØïÂú®ËøôÈáåDEBUGÔºåÁÑ∂ÂêéÂÜçÂºÄÂêØ‰∏Ä‰∏™Ê≠£Â∏∏ÁöÑÂèØ‰ª•‰ΩøÁî®FeignÁöÑÊúçÂä°ÔºåÊúÄÂêéÂèëÁé∞Ëøô‰∏§‰∏™ÊúçÂä°ÁöÑÂå∫Âà´ÊòØÔºåÂú®Ëøô‰∏™Âá∫ÈîôÁöÑÂæÆÊúçÂä°ÈáåÈù¢ÂèëÂá∫ÁöÑËØ∑Ê±ÇÊòØhttp://xxx,ËÄåÊ≠£Â∏∏ÁöÑÂæÆÊúçÂä°ÊòØhttp://xxx/user/name/XX,ÊâÄ‰ª•ÈóÆÈ¢òÈ©¨‰∏äÂ∞±ÂÆö‰ΩçÂá∫Êù•‰∫ÜÔºåÂ∞±ÊòØËØ∑Ê±ÇÁöÑÈóÆÈ¢òÔºå Êü•ÁúãFeignÁöÑÊé•Âè£ÔºåÂèëÁé∞Âú®ÊñπÊ≥ï‰∏äÈù¢ÁöÑ@RequestMappingÂá∫‰∫ÜÈóÆÈ¢òÔºåÂá∫ÈîôÁöÑÈÖçÁΩÆÂ¶Ç‰∏ã:@RequestMapping(name = &quot;movie/user/{username}&quot; ,method = RequestMethod.GET),ËøôÈáåÂÖ∂ÂÆûÂ∫îËØ•ÊòØvalueËÄå‰∏çÊòØnameÔºåËá≥‰∫énameÁöÑ‰ΩúÁî®ÂèÇÁÖßÁΩë‰∏äÁöÑËØ¥Ê≥ïÂ¶Ç‰∏ã(Ëá™Â∑±Âπ∂Êú™ËØÅÂÆû):ÂÅáËÆæÂú®UserController‰∏≠Êúâ‰∏Ä‰∏™getUser()ÊñπÊ≥ïÔºåÈÇ£‰πàÊ≠§Êó∂Â¶Ç‰∏ãÔºö12345public class UserController&#123; @RequestMapping(name="ceshifangfa",value="/getuser",method=RequestMethod.GET)()&#123; &#125;&#125; Âú®jspÈ°µÈù¢ÊòØÂèØ‰ª•ÈÄöËøánameÂ±ûÊÄßÊù•ËÆøÈóÆËøô‰∏™Êé•Âè£Ôºö1&lt;a href="$&#123;s:mvcUrl('UC#ceshifangfa').build()&#125;"&gt;Ëé∑ÂèñÁî®Êà∑&lt;/a&gt; ÈÇ£‰πàÊ≠§Êó∂Âú®ËøôÈáå‰ΩøÁî®nameÁöÑËØùÂØºËá¥‰∫ÜFeignÊâæ‰∏çÂà∞‰∫ÜËÆøÈóÆÁöÑURLÔºåÊâÄ‰ª•Áõ¥Êé•ÊäõÂá∫ÂºÇÂ∏∏„ÄÇÊúÄÂêé‰øÆÊîπ‰∏∫valueÔºå‰∏ÄÂàáÊ≠£Â∏∏ ÊÄªÁªìÂú®Á¢∞Âà∞ÈóÆÈ¢òÁöÑÊó∂ÂÄôËá™Â∑±ÁöÑÊÄùË∑Ø‰∏ÄÂºÄÂßãÊòØÊ≤°ÈîôÁöÑÔºå‰ΩÜÊòØÂΩìÊó∂‰∏çÁü•ÈÅìÂ¶Ç‰ΩïÊâæÂá∫ÈÇ£‰∏™FeignÁöÑÂèëËØ∑Ê±ÇÊñπÊ≥ïÔºåÊâÄ‰ª•‰∏ÄÁõ¥Âç°Âú®ËøôÈáå‰∫Ü„ÄÇÊèêÁ§∫Ôºö‰ª•ÂêéÂÜçStackOverflowÁúãÂà∞Âà´‰∫∫ÁöÑÂõûÁ≠îÁöÑÊó∂ÂÄôÂèØ‰ª•Á®çÂæÆ‰ªîÁªÜÁöÑÊÄùËÄÉ‰∏ã]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>springcloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[springcloudÁöÑÊúçÂä°Ê≥®ÂÜå‰∏éË¥üËΩΩÂùáË°°]]></title>
    <url>%2F2018%2F04%2F20%2Fspringcloud%E7%9A%84%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E4%B8%8E%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%2F</url>
    <content type="text"><![CDATA[Âú®springcloud‰∏≠ÔºåÊúçÂä°Ê≥®ÂÜåÂíåË¥üËΩΩÂùáË°°ÂàÜÂà´ÊòØeurekaÂíåribbon„ÄÇÂÖ∂‰∏≠eurekaÊòØ‰∏Ä‰∏™ÊúçÂä°Ê≥®ÂÜåÁªÑ‰ª∂ÔºåribbonÂàôÊòØ‰∏Ä‰∏™Ë¥üËΩΩÂùáË°°ÁªÑ‰ª∂„ÄÇÂ¶ÇÊûúÂºÄÂêØ‰∫Ühystrix‰πãÂêéribbonÂ∞±ÈªòËÆ§Â∑≤ÁªèÂºÄÂêØ‰∫Ü„ÄÇ EurekaÂú®‰ΩøÁî®EurekaÁöÑÊó∂ÂÄôÊúçÂä°Á´ØÂºÄÂêØ‰πãÂêéÁõ¥Êé•Âú®ÂÆ¢Êà∑Á´ØÁöÑapplication.yml‰∏≠Âä†ÂÖ•Â¶Ç‰∏ã‰ª£Á†ÅÂç≥ÂèØ:1234eureka: client: serviceUrl: defaultZone: http://localhost:8083/eureka/ ÂÖ∂‰∏≠defaultZone‰ª£Ë°®ÁöÑÊòØÊúçÂä°Á´ØÁöÑÂú∞ÂùÄÔºåÂºÄÂêØÊúçÂä°‰πãÂêéÂú®eurekaÁöÑÊúçÂä°Èù¢Êùø‰æø‰ºöÁúãÂà∞Ëøô‰∏™Ê≥®ÂÜå‰ø°ÊÅØ„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÂú®Ëøô‰∏™ÂÆ¢Êà∑Á´Ø‰∏≠Âä†ÂÖ•‰∏Ä‰∫õÂÖÉÊï∞ÊçÆÁöÑËØùÂèØ‰ª•Âä†ÂÖ•Â¶Ç‰∏ãÈÖçÁΩÆÔºö1234instance: prefer-ip-address: true metadata-map: mydata: testydata ÂÖ∂‰∏≠metedata-map‰∏ãÈù¢Â∞±‰ª£Ë°®ÁöÑÊòØËá™Â∑±ÂÆö‰πâÁöÑÂÖÉÊï∞ÊçÆÔºåËøô‰∏™‰ºöÂú®ÂÖ∂‰ªñÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÊü•ÁúãÂæÆÊúçÂä°‰ø°ÊÅØÁöÑÊó∂ÂÄô‰∏ÄÂêåÊòæÁ§∫Âá∫Êù•„ÄÇ ribbonË¥üËΩΩÂùáË°°ÁªÑ‰ª∂ÔºåÂèØ‰ª•Â∞ÜËØ∑Ê±ÇÂùáÂåÄÁöÑÂàÜÂ∏ÉÂú®Áõ∏ÂêåÁöÑÂæÆÊúçÂä°ÂÆû‰æã‰∏äÔºåÈúÄË¶ÅÂá†‰∏™ÂæÆÊúçÂä°ÈÉΩÊòØÂêå‰∏Ä‰∏™Áõ∏ÂêåÂêçÁß∞ÔºåÁ´ØÂè£ÂèØ‰ª•‰∏çÂêå„ÄÇÊñ∞Âª∫‰∏§‰∏™ÂÆ¢Êà∑Á´Ø,Á¨¨‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÁ´ØÂè£Âè∑ÊòØ8085123456789spring: application: name: eurekamovieeureka: client: serviceUrl: defaultZone: http://localhost:8083/eureka/server: port: 8085 Á¨¨‰∫å‰∏™ÂÆ¢Êà∑Á´ØÁ´ØÂè£ÊòØ8087123456789spring: application: name: eurekamovieeureka: client: serviceUrl: defaultZone: http://localhost:8083/eureka/server: port: 8087 Ëøô‰∏§‰∏™ÊúçÂä°Âª∫Á´ãÂπ∂ÂºÄÂêØ‰πãÂêéÔºåÊñ∞Âª∫‰∏Ä‰∏™ÊúçÂä°Á´ØÔºåÁÑ∂ÂêéÈÄöËøáribbonËÆøÈóÆeurekamovieËøô‰∏™ÊúçÂä°ÂêçÁß∞ÔºåËøôÊ†∑ËØ∑Ê±ÇÂ∞±‰ºöÂùáÂåÄÁöÑÂàÜÂ∏ÉÂú®Ëøô‰∏§‰∏™ÊúçÂä°‰∏ä„ÄÇ Âª∫Á´ã‰∏Ä‰∏™RestTemplateËá™Âä®Ê≥®Ëß£Á±ª12345678@Bean@LoadBalancedpublic RestTemplate restTemplate() &#123; return new RestTemplate();&#125;@AutowiredLoadBalancerClient loadBalancerClient; ÊúÄÂêéÂú®ControllerÈáåÈù¢ÁöÑÊñπÊ≥ïÈáåÈù¢ÈÄöËøáË∞ÉÁî®ËØ•ÊúçÂä°ÂêçÁß∞ÂÆåÊàêË∞ÉÁî®„ÄÇ1234RestTemplate restTemplate = new RestTemplate();ServiceInstance instance = loadBalancerClient.choose("EUREKAMOVIE");URI uri = instance.getUri();User user =this.restTemplate().getForEntity(uri+"aa",User.class).getBody(); ÊúÄÂêéÂèØ‰ª•Âú®Âè¶‰∏§‰∏™ÊúçÂä°‰∏≠ÂèØ‰ª•ÁúãÂà∞ËØ∑Ê±ÇÊåâÁÖß‰∏Ä‰∏™‰∏ÄÊ¨°ÁöÑÊñπÂºèÂùáÂåÄÁöÑÂàÜÂ∏ÉÂú®Ëøô‰∏§‰∏™ÂÆû‰æã‰∏≠„ÄÇÂè¶Â§ñÂ∞±ÊòØÂ¶ÇÊûúÈúÄË¶ÅËá™Â∑±ÁºñÂÜôË¥üËΩΩÂùáË°°ÁöÑËßÑÂàôÁöÑËØù„ÄÇÂèØ‰ª•ÂèÇÁÖßÂ¶Ç‰∏ã‰ª£Á†ÅÔºö1234567@Configurationpublic class RibbonConfig &#123; @Bean public IRule ribbonule()&#123; return new RandomRule(); &#125;&#125; Ëá™ÂÆö‰πâÁöÑËßÑÂàôÂè™ÈúÄË¶ÅËøîÂõû‰∏Ä‰∏™IRuleËßÑÂàôÂç≥ÂèØ„ÄÇ]]></content>
      <categories>
        <category>Spring Cloud</category>
      </categories>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>springcloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[spring cloudÂàùÊ≠•ÈÖçÁΩÆ‰πãËµ∑Ê≠•]]></title>
    <url>%2F2018%2F04%2F18%2Fspring-cloud%E5%88%9D%E6%AD%A5%E4%BA%86%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[spring cloudÊòØ‰∏Ä‰∏™ÂæÆÊúçÂä°Ê≤ªÁêÜÊ°ÜÊû∂Ôºå‰∏ªË¶ÅËß£ÂÜ≥ÁöÑÊòØ‰ª•ÂâçÂçïÂ∫îÁî®Ëøá‰∫éËáÉËÇøÁöÑ‰∏Ä‰∫õÈöæÁÇπÔºåÂú®ËøôÈáåËÆ∞ÂΩï‰∏ãÂàùÊ¨°‰ΩøÁî®springcloudÁöÑ‰∏Ä‰∫õËøáÁ®ã ÂàõÂª∫‰∏Ä‰∏™springbootÂ∫îÁî®Âú®ËøôÈáå‰ΩøÁî®ÁöÑÊòØIDEAÁöÑspring InitializrÂàõÂª∫ÁöÑÔºåÂàõÂª∫Â•Ω‰∫Ü‰πãÂêéÂ∞Üapplication.propertiesÊîπÊàêapplication.yml,ÂÖ∂È°πÁõÆÁªìÊûÑÂõæÂ¶Ç‰∏ãÔºö Âú®ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÁî±‰∫éÂú®ËøôÈáåÁöÑTestÊñá‰ª∂‰∏≠Âê´Êúâ‰∏Ä‰∏™@RunWithÊ≥®Ëß£ÔºåÊâÄ‰ª•ÈúÄË¶ÅÂú®pom.xml‰∏≠ÂºïÂÖ•springbootÁöÑtestÂåÖÔºåÂê¶ÂàôÈ°πÁõÆÂèØËÉΩÂêØÂä®‰∏çËµ∑Êù• ÂºïÂÖ•spring cloudÂåÖ1234567891011121314151617181920212223242526&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.4.5.RELEASE&lt;/version&gt;&lt;/parent&gt;&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;Camden.SR7&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt; ËøôÊòØÂÆòÁΩëÁöÑ‰ª•‰∏Ä‰∏™ÈÖçÁΩÆÔºå‰ΩÜÊòØÂú®ÂºïÂÖ•Êú¨Âú∞ÁöÑÊó∂ÂÄôËøòÊòØÈúÄË¶ÅÁ®çÂæÆÂÅöÁÇπ‰øÆÊîπ„ÄÇ‰øÆÊîπ‰πãÂêéÁöÑÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.4.5.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-eureka-server&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;Camden.SR7&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt; Âú®ËøôÈáåÊ∑ªÂä†‰∫Ü&gt;spring-cloud-starter-eureka-server,ËÄå‰∏îÂú®ËøôÈáåÂºïÂÖ•ÁöÑjarÈÉΩ‰∏çÈúÄË¶ÅÊ∑ªÂä†ÁâàÊú¨Âè∑„ÄÇ ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂123456789101112spring: application: name: stock-serviceserver: port: 8083eureka: client: registerWithEureka: false fetchRegistry: false serviceUrl: defaultZone: http://localhost:8084/eureka/ ÊúÄÂêé‰æøÂèØ‰ª•ÂêØÂä®È°πÁõÆ‰∫Ü„ÄÇ ÁªìÊûúËøêË°åÂá∫Êù•ÁöÑÁªìÊûúÂ¶Ç‰∏ãÔºö]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>springcloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[springÊ∫êÁ†ÅÂØºÂÖ•IDEA]]></title>
    <url>%2F2018%2F04%2F17%2Fspring%E6%BA%90%E7%A0%81%E5%AF%BC%E5%85%A5IDEA%2F</url>
    <content type="text"><![CDATA[Âú®Â∞ÜSpringÊ∫êÁ†ÅÂØºÂÖ•IDEAÁöÑËøáÁ®ã‰∏≠Âá∫Áé∞‰∫Ü‰∏Ä‰∏™ÈîôËØØÔºåÂ∞±ÊòØÁúãÂà∞springÊ∫êÁ†ÅÈáåÈù¢Êúâ‰∏Ä‰∏™import-into-idea.mdËøô‰∏™Êñá‰ª∂ÔºåÊåâÁÖßËøô‰∏™Êñá‰ª∂ÈáåÈù¢ÁöÑÂëΩ‰ª§Âú®ÂØºÂÖ•Ê∫êÁ†ÅËá≥IDEAÁöÑËøáÁ®ã‰∏≠‰ºöÊèêÁ§∫‰∏Ä‰∏™ÈùûÊ≥ïÂºÇÂ∏∏„ÄÇÁΩë‰∏ä‰πüÊ≤°ÊúâÂ•ΩÁöÑËß£ÂÜ≥ÂäûÊ≥ïÔºåÂêéÊù•Áõ¥Êé•Âú®IDEAÈáåÈù¢ÈÄâÊã©ÂØºÂÖ•ÔºåÁÑ∂ÂêéÈÄâÊã©‰ª•gradleÁöÑÊñπÂºèÂØºÂÖ•‰πãÂêéÂ∞±ÂèØ‰ª•Ê≠£Â∏∏ËøêË°å‰∫Ü„ÄÇ]]></content>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>spring</tag>
        <tag>gradle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éSQLÂú®Â∑•‰Ωú‰∏≠ÁöÑ‰∏Ä‰∫õÊ≥®ÊÑè‰∫ãÈ°π]]></title>
    <url>%2F2018%2F04%2F16%2F%E5%85%B3%E4%BA%8ESQL%E5%9C%A8%E5%B7%A5%E4%BD%9C%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%2F</url>
    <content type="text"><![CDATA[Âú®Â∑•‰Ωú‰∏≠ÁöÑËØùÔºå‰∏Ä‰∏™sqlËØ≠Âè•ÊúÄÂ•Ω‰∏çË¶ÅËøûÊé•Â§™Â§öÁöÑË°®ÔºåÂê¶Âàô‰ºöÂØºËá¥‰øÆÊîπ‰∏Ä‰∏™Âú∞Êñπ‰πãÂêéÊï¥‰∏™Ë°®ÁªìÊûÑÂ∞±‰ºöÂÖ®ÈÉ®ÁöÑÂá∫ÈîôÔºåÊâÄ‰ª•Ê≠£Á°ÆÁöÑÊñπÊ≥ïÊòØÂ¶ÇÊûú‰∏Ä‰∏™Êé•Âè£Âú®ËÆæËÆ°ÁöÑÊó∂ÂÄôÂ∞±ÈúÄË¶ÅËøîÂõûÂ§ßÈáèÁöÑÊï∞ÊçÆÔºåÈÇ£‰πàÊúÄÂ•ΩÊòØÂú®ÂêéÁ´ØËøõË°åÂ§ö‰∏™ËØ≠Âè•ÁöÑÊü•ËØ¢ÔºåÊúÄÂêéÁªÑÂêàÊàê‰∏Ä‰∏™json‰π¶ËøîÂõûÁªôÂâçÁ´ØÔºåÊàñËÄÖÂú®Êï∞ÊçÆÂ∫ìËÆæËÆ°ÁöÑÊó∂ÂÄôÂ∞±ËÄÉËôëÂà∞Ëøô‰∏™ÈóÆÈ¢òÔºåÂΩìÁÑ∂Ëøô‰∏™ÈóÆÈ¢ò‰∏ÄËà¨Êó†Ê≥ïÈÅøÂÖç]]></content>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>sql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[springwebsocketÁõ∏ÂÖ≥]]></title>
    <url>%2F2018%2F04%2F16%2Fspringwebsocket%E7%9B%B8%E5%85%B3%2F</url>
    <content type="text"><![CDATA[Âú®‰ΩøÁî®SpringÊù•ËøõË°åwebsocketÈÄö‰ø°ÁöÑÊó∂ÂÄôÈúÄË¶ÅÊ≥®ÊÑèÂá†ÁÇπÈóÆÈ¢òÔºö localhost‰∏é127.0.0.1ÁöÑÂå∫Âà´Âú®‰ΩøÁî®127.0.0.1ÁöÑÊó∂ÂÄôÊòØÂèØ‰ª•ÂíåÊúçÂä°Âô®Âª∫Á´ãwebsocketËøûÊé•ÁöÑÔºå‰ΩÜÊòØÂ¶ÇÊûúÊÉ≥Âú®websocketÁöÑinterceptÈáåÈù¢Êã¶Êà™requestÔºåÂπ∂‰∏îËé∑ÂèñsessionÈáåÈù¢ÁöÑÁî®Êà∑ÁöÑËØù„ÄÇËã•Âú®jsËÑöÊú¨ÈáåÂçñÂºÑ‰ΩøÁî®127.0.0.1ÁöÑËØù‰ºö‰ºöÂØºËá¥ÊµèËßàÂô®Âú®ÂèëËµ∑ËØ∑Ê±ÇÁöÑÊó∂ÂÄô‰∏ç‰ºöÂ∏¶‰∏äcookiesÔºåÊâÄ‰ª•Âú®ËøôÈáåËé∑ÂèñÁöÑ‰∏ÄÂÆö‰ºöÊòØ‰∏Ä‰∏™nullÔºåËøôÈáå‰æøÈúÄË¶ÅÊ≥®ÊÑèÔºå‰πüÂ∞±ÊòØËØ¥Âú®ÊµèËßàÂô®‰∏≠ËæìÂÖ•ÁöÑÊòØlocalhostÈÇ£‰πàÂú®websocket‰∏≠ËæìÂÖ•ÁöÑ‰πüÂøÖÈ°ªÊòØlocalhostÔºåÂê¶Âàô‰ºöÂØºËá¥ÊµèËßàÂô®Âú®ËøõË°åwebsocketËØ∑Ê±ÇÁöÑÊó∂ÂÄô‰∏ç‰ºöÂ∏¶‰∏äcookie]]></content>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>websocket</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[shirosËá™ÂÆö‰πâÂºÇÂ∏∏ÁöÑË∑≥ËΩ¨]]></title>
    <url>%2F2018%2F04%2F14%2Fshiros%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8%E7%9A%84%E8%B7%B3%E8%BD%AC%2F</url>
    <content type="text"><![CDATA[Âú®shiro‰∏≠ÁªèÂ∏∏ÈúÄË¶ÅÂØπÁâπÂÆöÁöÑÂºÇÂ∏∏ÂèäËøõË°åÁâπÊÆäÁöÑÂ§ÑÁêÜ„ÄÇ‰∏ÄËà¨Êù•ËÆ≤Âú®shiro‰∏≠ÈÖçÁΩÆÁöÑËØùÊòØÈÄöËøáÂ¶Ç‰∏ã‰ª£Á†ÅÔºö1234567891011121314151617181920&lt;bean id="shiroFilter" class="org.apache.shiro.spring.web.ShiroFilterFactoryBean"&gt; &lt;property name="securityManager" ref="securityManager"/&gt; &lt;property name="loginUrl" value="/login.jsp" /&gt; &lt;property name="unauthorizedUrl" value="/unauthorized.jsp" /&gt; &lt;!--&lt;property name="filters"&gt;--&gt; &lt;!--&lt;map&gt;--&gt; &lt;!--&lt;entry key="roles" value-ref="roles" /&gt;--&gt; &lt;!--&lt;entry key="perms" value-ref="perms" /&gt;--&gt; &lt;!--&lt;/map&gt;--&gt; &lt;!--&lt;/property&gt;--&gt; &lt;!-- ËøáÊª§ÈìæÂÆö‰πâ --&gt; &lt;property name="filterChainDefinitions"&gt; &lt;value&gt; &lt;!--/role/** authc--&gt; &lt;!--/login/main authc--&gt; &lt;!--api/logincheck authc--&gt; &lt;!--message/detail role[EMPLOYEE]--&gt; &lt;/value&gt; &lt;/property&gt; &lt;/bean&gt; ‰ΩÜÊòØÂú®ËøôÈáåÈÖçÁΩÆÁöÑËØù‰ºöÊúâ‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂ∞±ÊòØÈÄöËøáÊ≥®Ëß£@RequireRoles()Ëøô‰∏™Êù•ÈÖçÁΩÆÁöÑÊùÉÈôê‰ºöÂØºËá¥ËøôÈáåÁöÑÈÖçÁΩÆ‰∏ÄÁõ¥Êó†Ê≥ïÁîüÊïàÔºå‰πüÂ∞±ÊòØÂΩìÊó†ÊùÉÈôêÁöÑ‰∫∫ËÆøÈóÆÈúÄË¶ÅÁâπÂÆöÊùÉÈôêÁöÑURLÁöÑÊó∂ÂÄôÂ∞±‰ºöÁõ¥Êé•Âú®È°µÈù¢‰∏äÊòæÁ§∫500ÔºåËÄå‰∏çÊòØËøîÂõûÊàëËøô‰∏™ÊåáÂÆöÁöÑURLÔºåÂêéÊù•Êü•ËØ¢ÂæóÁü•ÊúâÂ¶Ç‰∏ãÂá†‰∏™ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÔºö ‰ΩøÁî®ÈÖçÁΩÆÁöÑÊñπÂºèÈÖçÁΩÆÊùÉÈôêÁöÑËØùËØ•xmlÂèØ‰ª•ÁîüÊïà ‰ΩøÁî®Ê≥®Ëß£ÈÖçÁΩÆÊùÉÈôêÁöÑËØù‰ΩÜÊòØ‰ΩøÁî®xmlÊñπÂºèÈÖçÁΩÆÈîôËØØË∑≥ËΩ¨È°µÈù¢‰∏ç‰ºöË∑≥ËΩ¨Ëá≥ÊåáÂÆöURL ÊâÄ‰ª•Âú®È°πÁõÆ‰∏≠‰ΩøÁî®Ê≥®Ëß£ÈÖçÁΩÆÊùÉÈôêÁöÑËØùÈúÄË¶ÅÂú®xmlÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÖçÁΩÆ‰∏Ä‰∏™ÂºÇÂ∏∏ÂíåÂÖ∂Â§ÑÁêÜÁöÑÁõ∏ÂÖ≥urlÔºåÂ¶Ç‰∏ãÔºö12345678910&lt;!-- ÂÆö‰πâÈúÄË¶ÅÁâπÊÆäÂ§ÑÁêÜÁöÑÂºÇÂ∏∏ÔºåÁî®Á±ªÂêçÊàñÂÆåÂÖ®Ë∑ØÂæÑÂêç‰Ωú‰∏∫keyÔºåÂºÇÂ∏∏È°µÂêç‰Ωú‰∏∫ÂÄº --&gt; &lt;bean class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver"&gt; &lt;property name="exceptionMappings"&gt; &lt;props&gt; &lt;prop key="org.apache.shiro.authz.NestedServletException"&gt;redirect:/unauthorized&lt;/prop&gt; &lt;prop key="org.apache.shiro.authz.UnauthenticatedException"&gt;redirect:/unauthorized&lt;/prop&gt; &lt;prop key="org.apache.shiro.authz.AuthorizationException"&gt;redirect:/unauthorized&lt;/prop&gt; &lt;/props&gt; &lt;/property&gt; &lt;/bean&gt;]]></content>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>shiro</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python‰ΩøÁî®PlotlyÊù•ÁîªÂõæ]]></title>
    <url>%2F2018%2F04%2F13%2FPython%E4%BD%BF%E7%94%A8Plotly%E6%9D%A5%E7%94%BB%E5%9B%BE%2F</url>
    <content type="text"><![CDATA[PlotlyÊòØ‰∏Ä‰∏™ÊØîËæÉÂ•ΩÁöÑÁîªÂõæÂ∑•ÂÖ∑Ôºå‰∏ªË¶ÅÁî®‰∫éÊï∞ÊçÆÁöÑÂ±ïÁ§∫Ôºå‰ª•ÂèäÂàÜÊûêÔºåÊúÄÂ•ΩÈÖçÂêàpandas‰∏ÄËµ∑‰ΩøÁî®ÂèëÊå•Âá∫ÊúÄÂ§ßÁöÑ‰ΩúÁî® ÂºïÂÖ•Âü∫Á°ÄÂ∫ì123456import plotlyimport pymysqlimport sysimport plotly.plotlyimport plotly.graph_objs as goimport pandas as pd ÁîªÂõæÔºöÂú®ËøôÈáåÁîªÂõæÁöÑËØùÂèØ‰ª•‰ΩøÁî®ÂèÇÁÖßÂÆòÁΩëÁªôÂá∫ÁöÑ‰∏Ä‰∏™È•ºÂΩ¢Âõæ‰æãÂ≠êÔºö123456789labels = ['Oxygen','Hydrogen','Carbon_Dioxide','Nitrogen']values = [4500,2500,1053,500]colors = ['#FEBFB3', '#E1396C', '#96D38C', '#D0F9B1']trace = go.Pie(labels=labels, values=values, hoverinfo='label+percent', textinfo='value', textfont=dict(size=20), marker=dict(colors=colors, line=dict(color='#000000', width=2))) go.pie()ÂáΩÊï∞ÁöÑÂèÇÊï∞Âê´‰πâÂàÜÂà´ÊòØÂêçÂ≠óÔºåÂÄºÔºåÈº†Ê†áË¶ÜÁõñÂêéÈúÄË¶ÅÊòæÁ§∫ÁöÑ‰ø°ÊÅØÔºöÊ†áÁ≠æÂíåÂç†ÊØîÔºåÊúÄÂêé‰∏Ä‰∏™ÊòØÈ•ºÂΩ¢ÂõæÊØè‰∏ÄÂùóÊòæÁ§∫ÂÜÖÂÆπÔºåÊòØÈôêÂà∂Êï∞ÈáèËøòÊòØ‰ªÄ‰πàÔºåÊúÄÂêéÂ¶ÇÊûúÈúÄË¶ÅÂú®Êú¨Âú∞‰ºöÂêêÁöÑËØùÈúÄË¶ÅË∞ÉÁî®Á¶ªÁ∫øÁîªÂõæÂáΩÊï∞Ôºå‰ΩÜÊòØË≤å‰ººÂÆÉÁöÑÂõæÂΩ¢‰ºöÊØîÂú®Á∫øÁöÑÂ∞ë‰∏çÂ∞ë„ÄÇ 1plotly.offline.plot([trace]) Ëã•ÈúÄË¶ÅÁªòÂà∂Â§ö‰∏™ÁöÑËØùÁ±ª‰ºº‰∫éÊäòÁ∫øÂõæÂèØ‰ª•‰øÆÊîπ‰∏∫plotly.offline.plot([trace1,trace2])ÊàñËÄÖÁõ¥Êé•data=[trace1,trace2]ÁÑ∂Âêéplotly.offline.plot(data)]]></content>
      <tags>
        <tag>python</tag>
        <tag>plotly</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mybatis‰∏≠sqlÊéíÂ∫è‰ª•Âèä#Âíå$ÁöÑÂå∫Âà´(‰∫å)]]></title>
    <url>%2F2018%2F04%2F12%2FMybatisz%E4%B8%ADsql%E6%8E%92%E5%BA%8F%E4%BB%A5%E5%8F%8A-%E5%92%8C-%E7%9A%84%E5%8C%BA%E5%88%AB-%E4%BA%8C%2F</url>
    <content type="text"><![CDATA[mybatisÁöÑorderbyÂú®‰ΩøÁî®mybatisÁöÑÊó∂ÂÄôÔºå‰∏ÄËà¨Êù•ËÆ≤ÊòØ‰ΩøÁî®#{}ËøôÁßçÊñπÂºèÊù•ËÆæÁΩÆsqlÁöÑÂèÇÊï∞ÔºåÂõ†‰∏∫mybatisÂú®Ëß£ÊûêsqlÁöÑÊó∂ÂÄôÁöÑÊó∂ÂÄôÂØπ‰∫é‰ΩøÁî®#{}ÁöÑÂèÇÊï∞È¶ñÂÖà‰ºöËß£ÊûêÊàê?,ÁÑ∂ÂêéÂÜçÂä†ÂÖ•ÂèÇÊï∞„ÄÇÂÖ∑‰ΩìÂèØ‰ª•ÁúãmybatisÁöÑËß£ÊûêÊó•ÂøóÔºö12DEBUG [main] - ==&gt; Preparing: select * from clazzentity where clazz_name = ? DEBUG [main] - ==&gt; Parameters: ‰∏ÄÂπ¥Á∫ß(String) ‰ΩÜÊòØÂú®mybatis‰∏≠Â¶ÇÊûúÈúÄË¶Å‰ΩøÁî®groupbyÂíåorderbyÁöÑËØùÂ∞±ÈúÄË¶ÅÊ≥®ÊÑè‰∏çÂèØ‰ª•‰ΩøÁî®#‰∫ÜÔºåÂõ†‰∏∫‰ΩøÁî®#ÁöÑËØù‰ºöÂØºËá¥Ëß£ÊûêÂá∫Êù•ÁöÑÂèÇÊï∞Ëá™Âä®ÁöÑÂ∏¶‰∫Ü‰∏Ä‰∏™ÂºïÂè∑,ËÄå‰ΩøÁî®$ÁöÑËØùÂ∞±‰ºöÁõ¥Êé•ÊääÂèÇÊï∞Â∏¶ËøõÂéªÔºåÊâÄ‰ª•Âú®ËøõË°ågroupbyÁöÑÊó∂ÂÄôÊòØÈúÄË¶Å‰ΩøÁî®$Êù•ËøõË°åÂèÇÊï∞ÁöÑÊõøÊç¢ÁöÑ„ÄÇ‰ΩÜÊòØÂú®‰ΩøÁî®${}Ëøô‰∏™ÁöÑÊó∂ÂÄôÈúÄË¶ÅÊ≥®ÊÑè‰∏ã„ÄÇ mybatisÁöÑÂ§öÂèÇÊï∞ÂíåÂçïÂèÇÊï∞ÂçïÂèÇÊï∞mybatisÁöÑÂçïÂèÇÊï∞‰∏ÄËà¨Êù•ËÆ≤ÊòØ‰ºöËá™Âä®Ë¢´ËØÜÂà´ÁöÑÔºå#ÁöÑËØùÁõ¥Êé•ÂèØ‰ª•Âä†ÂèÇÊï∞ÂêçÁß∞Ôºå$ÁöÑËØùÂàôÊòØ‰ΩøÁî®_paramterÊù•Êé•Êî∂ Â§öÂèÇÊï∞parammybatis‰∏≠Ëã•ÈúÄË¶Å‰ΩøÁî®Â§öÂèÇÊï∞ÁöÑËØùË¶Å‰πà‰ΩøÁî®@paramÊ≥®Ëß£ÔºåË¶Å‰πà‰ΩøÁî®ÈõÜÂêàÊàñËÄÖÂØπË±°Êù•‰Ωú‰∏∫ÂèÇÊï∞,ÂÖ∂‰ª£Á†ÅÂ¶Ç‰∏ãÔºö1List&lt;Map&lt;String,Object&gt;&gt; queryStudnet2(@Param("CLAZZID") String clazzId ,@Param("name") String name); ËÄåÂÖ∂ÈÖçÁΩÆÊñá‰ª∂ÂàôÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö123&lt;select id="queryStudnet2" resultType="java.util.HashMap" &gt; select count(CLAZZ_ID) as 'id' , CLAZZ_ID from student GROUP by $&#123;CLAZZID&#125; order by $&#123;name&#125; &lt;/select&gt; Âú®${}ÈáåÈù¢ÁöÑÂèÇÊï∞ÂÖ®ÈÉ®ÊòØ@Param,ÊâÄ‰ª•ËøôÊòØ‰∏ÄÁßçÂ§öÂèÇÊï∞‰º†ÈÄíÊñπÂºèÔºåÂêåÊó∂ËøôÁßçÊñπÂºèËøõË°å‰º†ÂèÇÁöÑËØù#Âíå$ÈÉΩÂèØ‰ª•Ëß£ÊûêÔºå ListListÁöÑ‰º†ÂèÇÂ∫îËØ•Âè™ÊòØÈÄÇÁî®‰∫éforeachËø≠‰ª£,‰πüÂ∞±ÊòØÈúÄË¶ÅÂä®ÊÄÅÁöÑÊâßË°åÂ§öÊù°ËØ≠Âè•ÁöÑÊó∂ÂÄôÊâç‰ºö‰ΩøÁî®List JavaÂØπË±°ËÄåJavaÂØπË±°‰º†ÂèÇÁöÑËØùÂú®ÂÖ•ÂèÇÁöÑÂú∞ÊñπÈúÄË¶ÅÂä†ÂÖ•JavaÂØπË±°ÁöÑÂÆû‰ΩìÁ±ªÔºå‰ΩÜÊòØÂú®Êü•ËØ¢ÈúÄË¶ÅËøîÂõûÁªìÊûúÁöÑÊó∂ÂÄôÂèØ‰ª•ÈÄöËøáresultMapÊé•Êî∂Ôºå‰∏çÊòØ‰∏Ä‰∏™map‰πüÂèØ‰ª•ÊòØ‰∏Ä‰∏™JavaÂØπË±°‰πüÂèØ‰ª•Êé•Êî∂Ôºå‰ΩÜÊòØÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÈÄöËøáJavaÂØπË±°Êé•Êî∂ÁöÑËØùË¶ÅjavaÂ≠óÊÆµÂíåsqlÁöÑÂ≠óÊÆµÊò†Â∞Ñ„ÄÇ‰∏ÄÁßçÂ∞±ÊòØÂ∑≤ÁªèËØ¥‰∫ÜÁöÑresultMapÔºåÂè¶‰∏ÄÁßçÂ∞±ÊòØÊï∞ÊçÆÂ∫ìËøîÂõûÂ≠óÊÆµËÆæÁΩÆÂà´ÂêçÁÑ∂ÂêéËÆ©ÂÖ∂ËøîÂõûÁöÑÊòØJavaÂØπË±°ÁöÑÂ≠óÊÆµ MapmapÂàôÈÄÇÁî®‰∫éÂ§öÂèÇÊï∞‰º†ÈÄíÔºåÁ±ª‰ºº‰∫éjavaÂØπË±°ÈÄöËøámap‰º†ÈÄíÂèÇÊï∞ÁöÑËØùÊòØÊúÄÂ∏∏ËßÅÁöÑ‰∏ÄÁßçÊñπÂºèÂú®‰º†ÂÖ•#{}ÁöÑÂä®ÊÄÅÂèÇÊï∞Ôºå‰ΩÜÊòØÂú®‰ΩøÁî®mapÁöÑÊñπÂºèÁöÑÊó∂ÂÄôÈúÄË¶ÅÊ≥®ÊÑèÔºåÈÄöËøámap‰º†ÂÄºÁöÑËØùÔºåÁî®${}ÊòØÊé•Âèó‰∏çÂà∞ÁöÑÔºå‰ºöÁõ¥Êé•ÊäõÂá∫ÂºÇÂ∏∏12### Error querying database. Cause: org.apache.ibatis.builder.BuilderException: Error evaluating expression &apos;_paramter.clazz&apos;. Cause: org.apache.ibatis.ognl.OgnlException: source is null for getProperty(null, &quot;clazz&quot;)### Cause: org.apache.ibatis.builder.BuilderException: Error evaluating expression &apos;_paramter.clazz&apos;. Cause: org.apache.ibatis.ognl.OgnlException: source is null for getProperty(null, &quot;clazz&quot;) ÊâÄ‰ª•map‰º†ÂÄºÁöÑËØùÊúÄÂ•ΩÊòØ‰º†ÂÖ•ÈúÄË¶Å#{}Êé•ÂèóÁöÑÂèÇÊï∞ Á¥¢Âºï‰º†ÂèÇ‰ªÖÈÄÇÁî®‰∫é#123 &lt;select id="queryStudnet3" resultType="java.util.HashMap" &gt; select count(CLAZZ_ID) as 'id' , CLAZZ_ID from student GROUP by #&#123;arg0&#125; order by #&#123;arg1&#125;&lt;/select&gt; Java‰ª£Á†ÅÂ¶Ç‰∏ãÔºö1234//DaoÂ±Ç‰ª£Á†ÅList&lt;Map&lt;String,Object&gt;&gt; queryStudnet3(String clazzId ,String name);//ÂÆûÈôÖÊñπÊ≥ï List&lt;Map&lt;String,Object&gt;&gt; list =clazz.queryStudnet3("CLAZZ_ID","id"); ÈÄöËøáËøô‰∏™ÊñπÂºè‰º†ÂèÇÁöÑËØùÈúÄË¶ÅÊ≥®ÊÑèmybatisÁöÑÊèêÁ§∫‰ΩøÁî®arg0ËøòÊòØparam ÂºÇÂ∏∏Ê±áÊÄª1Cause: org.apache.ibatis.executor.ExecutorException: A query was run and no Result Maps were found for the Mapped Statement &apos;study.dao.clazzStudent.queryStudnet2&apos;. It&apos;s likely that neither a Result Type nor a Result Map was specified Ëøô‰∏™Ë°®Á§∫Ëã•ËøîÂõûÁöÑÊòØ‰∏Ä‰∏™ÈõÜÂêàÁöÑËØùÈúÄË¶ÅÂà∂ÂÆö‰∏ãËøîÂõûÁöÑÁ±ªÂûã„ÄÇÂÖ∂‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python2.7‰ΩøÁî®PandasËøûÊé•Êï∞ÊçÆÂ∫ì]]></title>
    <url>%2F2018%2F04%2F11%2FPPython2-7%E4%BD%BF%E7%94%A8Pandas%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%2F</url>
    <content type="text"><![CDATA[‰ªäÂ§©ÈÅáÂà∞‰∏Ä‰∏™ÈúÄÊ±ÇÔºåÈúÄË¶ÅÂ∞ÜExcel‰∏≠ÁöÑ‰∏Ä‰∫õÊï∞ÊçÆÂØºÂÖ•Âà∞mysql‰∏≠ÔºåÁî±‰∫é‰πãÂâçÊé•Ëß¶Âà∞‰∫ÜPythonÁöÑPandasÔºåÊâÄ‰ª•Ëøô‰∏™Êó∂ÂÄô‰æøÊÉ≥Âà∞‰∫ÜPythonÔºå‰ΩÜÊòØËøûÊé•Êï∞ÊçÆÂ∫ìÁöÑÊó∂ÂÄôÂá∫Áé∞‰∫ÜÈóÆÈ¢òÔºåÊâÄ‰ª•‰æøÂÜô‰∏Ä‰∏™ÊñáÁ´†ËÆ∞ÂΩï‰∏ã„ÄÇ Ëß£ÂÜ≥ÂäûÊ≥ïÔºö ‰∏ãËΩΩMysql_PythonÁöÑ‰∏Ä‰∏™exeÊñá‰ª∂ Ê≥®ÊÑètosqlÁöÑËøô‰∏™ÊñπÊ≥ï‰ΩøÁî®ÁöÑÁ±ª„ÄÇpd.io.sql.to_sql Ê≥®ÊÑèÊ∑ªÂä†index=FalseÈò≤Ê≠¢Âá∫Áé∞Âá∫ÂÖ•ÁöÑÊó∂ÂÄôÂ§ö‰∫Ü‰∏Ä‰∏™index sqlalchemyÊñπÂºèËøûÊé•ÂØºÂÖ•Â∫ìÁî±‰∫é‰ΩøÁî®ÁöÑÁâàÊú¨ÊòØPython2.7.14ÔºåÊâÄ‰ª•Âú®ÂÆâË£ÖMySQLdbÁöÑÊó∂ÂÄô‰∏ÄÁõ¥Âá∫Áé∞ÈóÆÈ¢òÔºåÂ§ßÊÑèÂ∞±ÊòØËØ¥ÈúÄË¶ÅÂçáÁ∫ßpipÔºå‰ΩÜÊòØpipÂ∑≤ÁªèÂçáÁ∫ß‰∫Ü„ÄÇÊâÄ‰ª•ÂéªÁΩë‰∏äÊü•ËØ¢Ëß£ÂÜ≥ÂäûÊ≥ïÊòØÈúÄË¶ÅÂÆâË£Ö‰∏Ä‰∏™Êñá‰ª∂Mysql-Python„ÄÇ„ÄÇ„ÄÇ.exe‰ΩÜÊòØËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁâàÊú¨ÔºåÂÆòÁΩë‰∏ãËΩΩÁöÑÊòØwin32ÁöÑÔºåÊâÄ‰ª•ÂØºËá¥‰∏ÄÁõ¥ËØÜÂà´‰∏çÂà∞Python2.7ÁöÑË∑ØÂæÑÔºåÂØºËá¥MySQLdbËøô‰∏™‰∏ÄÁõ¥ÂÆâË£Ö‰∏ç‰∏ä„ÄÇ Âè¶Â§ñÈúÄË¶ÅÂØºÂÖ•ÁöÑÂ∫ìÂ∞±ÊòØPandas‰∫Ü to_sql()Âú®Êü•ÁúãÂÆòÁΩëAPI(pandas1.6.0ÁâàÊú¨)ÁöÑÊó∂ÂÄôÔºåÂèëÁé∞ÊòØpd.to_sql()Ôºå‰ΩÜÊòØÂÆûÈôÖ‰∏äËøôÈáåÊòØpd.io.sql.to_sql(),ÂèÇÊï∞ËøòÊòØ‰∏çÂèò„ÄÇ1234567def ins(cls): xls = pd.ExcelFile(U'C:\\Users\\SZH\\Desktop\\aaa\\productË°®.xlsx') previous_score_csv_file = xls.parse(U'Sheet1'); conn = create_engine('mysql+mysqldb://root:root//@localhost:3306/vendor?charset=utf8') pd.io.sql.to_sql(previous_score_csv_file,"product",conn,if_exists='append',index=False) # c.commit() print previous_score_csv_file ÊúÄÂêé‰æøÂèØ‰ª•‰∫Ü„ÄÇ MySQLdbÊñπÂºèËøûÊé•ÊöÇÊó∂Êâæ‰∏çÂà∞Ëß£ÂÜ≥ÂäûÊ≥ï]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Mysql</tag>
        <tag>pandas</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mybatisÂíåmysqlÂæóÁõ∏ÂÖ≥ËÆ∞ÂΩï]]></title>
    <url>%2F2018%2F04%2F10%2Fmybatis%E5%92%8Cmysql%E5%BE%97%E7%9B%B8%E5%85%B3%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[È¶ñÂÖàÂØπ‰∫éMybatisÊù•ËØ¥ÔºåÂ¶ÇÊûúÊòØÁõ¥Êé•Â§çÂà∂mysqlÈáåÈù¢ÁöÑËØ≠Âè•Á≤òË¥¥Âà∞mybatisÁöÑmapperÊñá‰ª∂ÈáåÈù¢ÂéªÁöÑËØùÂæàÂÆπÊòìÂØºËá¥userËØªÂèñÂá∫ÈîôÔºåÂÅáËÆæÂú®mysql‰∏≠select * from user XXÔºåËã•Áõ¥Êé•ÊääËøôÊù°sqlËØ≠Âè•Â§çÂà∂Âà∞mapperÊñá‰ª∂‰∏≠ÁöÑËØù‰ºöÂØºËá¥user‰ºöÊàê‰∏∫mapperÊñá‰ª∂‰∏≠ÁöÑÂÖ≥ÈîÆÂ≠ó]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mybatis‰∏≠Â§öÊù°ËØ≠Âè•ÊèíÂÖ•Âíå‰∏ªÈîÆËøîÂõû]]></title>
    <url>%2F2018%2F04%2F09%2Fmybatis%E4%B8%AD%E5%A4%9A%E6%9D%A1%E8%AF%AD%E5%8F%A5%E6%8F%92%E5%85%A5%E5%92%8C%E4%B8%BB%E9%94%AE%E8%BF%94%E5%9B%9E%2F</url>
    <content type="text"><![CDATA[Âú®MybatisÁöÑ‰ΩøÁî®‰∏≠ÔºåÊúâÊó∂ÂÄô‰ºöÂá∫Áé∞ÈúÄË¶Å‰∏ÄÂØπÂ§öÁöÑÂú∫ÊôØÔºåÂ∞§ÂÖ∂ÊòØÂú®ÊèíÂÖ•ÁöÑËøáÁ®ã‰∏≠ÔºåÂç≥ÂÅáËÆæÂ≠òÂú®AÔºåB‰∏§Ë°®„ÄÇAË°®ÂØπBË°®ÊòØ‰∏ÄÂØπÂ§öÁöÑÂÖ≥Á≥ªÔºåÂú®ÊèíÂÖ•Êï∞ÊçÆÁöÑËøáÁ®ã‰∏≠ÈúÄË¶ÅÂÖàÊèíÂÖ•AË°®ÔºåÈÄöËøáAË°®ËøîÂõûÁöÑ‰∏ªÈîÆÁÑ∂ÂêéÂÜçËøõË°åBË°®ÁöÑÊü•ËØ¢ÔºåËøô‰∏™Êó∂ÂÄô‰∏ÄËà¨Êúâ‰∏§ÁßçÊìç‰Ωú„ÄÇ ÊñπÊ≥ï‰∏ÄÔºöÈ¶ñÂÖàËé∑ÂèñAË°®ÁöÑ‰∏ªÈîÆÔºåÁÑ∂ÂêéÈÄöËøáforÂæ™ÁéØËøõË°åBË°®ÁöÑÊèíÂÖ•ÊñπÊ≥ï‰∫åÔºö‰ΩøÁî®mybatisÁöÑforeachËøõË°åÂ§öÊù°ËØ≠Âè•ÁöÑÊèíÂÖ• Âú®ËøôÈáåÁöÑËØù‰∏ªË¶ÅÊòØËÆ∞ÂΩï‰∏ãÁ¨¨‰∫åÁßçÊñπÊ≥ïÔºåÂç≥ÈÄöËøámybatisÁöÑforeachÊù•ÂÆûÁé∞Â§öÊù°ËØ≠Âè•ÁöÑÊèíÂÖ•: Âª∫Á´ãÊï∞ÊçÆÂ∫ìË°®1234567891011121314151617mysql&gt; select * from clazz;+----------+------------+| CLAZZ_ID | CLAZZ_NAME |+----------+------------+| 1 | ‰∏ÄÂπ¥Á∫ß |+----------+------------+1 row in set (0.00 sec)mysql&gt; select * from student;+----------+--------+----------+| CLAZZ_ID | STU_ID | STU_NAME |+----------+--------+----------+| 1 | 101 | a || 1 | 102 | b |+----------+--------+----------+2 rows in set (0.00 sec) Âú®Êï∞ÊçÆÂ∫ìÂª∫Á´ãÁöÑ‰∏§Âº†Ë°®‰ºöÂèëÁé∞Áè≠Á∫ßË°®ÂíåÂ≠¶ÁîüË°®ÊòØ‰∏ÄÂØπÂ§öÁöÑÂÖ≥Á≥ªÔºåÊ≠§Êó∂Â¶ÇÊûú‰∏Ä‰∏™Áè≠Á∫ßÈúÄË¶ÅÊèíÂÖ•ËÆ∏Â§ö‰∏™Â≠¶ÁîüÁöÑËØùÔºåÊ≠§Êó∂Â∞±Ë¶Å‰ΩøÁî®mybatisÁöÑforeachËøõË°åÂ§öÊù°ËØ≠Âè•ÁöÑÊèíÂÖ•‰∫Ü Âç†‰ΩçÁ¨¶Âú®ËøôÈáåÂæóËØùÈúÄË¶ÅÊèíÂÖ•Â§öÊù°ËØ≠Âè•ÂæóÊó∂ÂÄô‰∏çËÉΩ‰ΩøÁî®#ÔºåËÄåÊòØÂ∫îËØ•‰ΩøÁî®$„ÄÇÂú®ËøôÈáå‰∏∫‰ªÄ‰πàÊòØËøô‰∏™ÁæéÂÖÉÁöÑÁ¨¶Âè∑ÔºåÊöÇÊó∂ÂæóÁåúÊµãÊòØ$Ëß£ÊûêÂæó‰∏∫ÈùôÊÄÅÂæóÔºå‰πüÂ∞±ÊòØËØ¥mybatis‰ºöËÆ≤ÈõÜÂêàÈáåÈù¢ÁöÑÂÄºÁõ¥Êé•Â°´ÂÖÖËøõÊù•ÔºåÁ±ª‰ºº‰∫éÂú®ApplicationContext.xml‰∏≠Âä®ÊÄÅÁöÑÂä†ËΩΩjdbc.propertiesÔºåÈúÄË¶Å‰ΩøÁî®$Á¨¶Âè∑„ÄÇÊñ∞Âª∫DaoÂ±ÇÁ±ªÔºö123public interface clazzStudent &#123; Integer insertToStudent(List&lt;Map&lt;String,Object&gt;&gt; map);&#125; ÁÑ∂ÂêéÂª∫Á´ã‰∏é‰πãÂØπÂ∫îÁöÑmapperÊñá‰ª∂Ôºö123456&lt;insert id="insertToStudent" &gt; insert into student(CLAZZ_ID,STU_ID,STU_NAME) values &lt;foreach collection="list" item="item" index="index" separator=","&gt; ($&#123;item.get("clazz")&#125;,$&#123;item.get("stu")&#125;,$&#123;item.get("name")&#125;) &lt;/foreach&gt; &lt;/insert&gt; ÊúÄÂêéÂª∫Á´ãÊµãËØïÁ±ªÔºö1234567891011121314151617181920212223public static void main(String args[]) &#123; Logger logger = null; logger = Logger.getLogger(MybatisExample.class.getName()); logger.setLevel(Level.DEBUG); SqlSession sqlSession = null; try &#123; sqlSession = study.mybatis.MybatisUtil.getSqlSessionFActory().openSession(); clazzStudent clazz = sqlSession.getMapper(clazzStudent.class); List&lt;Map&lt;String,Object&gt;&gt; list =new ArrayList&lt;Map&lt;String, Object&gt;&gt;(); for(int i=0 ;i&lt;3;i++)&#123; Map&lt;String,Object&gt; itemmap =new HashMap&lt;String, Object&gt;(); itemmap.put("clazz",1); itemmap.put("stu",i); itemmap.put("name","'adsads'"); list.add(itemmap); &#125; int n=clazz.insertToStudent(list); System.out.println(n); sqlSession.commit(); &#125; finally &#123; sqlSession.close(); &#125; &#125; Âú®ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÂæóÊòØ&lt;foreach collection=&quot;list&quot; item=&quot;item&quot; index=&quot;index&quot; separator=&quot;,&quot;&gt;Âú®Ëøô‰∏™ÈáåÈù¢ÁöÑËØùcollection=&quot;list&quot;ËøôÈáåÁöÑlistÂÖ∂ÂÆû‰∏çÈúÄË¶ÅÂíåmainÊñπÊ≥ï‰∏≠ÂæólistÂêçÁß∞ÂØπÂ∫îÔºå‰πüÂ∞±ÊòØËØ¥Âú®JavaÂæómainÊñπÊ≥ï‰∏≠Â∞ÜList&lt;Map&lt;String,Object&gt;&gt; list =new ArrayList&lt;Map&lt;String, Object&gt;&gt;()Ëøô‰∏™listÊîπÊàêlist1‰πüÂèØ‰ª•ÊèíÂÖ•Â§öÊù°ËØ≠Âè•ÔºåËøôÈáåÂèÇÊï∞list‰∏écollection‰∏≠ÂæóÂêçÁß∞Êó†ÂÖ≥„ÄÇ separatorÂàÜÈöîÁ¨¶Ôºå‰ΩúÁî®ÊòØforeach‰∏ãÈù¢ÁöÑËØ≠Âè•ÊâßË°åÂÆå‰∫Ü‰πãÂêé‰πãÂêéÁî®‰ªÄ‰πàËøõË°åÂàÜÂâ≤„ÄÇËÄåitemÂàô‰ª£Ë°®ÂæóÊòØÈáåÈù¢ÂæóÈÇ£‰∏™mapÔºå indexindex‰ª£Ë°®ÁöÑÊòØÁ¥¢ÂºïÔºåÁõÆÂâçÊöÇÊó∂Ê≤°Áî®Âà∞ÔºåÊâÄ‰ª•Â∞±ÂÜô‰∏Ä‰∏™Á¥¢Âºï Âà©Áî®JavaÂØπË±°ËøõË°åËø≠‰ª£‰øÆÊîπ‰ª£Á†Å‰πãÂêé‰πüÂèØ‰ª•Âà©Áî®JavaÂØπË±°ËøõË°å‰º†ÂèÇ123456789101112131415161718192021Logger logger = null; logger = Logger.getLogger(MybatisExample.class.getName()); logger.setLevel(Level.DEBUG); SqlSession sqlSession = null; try &#123; sqlSession = study.mybatis.MybatisUtil.getSqlSessionFActory().openSession(); clazzStudent clazz = sqlSession.getMapper(clazzStudent.class); List&lt;Student&gt; list1 =new ArrayList&lt;Student&gt;(); for(int i=0 ;i&lt;3;i++)&#123; Student student =new Student(); student.setCLAZZ_ID(1); student.setSTU_ID(i); student.setSTU_NAME("ÊµãËØï"); list1.add(student); &#125; int n=clazz.insertToStudentPojo(list1); System.out.println(n); sqlSession.commit(); &#125; finally &#123; sqlSession.close(); &#125; ‰ΩÜÊòØ‰ΩøÁî®ÂØπË±°‰º†ÂèÇÁöÑËØùÈúÄË¶ÅÊ≥®ÊÑèÂæóÊòØÂú®mapperÊñá‰ª∂‰∏≠‰ΩøÁî®#Á¨¶Âè∑Ôºå‰øÆÊîπÂ¶Ç‰∏ãÔºö123456&lt;insert id="insertToStudentPojo"&gt; insert into student(CLAZZ_ID,STU_ID,STU_NAME) values &lt;foreach collection="list" item="item" index="index" separator=","&gt; (#&#123;item.CLAZZ_ID&#125;,#&#123;item.STU_ID&#125;,#&#123;item.STU_NAME&#125;) &lt;/foreach&gt; &lt;/insert&gt; Áî®List‰º†ÂÄºÔºöÊñ∞Âª∫DaoÂ±ÇÊñπÊ≥ï1Integer insertToStudentList(List&lt;String&gt; list); Êñ∞Âª∫mapperÊñπÊ≥ïÔºö123456&lt;insert id="insertToStudentList"&gt; insert into student(STU_NAME) values &lt;foreach collection="list" item="item" index="index" separator=","&gt; ($&#123;item&#125;) &lt;/foreach&gt; &lt;/insert&gt; ÊµãËØïÊñπÊ≥ïÔºö12345678910111213141516171819public static void insertList()&#123; Logger logger = null; logger = Logger.getLogger(MybatisExample.class.getName()); logger.setLevel(Level.DEBUG); SqlSession sqlSession = null; try &#123; sqlSession = study.mybatis.MybatisUtil.getSqlSessionFActory().openSession(); clazzStudent clazz = sqlSession.getMapper(clazzStudent.class); List&lt;String&gt; list1 =new ArrayList&lt;String&gt;(); for(int i=0 ;i&lt;3;i++)&#123; list1.add(String.valueOf(i)); &#125; int n=clazz.insertToStudentList(list1); System.out.println(n); sqlSession.commit(); &#125; finally &#123; sqlSession.close(); &#125; &#125; Âå∫Âà´Âú®ËøôÈáåÈúÄË¶ÅÂØπJavaÂØπË±°‰º†ÂèÇ‰ΩøÁî®Âæó#Âíåmap‰º†ÂèÇÂæó$ËøõË°å‰∏Ä‰∏ãÂå∫ÂàÜ„ÄÇÂèØ‰ª•Áúã‰∏ãÊâìÂç∞Êó•ÂøóÔºöjavaÂØπË±°‰º†ÂèÇ‰ΩøÁî®#‰º†ÂèÇÂæóÊó•ÂøóÔºö123DEBUG [main] - ==&gt; Preparing: insert into student(CLAZZ_ID,STU_ID,STU_NAME) values (?,?,?) , (?,?,?) , (?,?,?) DEBUG [main] - ==&gt; Parameters: 1(Integer), 0(Integer), ÊµãËØï(String), 1(Integer), 1(Integer), ÊµãËØï(String), 1(Integer), 2(Integer), ÊµãËØï(String)DEBUG [main] - &lt;== Updates: 3 java‰ΩøÁî®ListËøõË°å‰º†ÂèÇ:1234DEBUG [main] - ==&gt; Preparing: insert into student(CLAZZ_ID,STU_ID,STU_NAME) values (1,0,&apos;adsads&apos;) , (1,1,&apos;adsads&apos;) , (1,2,&apos;adsads&apos;) DEBUG [main] - ==&gt; Parameters: DEBUG [main] - &lt;== Updates: 33 ÂèØ‰ª•ÁúãÂà∞ÊâìÂç∞Âá∫Êù•ÁöÑÊó•ÂøóÂèëÁé∞$Âíå#Âú®Ëß£Êûê‰∏äÂæóÂå∫Âà´Ôºå$Ëøô‰∏™ÊòØÂÖàËß£ÊûêÔºåÁîüÊàê‰∫Ü‰∏Ä‰∏™sql‰πãÂêéÂÜçÊâßË°åÔºåËÄå#ÂàôÊòØ‰∏Ä‰∏™Âç†‰ΩçÁ¨¶ÔºåÊòØÂú®ÂêéÊúüÁöÑÊó∂ÂÄôÂä®ÊÄÅÂä†ÂÖ•ÁöÑ„ÄÇ ‰∏ªÈîÆËøîÂõûmybatisÁöÑ‰∏ªÈîÆËøîÂõûÁõÆÂâç‰ªÖ‰ªÖ‰∫ÜËß£ÈÄöËøáÂØπË±°Êù•ËøîÂõû„ÄÇÈúÄË¶ÅÂú®mapperÊñá‰ª∂‰∏≠Âä†ÂÖ•‰∏ÄË°åÈÖçÁΩÆÂç≥ÂèØÔºö123456789&lt;insert id="insertToStudentPojo"&gt; &lt;selectKey keyProperty="CLAZZ_ID" order="AFTER" resultType="java.lang.Integer"&gt; select LAST_INSERT_ID() &lt;/selectKey&gt; insert into student(CLAZZ_ID,STU_ID,STU_NAME) values &lt;foreach collection="list" item="item" index="index" separator=","&gt; (#&#123;item.CLAZZ_ID&#125;,#&#123;item.STU_ID&#125;,#&#123;item.STU_NAME&#125;) &lt;/foreach&gt; &lt;/insert&gt; keyProperty=&quot;CLAZZ_ID&quot;Ë°®Á§∫ÁöÑÊòØÈúÄË¶ÅËøîÂõûÁöÑÂ≠óÊÆµÁöÑÂÄº123456789101112131415161718192021222324public static void pojo()&#123; Logger logger = null; logger = Logger.getLogger(MybatisExample.class.getName()); logger.setLevel(Level.DEBUG); SqlSession sqlSession = null; try &#123; sqlSession = study.mybatis.MybatisUtil.getSqlSessionFActory().openSession(); clazzStudent clazz = sqlSession.getMapper(clazzStudent.class); List&lt;Student&gt; list1 =new ArrayList&lt;Student&gt;(); for(int i=0 ;i&lt;3;i++)&#123; Student student =new Student(); student.setCLAZZ_ID(1); student.setSTU_ID(i); student.setSTU_NAME("ÊµãËØï"); list1.add(student); &#125; int n=clazz.insertToStudentPojo(list1); System.out.println(list1.get(2).getCLAZZ_ID()); System.out.println(n); sqlSession.commit(); &#125; finally &#123; sqlSession.close(); &#125; &#125; ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØSystem.out.println(list1.get(2).getCLAZZ_ID());Âõ†‰∏∫ÊòØÂ§öÊù°ËØ≠Âè•ÁöÑÊèíÂÖ•ÔºåËÇØÂÆöÊòØÈúÄË¶ÅËøîÂõûÁöÑÊúÄÂêé‰∏ÄÊù°ÊèíÂÖ•ÂêéÁöÑ‰∏ªÈîÆÔºåÊâÄ‰ª•ÈÄöËøáËØ•ÊñπÊ≥ï‰æøÂèØ‰ª•ÂæóÂà∞ÊèíÂÖ•ÂêéÁöÑ‰∏ªÈîÆ ÊÄªÁªìÁõÆÂâçÂ∞±ÊöÇÊó∂Ëøô‰πàÂ§ö‰∫ÜÔºåÊ∫êÁ†Å‰ª•ÂêéÂÜç‰∫ÜËß£‰∫Ü„ÄÇ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[git‰ª£Á†ÅÂêåÊ≠•‰πãÈó¥ÁöÑÂÜ≤Á™Å]]></title>
    <url>%2F2018%2F04%2F08%2Fgit%E4%BB%A3%E7%A0%81%E5%90%8C%E6%AD%A5%E4%B9%8B%E9%97%B4%E7%9A%84%E5%86%B2%E7%AA%81%2F</url>
    <content type="text"><![CDATA[Âú®‰ΩøÁî®gitÁöÑÊó∂ÂÄôÂçïÁã¨‰∏Ä‰∫∫ËøõË°åpushÂíåpullÁöÑÊó∂ÂÄôÊòØ‰∏ç‰ºöÂá∫Áé∞‰ª£Á†ÅÂÜ≤Á™ÅÁöÑÔºå‰ΩÜÊòØÂΩìÂõ¢Èòü‰∏≠ÊúâÂ§ö‰∫∫ÁöÑÊó∂ÂÄôËøõË°åÂçè‰ΩúÁöÑÊó∂ÂÄôÈöæÂÖç‰ºöÈÄ†Êàê‰ª£Á†ÅÈó¥ÂêåÊ≠•ÈóÆÈ¢ò„ÄÇÂÖ∑‰ΩìÂ∞±ÊòØgit pullÁöÑÊó∂ÂÄô‰ºöÊèêÁ§∫Á∫ø‰∏ä‰ª£Á†Å‰ºöË¶ÜÁõñÊú¨Âú∞ÁöÑ‰ª£Á†Å„ÄÇÁÑ∂ÂêéÂ∞±‰∏çËÆ©pullÔºåÊúÄÂêé‰πü‰∏çËÆ©push„ÄÇÊü•ËØ¢‰∫Ü‰∏ãËß£ÂÜ≥ÂäûÊ≥ïÔºö ÊñπÊ≥ï‰∏ÄÔºö123git stashgit pull git stash pop ‰ΩÜÊòØËøôÁßçÊñπÊ≥ïpull‰∏ãÊù•ÁöÑ‰ª£Á†Å‰ºöÂØºËá¥IDEAËØÜÂà´‰∏ç‰∫Ü„ÄÇ‰πüÂ∞±ÊòØjavaÊñá‰ª∂‰ºöÁõ¥Êé•‰∏çÊòæÁ§∫ÔºåÊúÄÂêéÊòØÂÖ≥Èó≠IDEAÁÑ∂ÂêéÂÜçÊ¨°ÊâìÂºÄÊâçËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÁöÑ„ÄÇÈáçÊñ∞ÂØºÂÖ•ÁöÑÊó∂ÂÄôÈÄâÊã©maven ÊñπÊ≥ï‰∫åÔºöËøô‰∏™ÊñπÊ≥ï‰∏ªË¶ÅÂ∫îÂØπÁöÑÊòØpushÊèê‰∫§‰∏ç‰∏äÂéªÔºå‰ΩÜÊòØpullÂç¥ÂèàÊòæÁ§∫ÊòØÁ∫ø‰∏äÊúÄÊñ∞ÁâàÊú¨12git reset --hardgit push]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Â∑•ÂÖ∑</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂØπJavaÁöÑListËΩ¨ArrayÁöÑÊ∫êÁ†Å‰∏ÄÁÇπÊÄùËÄÉ]]></title>
    <url>%2F2018%2F04%2F07%2F%E5%AF%B9Java%E7%9A%84List%E8%BD%ACArray%E7%9A%84%E6%BA%90%E7%A0%81%E4%B8%80%E7%82%B9%E6%80%9D%E8%80%83%2F</url>
    <content type="text"><![CDATA[Âú®JavaÈáåÈù¢ÔºåListËΩ¨‰∏∫ArrayÊòØË∞ÉÁî®ÁöÑJavaÁöÑ‰∏Ä‰∏™Arrays.copyOf()Ëøô‰∏™ÊñπÊ≥ïÔºåÊü•Áúã‰∫Ü‰∏ãÊ∫ê‰ª£Á†ÅÔºö1234567891011121314151617181920212223public Object[] toArray() &#123; return Arrays.copyOf(this.elementData, this.size); &#125; public static &lt;T&gt; T[] copyOf(T[] original, int newLength) &#123; return (T[]) copyOf(original, newLength, original.getClass()); &#125; public static &lt;T,U&gt; T[] copyOf(U[] original, int newLength, Class&lt;? extends T[]&gt; newType) &#123; @SuppressWarnings("unchecked") T[] copy = ((Object)newType == (Object)Object[].class) ? (T[]) new Object[newLength] : (T[]) Array.newInstance(newType.getComponentType(), newLength); System.arraycopy(original, 0, copy, 0, Math.min(original.length, newLength)); return copy; &#125; public static Object newInstance(Class&lt;?&gt; componentType, int length) throws NegativeArraySizeException &#123; return newArray(componentType, length); &#125; Âú®ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂú®copyOf()ÊñπÊ≥ï‰∏≠ÁöÑÈÇ£‰∏™‰∏âÂÖÉË°®ËææÂºèÔºå‰πüÂ∞±ÊòØËØ¥Âú®ËøôÈáåÊó†ËÆ∫ÊâßË°åÁöÑtrueËøòÊòØfalseÔºåÈÉΩ‰ºöËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÊï∞ÁªÑÂØπË±°„ÄÇËÄåÂú®ËøôÈáåÊúâ‰∏ÄË°å‰ª£Á†ÅÂ∞±ÊòØ((Object)newType == (Object)Object[]).class)ÔºåËøô‰∏ÄÂè•ÁúãËµ∑Êù•Ê≤°‰ªÄ‰πàÔºåÂÖ∂ÂÆûÂèØ‰ª•ÁúãÂèÇÊï∞Class&lt;? extends T[]&gt; newTypeÂíåObject‰ºöÂèëÁé∞Ëøô‰∏§‰∏™Êï∞ÁªÑÂØπË±°ÈÉΩË¢´Âº∫ËΩ¨Êàê‰∫ÜObjectÔºåËÄå==`ÊØîËæÉÁ¨¶ÊòØ‰∏çËÉΩÊØîËæÉ‰∏çÂêåÁ±ªÂûãÁöÑ„ÄÇ‰æãÂ¶ÇÔºö1234public void te()&#123; System.out.println("ad" == 2); System.out.println((String.class == Object.class)); &#125; ‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂú®‰ª£Á†ÅÁöÑÁºñËØëÊúüÂ∞±‰ºöË¢´ÊèêÁ§∫==‰∏çÂèØ‰ª•ÈÄÇÁî®‰∫é‰∏äËø∞ÁöÑ‰∏§ÁßçÊÉÖÂÜµ.Â¶Ç‰∏ãÔºö ÈÇ£‰πàÂõûÂà∞Ê≠£È¢òÔºåËøôÈáåÂÖ∂ÂÆû‰ªîÁªÜÁúãÂ∞±‰ºöÂèëÁé∞Êó†ËÆ∫ÊòØÂê¶Áõ∏Á≠âÔºåÂú®ËøôÈáå‰∏âÂÖÉË°®ËææÂºè‰∏≠ÔºåÈÉΩ‰ºöËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÊï∞ÁªÑÂØπË±°ÔºåÈÇ£‰πàÂú®ËøôÈáåÂä†ÂÖ•‰∫Ü‰∏âÂÖÉË°®ËææÂºèÁöÑÊÉ≥Ê≥ïÊòØnewInstance()ÊòØÈÄöËøáÂèçÂ∞ÑËøõË°åÂàõÂª∫ÁöÑÔºåËÄånew Object[]ÂàôÊòØÈùûÂèçÂ∞ÑÂàõÂª∫ÁöÑ. Because reflection involves types that are dynamically resolved, certain Java virtual machine optimizations can not be performed. Consequently, reflective operations have slower performance than their non-reflective counterparts, and should be avoided in sections of code which are called frequently in performance-sensitive applications. ÊâÄ‰ª•Âú®ËøôÈáåÂä†‰∏Ä‰∏™Âà§Êñ≠‰Ωø‰ª£Á†ÅÂ∞ΩÈáèÈÄöËøáÈùûÂèçÂ∞ÑÁöÑÊñπÂºèËøõË°åÂàõÂª∫„ÄÇÊúÄÂêéË∞ÉÁî®System.arraycopy(),‰ΩÜÊòØËøôÈáåÁöÑÈÉΩÂ∑≤ÁªèÂº∫ËΩ¨Êàê‰∫ÜObjectÔºåÂ∫îËØ•‰∏ç‰ºöÊúâÂ§±Ë¥•ÁöÑÊÉÖÂÜµ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>javaÂü∫Á°Ä</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂàùËØÜ7Â±ÇÊ®°ÂûãÂíå5Â±ÇÊ®°Âûã]]></title>
    <url>%2F2018%2F04%2F06%2F%E5%88%9D%E8%AF%867%E5%B1%82%E6%A8%A1%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[‰ªäÂ§©Á™ÅÁÑ∂ÊÉ≥Áü•ÈÅìÂú®ËÆøÈóÆ‰∏Ä‰∏™ÁΩëÁ´ôÁöÑÊó∂ÂÄôÈÇ£‰∫õËØ∑Ê±ÇÂ§¥ÊòØÂú®‰ΩïÊó∂Ë¢´Âä†‰∏äÂéªÁöÑ„ÄÇ‰æãÂ¶ÇËÆøÈóÆÁôæÂ∫¶ÁöÑÊó∂ÂÄôÔºåhostÂíåreferÊàñËÄÖÂÖ∂‰ªñÁöÑÂ≠óÊÆµÊòØÂú®‰∏ÉÂ±ÇÊ®°ÂûãÁöÑÂì™‰∏ÄÂ±ÇË¢´Âä†ÂÖ•ÁöÑ„ÄÇ WireaharkÊäìÂåÖÂú®ËøôÈáåÂ∞ùËØï‰∫Ü‰∏ãÁôæÂ∫¶ÁöÑÊäìÂåÖÔºå‰ΩÜÊòØÁôæÂ∫¶ÁöÑÊòØÊòØHTTPSÁöÑËøûÊé•ÔºåÂØºËá¥‰∏ÄÁõ¥Êâæ‰∏çÂà∞ÈÇ£‰∏™HTTPËøûÊé•ÔºåÊâÄ‰ª•ËøòÊòØÊîæÂºÉ‰∫ÜÔºå‰ΩÜÊòØÈöèÂêéÂèàÊâæ‰∫Ü‰∏Ä‰∏™ÈùûHTTPSÁöÑÁΩëÁ´ôÔºåËøõË°åÊäìÂåÖÔºåÁÑ∂ÂêéÊµãËØï‰∫Ü‰∏ãÔºåÂèëÁé∞ÂèØ‰ª• Ëß£ÊûêÊäìÂåÖËøôÊòØÁî®wiresharkÊäìÂèñÁöÑÁªìÊûúÔºöÂç¥ÂèëÁé∞ËøôÈáåÂ§ö‰∫Ü‰∏Ä‰∏™Hypertext Transfer ProtocolÔºåÂú®ËøôÈáåÁöÑËØùÂõ†‰∏∫ÊòØGETËØ∑Ê±ÇÔºåÊâÄ‰ª•ÂáÜÂ§áÁî®POSTËØ∑Ê±ÇÂÜçÊ¨°Â∞ùËØïÔºöÂèëÁé∞ÂÖ∂ÂÆûÂÜÖÂÆπÈÉΩÂ∑Æ‰∏çÂ§öÔºåÈÇ£‰πüÂ∞±ËØÅÊòé‰∫ÜËøô‰∫õËØ∑Ê±ÇÂ§¥ÈÉΩÊòØÂú®Â∫îÁî®Â±ÇË¢´Ê∑ªÂä†ËøõÂéªÁöÑ„ÄÇÈÇ£‰πàÂú®Ëøô‰∫õÊäìÂåÖ‰∏≠ÂèØ‰ª•ÁúãÂà∞‰ªñÁöÑÂ±ÇÊ¨°ÊòØ5Â±ÇÔºåËÄåÂπ∂ÈùûÊòØ7Â±ÇÊ®°Âûã„ÄÇÂú®ËøôÈáåÁöÑÁöÑ‰∫îÂ±ÇÊ®°ÂûãÂàÜÂà´ÊòØÁâ©ÁêÜÂ±Ç,Êï∞ÊçÆËøûÁª≠Â±Ç,ÁΩëÁªúÂ±Ç,‰º†ËæìÂ±Ç,Â∫îÁî®Â±Ç„ÄÇÁõ∏ËæÉ‰∫é7Â±ÇÁöÑOSIÊ®°ÂûãÂ∞ë‰∫Ü‰ºöËØùÂ±ÇÂíåË°®Á§∫Â±Ç„ÄÇ Â∫îÁî®Â±ÇÂÖ∂ÂÆû‰∏é‰ª£Á†ÅÊâì‰∫§ÈÅìÁöÑÈÇ£‰∏ÄÂ±ÇÊòØÂ∫îÁî®Â±Ç„ÄÇÂèØ‰ª•ÂèëÁé∞Âú®Java‰ª£Á†Å‰∏≠ÂèØ‰ª•ÈÄöËøáResponse.setXXXÊù•ËÆæÁΩÆËØ∑Ê±ÇÂ§¥ÊàñËÄÖÂõûÂ§çÂ§¥Á≠â„ÄÇËøô‰πüÂ∞±‰ªéÊóÅËæπÊù•ËØÅÊòé‰∫ÜÊàë‰ª¨ÊâÄÁºñÂÜôÁöÑÁ®ãÂ∫èÂÖ∂ÂÆûÈÉΩÊòØÂú®Â∫îÁî®Â±Ç„ÄÇ]]></content>
      <categories>
        <category>ËÆ°ÁÆóÊú∫ÁΩëÁªú</category>
      </categories>
      <tags>
        <tag>ËÆ°ÁÆóÊú∫ÁΩëÁªú</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringÈÄöËøáÂ∫èÂàóÂåñËøîÂõûjsonÊï∞ÊçÆ]]></title>
    <url>%2F2018%2F04%2F05%2FSpring%E9%80%9A%E8%BF%87%E5%BA%8F%E5%88%97%E5%8C%96%E8%BF%94%E5%9B%9Ejson%E6%95%B0%E6%8D%AE%2F</url>
    <content type="text"><![CDATA[‰∏ÄËà¨Êù•ËÆ≤Âú®Spring‰∏≠ÂèØ‰ª•Áõ¥Êé•Âä†@ResponeBodyÊù•Áõ¥Êé•ËøîÂõûJsonÊ†ºÂºèÁöÑÊï∞ÊçÆÔºå‰ΩÜÊòØËøôÊ†∑ÂèàÊúâÁÇπÂà´Êâ≠ÔºåÂõ†‰∏∫StirngÂêåÊó∂‰πüÂèØ‰ª•ËøîÂõûËßÜÂõæÂêçÁß∞Ôºå‰ΩÜÊòØÂä†‰∫Ü@ResponseBody‰πãÂêé‰æøÂèØ‰ª•ËøîÂõûJson‰∫ÜÔºå‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òËøòÊúâ‰∏ÄÁßçËß£ÂÜ≥ÂäûÊ≥ïÂ∞±ÊòØÊåáÂÆö‰∏Ä‰∏™ResultÊù•ÂÆûÁé∞Â∫èÂàóÂåñÊé•Âè£ÁÑ∂ÂêéÁõ¥Êé•ËøîÂõûËøô‰∏™ÂØπË±°ÔºåÊúÄÂêéÂú®spring-mvc.xmlËøô‰∏™ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÖçÁΩÆËß£ÊûêÂô®Â∞±ÂèØ‰ª•‰∫Ü„ÄÇ Ê∑ªÂä†‰æùËµñÔºö1234567891011&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-core&lt;/artifactId&gt; &lt;version&gt;2.9.5&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.9.5&lt;/version&gt; &lt;/dependency&gt; ÈÖçÁΩÆspring-mvc.xml‰æùËµñÔºö123456&lt;mvc:annotation-driven&gt; &lt;mvc:message-converters&gt; &lt;bean class="org.springframework.http.converter.StringHttpMessageConverter"/&gt; &lt;bean class="org.springframework.http.converter.json.MappingJackson2HttpMessageConverter"/&gt; &lt;/mvc:message-converters&gt; &lt;/mvc:annotation-driven&gt; ÁºñÂÜôÂÆû‰ΩìÁ±ªÔºö123456789101112131415161718192021222324public class JsonResult implements Serializable&#123; private Map&lt;String,Object&gt; result; private int code; public JsonResult() &#123; code =200; result =new HashMap&lt;String, Object&gt;(); &#125; public void setParamter(String key ,String value)&#123; result.put(key,value); &#125; public void setCode(int code) &#123; this.code = code; &#125; public Map&lt;String, Object&gt; getResult() &#123; return result; &#125; public int getCode() &#123; return code; &#125;&#125; Âú®ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑè‰∏ãÁöÑÊòØÂ¶ÇÊûúÂà∞Êó∂ÂÄôÈúÄË¶ÅËøîÂõûÂØπË±°ÁöÑÊó∂ÂÄôËá™Âä®Ëß£ÊûêËøô‰∏™Á±ªÈúÄË¶ÅÊ∑ªÂä†getÊñπÊ≥ïÂπ∂‰∏îÂÆûÁé∞Â∫èÂàóÂåñÊé•Âè£„ÄÇ1234567@RequestMapping("jsonresult") @ResponseBody public JsonResult testJsonResult()&#123; JsonResult jsonResult =new JsonResult(); jsonResult.setParamter("msg","ËøôÊòØ‰∏Ä‰∏™ÊµãËØïÁöÑdemo"); return jsonResult; &#125; ÊµãËØïÁªìÊûúÔºö]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javaÊ≥õÂûãÁöÑ‰∏Ä‰∫õÊÄùËÄÉ]]></title>
    <url>%2F2018%2F04%2F04%2Fjava%E6%B3%9B%E5%9E%8B%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83%2F</url>
    <content type="text"><![CDATA[‰∏∫‰ªÄ‰πàÈúÄË¶ÅÊ≥õÂûãÂú®Java‰∏≠ÂÖ∂ÂÆûObjectËøô‰∏™Á±ªÂ∑≤ÁªèÂèØ‰ª•Ëß£ÂÜ≥Â§ßÈÉ®ÂàÜÁöÑÊ≥õÂûãÈóÆÈ¢ò‰∫ÜÔºåÈÇ£‰πàÁé∞Âú®‰∏∫‰ªÄ‰πàËøòÈúÄË¶ÅÊ≥õÂûã‰∫ÜÔºå‰∏ÄÁßçËØ¥Ê≥ïÊòØ‰∏∫‰∫ÜÂÆâÂÖ®ÔºåÂõ†‰∏∫Âú®ÁºñËØëÊúü‰ΩøÁî®Ê≥õÂûãÁöÑËØù‰æøÂèØ‰ª•Âü∫Êú¨Á°ÆÂÆöËøô‰∏™ÂèÇÊï∞ÁöÑÁ±ªÂûã‰∫ÜÔºå‰ΩÜÊòØ‰ΩøÁî®ObjectÁöÑËØùÔºåÁî±‰∫éObjectÊòØÊâÄÊúâÁ±ªÂûãÁöÑË∂ÖÁ±ªÔºåÊâÄ‰ª•Ëøô‰ºöÁªô‰ª£Á†ÅÈÄ†Êàê‰∏ÄÂÆöÁöÑÂÆâÂÖ®ÊÄßÈóÆÈ¢ò„ÄÇ1234567public void testList(T t)&#123; List&lt;Object&gt; list =new ArrayList&lt;&gt;(); List&lt;T&gt; list1 =new ArrayList&lt;&gt;(); list.add(1); list.add("1"); list.add(t); &#125; Âú®‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠Ôºålist1Áî±‰∫éÂÖ∂Á±ªÂûãÊòØTÔºåËøôÂ∞±‰ºöÂØºËá¥Âú®Âêëlist1‰∏≠ÊèíÂÖ•Êï∞ÊçÆÁöÑÊó∂ÂÄôÂè™ËÉΩÊòØÊ≥õÂûãTÔºå‰ΩÜÊòØÂØπ‰∫élistËÄåË®ÄÔºåÁî±‰∫éObjectÊòØÊâÄÊúâÁ±ªÁöÑË∂ÖÁ±ªÔºåÈÇ£‰πàËøô‰∏™listÂ∞±ÂèØ‰ª•ÊèíÂÖ•‰ªª‰ΩïÂÄº‰∫ÜÔºåÊâÄ‰ª•ËøôÂ∞±ÂØºËá¥‰∫Ü‰∏Ä‰∫õÂÆâÂÖ®ÈóÆÈ¢ò ÂÖ≥‰∫éJavaÁöÑÂçèÂèòÂíåÈÄÜÂèòÔºöÂú®JavaÈáåÈù¢Êï∞ÁªÑÊòØÂçèÂèòÁöÑ„ÄÇÂØπ‰∫éÊï∞ÁªÑÊù•ËÆ≤‰∏Ä‰∏™ObjectÊï∞ÁªÑÊòØÂèØ‰ª•Â≠òÊîæ‰ªª‰ΩïÂÄºÔºö123Object[] o =new Object[12];o[0]=1;o[1]="1"; ËÄåÂØπ‰∫éÈõÜÂêàÊù•ËØ¥Âë¢ÔºüÊòæÁÑ∂‰∏Ä‰∏™ListËÇØÂÆöÊòØ‰∏çÂÖÅËÆ∏ÂêåÊó∂Â≠òÊîæintÂíåString,ÊâÄ‰ª•ÂØπ‰∫éÈõÜÂêàÊù•ËÆ≤ÂæóËØùÔºåÂÆÉÂ∞±‰∏çÊòØÂçèÂèòÂæó„ÄÇËøôÊòØÂõ†‰∏∫ÈõÜÂêàÂú®ËøêË°åÂæóÊó∂ÂÄôÊúâ‰∏Ä‰∏™Á±ªÂûãÊì¶Èô§Ôºå‰πüÂ∞±ÊòØËØ¥List&lt;String&gt;ÊúÄÂêéÂú®ÁºñËØëÂô®ÁúãÊù•Â∞±ÊòØ‰∏Ä‰∏™ListÔºå‰πüÂ∞±ÊòØÂÆÉÁöÑÂéüÁîüÁ±ªÂûã„ÄÇÊâÄ‰ª•ÂØπ‰∫éÈõÜÂêàÊù•ËÆ≤ÂæóËØùÂ∞±ÊòØ‰∏Ä‰∏™ÈÄÜÂèòÂæó„ÄÇ Ê≥õÂûãÂæóÁî®Â§ÑÊ≥õÂûãÊúâ‰ªÄ‰πàÁî®Âë¢ÔºüÊàñËÄÖËØ¥Ê≥õÂûãÂæó‰ºòÁº∫ÁÇπÂú®Âì™ÈáåÂë¢ÔºüÊ≥õÂûãÁî±‰∫éÂú®ÁºñËØëÊúüÂπ∂‰∏çÁü•ÈÅì‰ªñ‰ºöÊòØ‰ªÄ‰πàÁ±ªÔºåÊâÄ‰ª•Ê≥õÂûãÂú®ÊûÑÈÄ†ÂæóÊó∂ÂÄôÊòØ‰∏Ä‰∏™ÈùûÂ∏∏È∫ªÁÉ¶ÁöÑ‰∫ãÊÉÖÔºåÁ±ª‰ºº‰∫éÂ¶Ç‰∏ãÔºö1T t1 =new T(); ËøôË°å‰ª£Á†ÅÊòéÊòæÊòØÈîôËØØÂæóÔºå‰∏∫‰ªÄ‰πàÂë¢ÔºüÂõ†‰∏∫TÂú®ÁºñËØëÊúüÈó¥Âπ∂‰∏çÁü•ÈÅìËøô‰∏™ÊòØ‰ªÄ‰πàÁ±ªÔºåÊó¢ÁÑ∂ÈÉΩ‰∏çÁü•ÈÅìËøô‰∏™ÊòØ‰ªÄ‰πàÁ±ªÔºåÈÇ£‰πàÂèàÊÄé‰ºöÁü•ÈÅìË∞ÉÁî®Âì™‰∏Ä‰∏™ÊûÑÈÄ†ÂáΩÊï∞Âë¢Ôºü]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>javaÂü∫Á°Ä</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éÂ≠óÁ¨¶‰∏≤ÂõûÊñáÁöÑManacherÁÆóÊ≥ï]]></title>
    <url>%2F2018%2F04%2F04%2F%E5%85%B3%E4%BA%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%9B%9E%E6%96%87%E7%9A%84%E5%8C%B9%E9%85%8D%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ÂØπ‰∫éManacherÁÆóÊ≥ïËá™Â∑±Á†îÁ©∂‰∫Ü‰∏Ä‰ºöÔºåÊÄªÁÆóÊòØÁêÜËß£‰∫ÜÂÖ∂‰∏≠ÁöÑÂê´‰πâÔºå‰πòÁùÄÊúâÊó∂Èó¥Ê≠£Â•ΩÂèØ‰ª•ËøáÊù•ËÆ∞ÂΩï‰∏ãÔºö ÊÄùË∑ØÔºö Â∞ÜÂ≠óÁ¨¶‰∏≤ÂèòÊàêÂ•áÊï∞ÔºåÈÄöËøáÂä†ÈùûÂ≠óÁ¨¶‰∏≤ÈáåÈù¢ÁöÑÁ¨¶Âè∑Ë°®Á§∫Ôºå‰∏çËøá‰∏ÄËà¨ÈÉΩÊòØÂä†ÁöÑ# ÊâæÂá∫‰ª•ÂΩìÂâçÁ¥¢Âºï‰∏∫‰∏≠ÁÇπÁöÑÊúÄÈïøÂõûÊñáÊï∞ÈïøÂ∫¶ÔºåÂπ∂‰∏îËÆ∞ÂΩïÔºå‰æãÂ¶ÇÔºö#a#b#a,Ëøô‰∏™Â≠óÁ¨¶‰∏≤ÊâÄÂØπÂ∫îÁöÑÈïøÂ∫¶‰æøÊòØ[1,2,1,2,1,1],Âõ†‰∏∫Âú®#ÁöÑÊó∂ÂÄôÁªÑÊàê‰∏ç‰∫ÜÂõûÊñáÔºåÊâÄ‰ª•#ËøôÈáåÊòØ1ÔºåËÄåÂà∞‰∫ÜaËøôÈáåÔºåÂõ†‰∏∫#a#ÁªÑÊàê‰∫ÜÂõûÊñáÔºåÊâÄ‰ª•aÁöÑÊúÄÈïøÂõûÊñáÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶ÊòØ2,‰ª•Ê≠§Á±ªÊé® forÂæ™ÁéØÂºÄÂßãÊØîËæÉÔºåÂú®ËøôÈáå‰∏ÄËà¨Êù•ËÆ≤ÊòØÈ¶ñÂÖàÈúÄË¶ÅÂÆö‰πâ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÁöÑËæπÁïåÂèòÈáèÔºå‰ª•Èò≤Ê≠¢Êï∞ÁªÑË∂äÁïåÔºåÂè¶Â§ñ‰∏Ä‰∏™Â∞±ÊòØÊúÄÈïøÂõûÊñáÂ≠óÁ¨¶‰∏≤ÁöÑ‰∏≠ÁÇπÂùêÊ†áÔºå‰ª•Ê≠§Á±ªÊé®Â∞±ÂèØ‰ª• ‰ª£Á†ÅÔºöÂ∞ÜÂ°´ÂÖÖÁ¨¶Âè∑ËÆ°ÂÖ•Âà∞ÈúÄË¶ÅÂåπÈÖçÁöÑÁöÑÂ≠óÁ¨¶‰∏≤‰∏≠12345678//ÊúÄÂ§ßÂõûÊñá‰∏≤ÁöÑÊï∞ÁªÑ StringBuilder sb =new StringBuilder(); sb.append("#"); for(int i=0 ;i&lt;str.length() ;i++)&#123; sb.append(str.charAt(i)); sb.append("#"); &#125; String s1 =sb.toString(); ÁÑ∂ÂêéÂÜçÂÆö‰πâ‰∏Ä‰∏™ÊúÄÂ§ßÁöÑÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶Âíå‰∏Ä‰∏™ÊúÄÈïøÂõûÊñáÂ≠óÁ¨¶‰∏≤ÁöÑ‰∏≠ÁÇπ‰ΩçÁΩÆÁöÑÂùêÊ†á123456789101112131415161718192021222324252627282930313233343536373839404142434445int array=[s1.length()];int maxRight =0;int mid =0;for(int i =0 ;i&lt;s1.length() ;i++)&#123; int r=1; //ÂÆö‰πâÊúÄÂ∞èÁöÑÂçäÂæÑ if(i&gt; maxRight)&#123; r=Math.min(array[2*mid -i ],maxRight-i); &#125; //‰ª•Ê≠§‰∏∫‰∏≠ÂøÉÁÇπÁªßÁª≠Êâ©Âº† while(i - r &gt; &gt;0 &amp;&amp; i+r &lt;s1.length() &amp;&amp; s1.charAt(i-r) == s1.charAt(i+r) )&#123; r++; &#125; //Âú®ËøôÈáåÈúÄË¶ÅÂáè‰∏ÄÁöÑÂéüÂõ†ÊòØÂõ†‰∏∫ÈúÄË¶ÅÂ∞ÜÂΩìÂâçÁöÑÂ§öÂä†‰∏ÄÂéªÈô§ÊéâÔºåÂõ†‰∏∫iÁÆó‰∫Ü‰∏ÄÈÅçÂΩìÂâçÁöÑÁ¥¢Âºï,rÂèàÁÆó‰∫Ü‰∏ÄÈÅçÂΩìÂâçÁöÑÁ¥¢Âºï if(i+r -1 &lt;right)&#123; right =i +r -1; mid =i; &#125; array[i]=r;&#125;//ÊàñËÄÖÂèØ‰ª•Â∞ÜforÂæ™ÁéØ‰øÆÊîπ‰∏∫Â¶Ç‰∏ãÔºöfor (int i = 0; i &lt; s1.length(); i++) &#123; int r = 0; if (array[mid] + mid &gt; i) &#123; r = Math.min(array[2 * mid - i], array[mid] + mid - i); &#125; else &#123; r = 1; &#125; while (i - r &gt; 0 &amp;&amp; i + r &lt; s1.length() &amp;&amp; s1.charAt(i - r) == s1.charAt(r + i)) &#123; ++r; &#125; if (mid + array[mid] &lt; array[i] + r) &#123; mid = i; &#125; if (r &gt; maxLength) &#123; maxLength = r; &#125;// if(i+r -1 &gt;maxLength)&#123;// maxLength =i+r-1;// mid=i;// &#125;// array[i] = r; &#125; ÁÆÄÂçï‰∏ÄÁÇπÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 123456789for(int i =0 ;i&lt;s1.length() ;i++)&#123; r=Math.min(array[2*mid -i],right -i):1; //ËøôÁßçÊÉÖÂÜµËÄÉËôëÁöÑÊòØÂΩìÂâçÁ¥¢Âºï‰ΩçÁΩÆÂÜçÊúÄÈïøÂõûÊñáÂ≠óÁ¨¶‰∏≤‰πãÈó¥ÔºåËÄå‰∏îËøô‰∏™Á¥¢ÂºïËØ¥‰∏çÂÆöËøòÊúâÊõ¥ÈïøÁöÑÂõûÊñáÂ≠óÁ¨¶‰∏≤ÔºåÊâÄ‰ª•Âú®ËøôÈáåÈúÄË¶Å‰∏Ä‰∏™whileÂà§Êñ≠ while(array[i-array[i]] == array[i+array[i]]) ++r; if( i +array[i] &gt;right)&#123; right =i+array[i]; array[i]=r; &#125;&#125; Âú®‰∏äÈù¢ÁöÑ‰ª£Á†Å‰∏≠‰∏∫‰ªÄ‰πàÊòØÈùûË¶Åarray[i-array[i]] == array[i+array[i]]Áõ∏Á≠âÊâç‰ºöËøõË°åÂçäÂæÑÁöÑÂ¢ûÂä†Âë¢ÔºüËøôÈáåÂÖ∂ÂÆûÊúâÂá†ÁßçÊÉÖÂÜµÈúÄË¶ÅËÄÉËôëÁöÑ]]></content>
      <categories>
        <category>ÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>leetcode</tag>
        <tag>Â≠óÁ¨¶‰∏≤</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â≠óÁ¨¶‰∏≤ÂåπÈÖçÁõ∏ÂÖ≥ÁÆóÊ≥ï]]></title>
    <url>%2F2018%2F04%2F02%2F%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[‰ªäÂ§©Êó†ÊÑèÈó¥Á¢∞Âà∞‰∫ÜÈúÄË¶ÅÂÜôÂ≠êÂ≠óÁ¨¶‰∏≤ÂåπÈÖçÂæóÁÆóÊ≥ïÔºåÁî±‰∫é‰ª•Ââç‰∏ÄÁõ¥ÂØπÂ≠óÁ¨¶‰∏≤ÂæóKMPÁÆóÊ≥ï‰∏çÂ§™‰∫ÜËß£ÔºåÊâÄ‰ª•‰ªäÂ§©Ë∂ÅÁùÄËøô‰∏™Êú∫‰ºöÊ≠£Â•ΩËÆ∞ÂΩï‰∏ãËøô‰∏âÁßçÁÆóÊ≥ïÁöÑÂ∑ÆÂºÇÔºö JavaApiÂÆûÁé∞ Êú¥Á¥†Â≠óÁ¨¶‰∏≤ÂåπÈÖçÁÆóÊ≥ï KMPÁÆóÊ≥ï JavaÁöÑAPIÂÆûÁé∞Â≠êÂ≠óÁ¨¶‰∏≤Êü•ÊâæÔºöÂú®JavaÁöÑStringÁ±ªÈáåÈù¢Êúâ‰∏Ä‰∏™ÊñπÊ≥ïÊòØindexof(str,index), Ëøô‰∏™Á±ªÁöÑËØùÊòØÂèØ‰ª•‰ªé‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÁöÑÊåáÂÆö‰ΩçÁΩÆÊü•Âá∫ÊòØÂê¶ÂåÖÂê´Â≠êÂ≠óÁ¨¶‰∏≤ÔºåËã•‰∏çÂåÖÂê´ÂàôËøîÂõûÁöÑÊòØ-1ÔºåËã•ÂåÖÂê´ÁöÑËØùÂàôËøîÂõûÁöÑÊòØËØ•Â≠êÂ≠óÁ¨¶‰∏≤Âú®Â≠óÁ¨¶‰∏≤‰∏≠ÁöÑÁ¥¢Âºï‰ΩçÁΩÆ„ÄÇ ÈÇ£‰πàËøô‰∏™ÁÆóÊ≥ïÊòØ‰ªÄ‰πàÂéüÁêÜÂë¢ÔºåËøô‰∏™ÁÆóÊ≥ïÁöÑÂéüÁêÜÂ∞±ÊòØindexof‰ºöËøîÂõûÂåπÈÖçÂà∞ÁöÑÂ≠óÁ¨¶‰∏≤ÁöÑÁ¥¢ÂºïÔºåÈÇ£‰πàÂΩìËøô‰∏™ÁÆóÊ≥ïÂåπÈÖçÂà∞‰∫Ü‰∏Ä‰∏™‰πãÂêéËé∑ÂèñËøîÂõûÁöÑÁ¥¢ÂºïÔºåÁÑ∂ÂêéÂÜçÂä†‰∏äÂ≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶ÔºåÊúÄÂêéÂÜçÂú®Ââ©‰∏ãÁöÑÂ≠óÁ¨¶‰∏≤ÈáåÈù¢ÂåπÈÖçÔºå‰æø‰ºöÂæóÂá∫ÊâÄÊúâÁöÑÂ≠óÁ¨¶‰∏≤‰∏™Êï∞„ÄÇ1234567891011public void test()&#123; String findText= &quot;abcd&quot;; String srcText =&quot;mabcdfafasabcdfa&quot;; int count = 0; int index = 0; while ((index = srcText.indexOf(findText, index)) != -1) &#123; index = index + findText.length(); count++; &#125; System.out.println(count); &#125; Êú¥Á¥†Â≠óÁ¨¶‰∏≤ÂåπÈÖçÁÆóÊ≥ïÔºöËøô‰∏™ÁÆóÊ≥ïÂ∞±ÊòØ‰∏§Â±ÇÂæ™ÁéØÔºåÈ¶ñÂÖàÁ¨¨‰∏ÄÂ±ÇÂæ™ÁéØ‰æøÂà©ÈúÄË¶ÅÂ≠óÁ¨¶‰∏≤ÔºåËé∑ÂèñÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶ÔºåÁÑ∂ÂêéËøõË°åÁ¨¨‰∫åÂ±ÇÁöÑÂæ™ÁéØÔºåÁ¨¨‰∫åÂ±ÇÁöÑÂæ™ÁéØ‰∏ªË¶ÅÊòØËøõË°åÂ≠êÂ≠óÁ¨¶‰∏≤ÔºåÂΩìÂ≠êÂ≠óÁ¨¶‰∏≤ÁöÑÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶ÂíåÂ§ñÈù¢ÁöÑÂ≠óÁ¨¶‰∏≤ÂΩìÂâçÁöÑÂ≠óÁ¨¶Áõ∏ÂêåÁöÑËØùÔºåÁÑ∂ÂêéËøõË°åÂ≠êÂ≠óÁ¨¶‰∏≤ÁöÑÁ¨¨‰∫å‰∏™Â≠óÁ¨¶‰∏éÂ§ñÂ±ÇÁöÑÂΩìÂâç‰ΩçÁΩÆÁöÑÁ¨¨‰∫å‰∏™Â≠óÁ¨¶ÊØîËæÉÔºö12345678910111213141516171819202122public void test1()&#123; String a =&quot;abcd&quot;; String b=&quot;qweabcdaefgadfabcdojfojaofoafjabcdafsaf&quot;; int count=0; for(int i =0 ;i&lt;b.length() ;i++)&#123; int index=i; boolean flag =false; for(int j=0;j&lt;a.length() ;j++)&#123; char c =b.charAt(index); if(a.charAt(j) == c)&#123; index++; &#125;else&#123; flag=true; break; &#125; &#125; if(!flag) &#123; count++; &#125; &#125; System.out.println(count); &#125; Âú®Ëøô‰∏™ÈáåÈù¢ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÂ∞±ÊòØÂ§ñÂ±ÇÁöÑiÈúÄË¶Å‰øùÂ≠òÔºåÂêåÊó∂ÈáåÈù¢ÁöÑÂæ™ÁéØjÊòØ‰∏çÈúÄË¶ÅÁöÑÔºåÂõ†‰∏∫Â≠êÂ≠óÁ¨¶‰∏≤ÊòØÊØè‰∏ÄÊ¨°ÈÉΩ‰ºöÈÅçÂéÜÁöÑ„ÄÇ KMPÁÆóÊ≥ïÔºökmpÁÆóÊ≥ïÊâÄËß£ÂÜ≥ÁöÑÈóÆÈ¢òÊòØÊú¥Á¥†Â≠óÁ¨¶‰∏≤ÂåπÈÖçÁÆóÊ≥ïÊØèÊ¨°ÂåπÈÖçÂ§±Ë¥•‰πãÂêéÈÉΩË¶Å‰ªéÂ§¥ÂÜçÊù•ËøõË°åÂåπÈÖçÁöÑ‰∏Ä‰∏™ÈöæÁÇπ„ÄÇÂú®KMPÁÆóÊ≥ï‰∏≠ÁöÑÔºö ÂåπÈÖçÂ§±Ë¥•ÁöÑËØùÈ¶ñÂÖà‰ºöÊ£ÄÊü•ÂåπÈÖçÂ§±Ë¥•ÁöÑÂ§¥‰∏Ä‰∏™Â≠óÁ¨¶ÁöÑÁöÑÂâçÁºÄÂíåÂêéÁºÄÔºåÁÑ∂ÂêéÁî®‰ª•ÂåπÈÖçÁöÑÂ≠óÁ¨¶Êï∞ÂáèÂéªÂÖ∂ÂâçÁºÄÂíåÂêéÁºÄÁöÑÈÇ£‰∏™ÂÄºÔºåÊúÄÂêéÂæóÂá∫ÈúÄË¶ÅÂêéÈÄÄÁöÑÊï∞Â≠óÔºåÊúÄÂêéÂÜçÂú®ÈÄÄÂá∫ÁöÑÊ≠•Êï∞‰∏äËøõÂêåÊ†∑ÁöÑÊìç‰ΩúÔºåÊúÄÂêéÂÜçÂæóÂá∫ÁªìËÆ∫ÔºåÂΩìÂ≠êÂ≠óÁ¨¶‰∏≤ÁöÑÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶ÈÉΩ‰∏çÁõ∏ÂåπÈÖçÁöÑÊó∂ÂÄôÊúÄÂêéÂ≠êÂ≠óÁ¨¶‰∏≤Êï¥‰ΩìÂêéÁßª‰∏Ä‰Ωç„ÄÇ ÂÖ≥‰∫éNextÊï∞ÁªÑÁöÑÊ±ÇÊ≥ïÔºö‰ªäÂ§©Áúã‰∫Ü‰∏ãËµÑÊñôÊÄªÁÆó‰∫ÜËß£‰∫ÜÂÜôKMPÁöÑNextÊï∞ÁªÑÁöÑÊ±ÇÊ≥ï„ÄÇÁé∞Âú®‰∏ÄËà¨Êù•ËÆ≤ÊòØÊúâ‰∏§ÁßçÊ±ÇÊ≥ïÔºåÁ¨¨‰∏ÄÁßçÊòØÊ±ÇÂá∫ÂåπÈÖçÂ§±Ë¥•ÂêéÁöÑË∑≥ËΩ¨Á¥¢ÂºïÁöÑÊï∞ÁªÑ„ÄÇÁ¨¨‰∫åÁßçÂàôÊòØÊ±ÇÂá∫Êï∞ÁªÑ‰∏≠Â∑≤ÁªèÂåπÈÖçÁöÑÂâçÂêéÁºÄÁöÑÊï∞ÁªÑ„ÄÇËøô‰∏§ÁßçÊï∞ÁªÑÁöÑÊ±ÇÊ≥ïÈÉΩ‰ºöÂØºËá¥ÂÜç‰ª•ÂêéÁöÑËÆ°ÁÆóÂá∫Áé∞‰∏çÂêåÁöÑÁªìÊûúÔºå‰ΩÜÊòØÊúÄÂêéËøòÊòØÈúÄË¶ÅÁî®Âà∞ÁöÑ‰∏Ä‰∏™ÂéüÁêÜÂ∞±ÊòØÂåπÈÖçÂ§±Ë¥•ÔºöÂõûÈÄÄÊ≠•Êï∞Â∞±ÊòØÂ∑≤ÁªèÂåπÈÖçÁöÑÂ≠óÁ¨¶Êï∞ÂáèÂéªÂåπÈÖçÁöÑÂâçÂêéÁºÄÂ≠óÁ¨¶Êï∞„ÄÇÊúÄÂêéÂæóÂá∫ÂõûÈÄÄÊ≠•Êï∞„ÄÇ ÁõÆÂâçÊù•ËÆ≤Êúâ‰∏§ÁßçnextÊï∞ÁªÑÁöÑÊ±ÇÊ≥ïÔºö Â∞ÜÂâçÁºÄÂêéÁºÄÂåπÈÖçÊï∞ÊîæÁΩÆÂà∞Êï∞ÁªÑ‰∏≠ Â∞ÜÂ§±Ë¥•ÂêéÂõûÈÄÄÁöÑ‰ΩçÁΩÆÊîæÁΩÆÂú®Êï∞ÁªÑ‰∏≠ ÂØπ‰∫éÁ¨¨‰∏ÄÁßçnextÊï∞ÁªÑÊù•ËØ¥ÔºåÁΩë‰∏äÁöÑËµÑÊñôÂ§öÊòØÂ∞ÜÂÖ∂ÂêéÁßª‰∏Ä‰ΩçÔºå‰æãÂ¶ÇÂ≠óÁ¨¶‰∏≤abcab‰ªñÁöÑÂâçÁºÄÂíåÂêéÁºÄÊï∞ÁªÑÊòØ[0,0,0,1,2]ÔºåÈÇ£‰πàÁΩë‰∏äÂÖ∂‰ªñ‰∫∫ÁöÑÂÜôÊ≥ïÂ§öÊòØÂ∞ÜËøô‰∏™Êï∞ÁªÑÂÜçÂè≥Áßª‰∏Ä‰Ωç,ÊúÄÂêé‰∏∫[-1,0,0,0,1]„ÄÇÂú®‰ªäÂ§©Ôºå‰πüËá™Â∑±Â∞ùËØï‰∫ÜÂÜôKMPÁÆóÊ≥ïÔºå‰ΩÜÊòØËá™Â∑±ÁöÑÂÜôÊ≥ïÊ≤°ÊúâÂÅöÂè≥ÁßªÊìç‰ΩúÔºåËÄåÊòØÁõ¥Êé•Ê±ÇËß£ÔºåÂ¶Ç‰∏ãÔºö1234567891011121314151617181920public static void generateNextArray(String str ,int[] array) &#123; if (null == str || str.length() == 0) &#123; return; &#125; int i = 0; int j = 1; array[0] = 0; for (; j &lt; str.length(); ) &#123; if (str.charAt(i) == str.charAt(j)) &#123; i++; j++; array[j - 1] = i; &#125; else if(i!= 0 &amp;&amp; j!=0) &#123; i = array[i-1]; //ËøôÈáåÈúÄË¶Åi-1ÊòØÂõ†‰∏∫ÊúÄÂêéÈúÄË¶ÅÊï∞ÁªÑÂè≥Áßª‰∏Ä‰ΩçÔºå‰ΩÜÊòØÊàëËøôÈáåÊ≤°ÊúâÁßª‰ΩçÔºåÊâÄ‰ª•Áõ¥Êé•Âú®ËøôÈáåÂáè‰∏Ä &#125;else&#123; array[j]=i; j++; &#125; &#125; &#125; ‰∏äÈù¢Ëøô‰∏™Ê±ÇnextÊï∞ÁªÑÁöÑÊñπÊ≥ïÂÖ∂ÂÆû‰πüÊå∫ÁÆÄÂçïÁöÑÔºå‰ΩÜÊòØËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÁ¨¨‰∫å‰∏™ifÂíåÁ¨¨‰∏â‰∏™ÁöÑelseÔºå‰∏∫‰ªÄ‰πàËøôÈáå‰ºöÂá∫Áé∞‰∏§‰∏™ÊòØÂõ†‰∏∫ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊÉÖÂÜµ‰ºöÊúâ‰∏§ÁßçÔºåÁ¨¨‰∫å‰∏™ifÊçïËé∑ÁöÑÊòØÂú®ÂêéÁª≠Âá∫Áé∞‰∫ÜÊñ≠Â±ÇÈúÄË¶ÅÈáçÊñ∞‰ªé0ÂºÄÂßãÂåπÈÖçÁöÑÊÉÖÂÜµ„ÄÇËÄåÊúÄÂêé‰∏Ä‰∏™elseÂàôÊòØÊçïËé∑ÁöÑ‰ªéÂ§¥ÂºÄÂßãÁöÑ‰∏ÄÁßçÊÉÖÂÜµÔºåÂÖ∑‰Ωì‰ª•abcdeabcdabcdeabcdfgÂÅöÊµãËØï‰æø‰ºö‰∫ÜËß£„ÄÇËÄåÁΩë‰∏äÁöÑÂÖ∂‰ªñÁÆóÊ≥ï‰∏çÈúÄË¶ÅËøô‰∏â‰∏™Âà§Êñ≠ÊòØÂõ†‰∏∫ÁΩë‰∏äÁöÑÂåπÈÖçÂ§±Ë¥•‰πãÂêéK‰ºöÂèòÊàê-1ÔºåÁÑ∂ÂêéjÊòØ‰∏çÂèòÁöÑ„ÄÇÂ¶Ç‰∏ãÔºö1234567891011121314151617void getNext(String pattern, int next[]) &#123; int j = 0; int k = -1; int len = pattern.length(); next[0] = -1; while (j &lt; len - 1) &#123; if (k == -1 || pattern.charAt(k) == pattern.charAt(j)) &#123; j++; k++; next[j] = k; &#125; else &#123; k = next[k]; &#125; &#125; &#125; ‰πüÂ∞±ÊòØËØ¥ÁΩë‰∏äÁöÑ‰∏ÄÊó¶ÂåπÈÖçÂ§±Ë¥•ÔºåkÂ∞±‰ºöÂèòÊàênext[next[k]]ÁöÑÂÄº„ÄÇ JDK‰∏≠ÁöÑindexOfÊñπÊ≥ïÔºöÂÜçJava‰∏≠ÁöÑindexOfÊñπÊ≥ïÂàôÊòØ‰ΩøÁî®ÁöÑÊú¥Á¥†Â≠óÁ¨¶‰∏≤ÂåπÈÖçÁÆóÊ≥ï„ÄÇÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728293031323334353637static int indexOf(char[] source, int sourceOffset, int sourceCount, char[] target, int targetOffset, int targetCount, int fromIndex) &#123; if (fromIndex &gt;= sourceCount) &#123; return (targetCount == 0 ? sourceCount : -1); &#125; if (fromIndex &lt; 0) &#123; fromIndex = 0; &#125; if (targetCount == 0) &#123; return fromIndex; &#125; char first = target[targetOffset]; int max = sourceOffset + (sourceCount - targetCount); for (int i = sourceOffset + fromIndex; i &lt;= max; i++) &#123; /* Look for first character. */ if (source[i] != first) &#123; while (++i &lt;= max &amp;&amp; source[i] != first); &#125; /* Found first character, now look at the rest of v2 */ if (i &lt;= max) &#123; int j = i + 1; int end = j + targetCount - 1; for (int k = targetOffset + 1; j &lt; end &amp;&amp; source[j] == target[k]; j++, k++); if (j == end) &#123; /* Found whole string. */ return i - sourceOffset; &#125; &#125; &#125; return -1; &#125;]]></content>
      <categories>
        <category>ÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>leetcode</tag>
        <tag>Â≠óÁ¨¶‰∏≤</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âú®Mybatis‰∏≠‰ΩøÁî®bindËøõË°åÊûö‰∏æÂíåÊ®°Á≥äÊü•ËØ¢]]></title>
    <url>%2F2018%2F04%2F01%2F%E5%9C%A8Mybatis%E4%B8%AD%E4%BD%BF%E7%94%A8bind%E8%BF%9B%E8%A1%8C%E6%9E%9A%E4%B8%BE%E5%92%8C%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2%2F</url>
    <content type="text"><![CDATA[È¶ñÂÖàÂú®ÁΩë‰∏äÊü•ËØ¢‰∫Ü‰∏ãÂÖ≥‰∫ébindÂæóÁî®Ê≥ïÔºåÁΩë‰∏äÂ§ßÂ§öÊï∞ÈÉΩÊòØbindÂíåÊ®°Á≥äÊü•ËØ¢ÁªëÂÆöÂú®‰∏ÄËµ∑Ôºå‰ΩÜÊòØÂú®ËøôÈáåÁöÑËØùÂÖ∂ÂÆûbindÂíåÊûö‰∏æ‰∏ÄËµ∑ÁªìÂêàËµ∑Êù•‰ΩøÁî®‰ºöÊúâÂæàÂ§ßÁöÑ‰æøÂà©ÔºåÊØîÂ¶Ç‰∏Ä‰∏™Áè≠Á∫ßÁöÑÂêçÁß∞ÂíåÁè≠Á∫ßÁöÑIDÔºåÈúÄË¶ÅÊ†πÊçÆÁè≠Á∫ßÁöÑIDÊü•ËØ¢Âá∫Áè≠Á∫ßÁöÑÂßìÂêçÁöÑËØùÔºå‰∏ÄËà¨Âú®mybatis‰∏≠ÁöÑsqlËØ≠Âè•ÊòØselect * from table where class_id =#{class_id} ‰ΩÜÊòØËøôÊ†∑Â∞±Êúâ‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂÅáËÆæÂ≠¶Ê†°Áé∞Âú®Á≥ªÁªüÂçáÁ∫ßÔºåÊØè‰∏Ä‰∏™Áè≠Á∫ßÁöÑIDÈÉΩÂèò‰∫ÜÔºåËøôÊó∂ÂÄôÈúÄË¶ÅÂà∞Â§Ñ‰øÆÊîπmybatisÁöÑÂèÇÊï∞ÔºåÂ∞ÜÂÖ∂‰øÆÊîπÊàê‰∏∫Ê≠£Á°ÆÁöÑID,ÈÇ£‰πàËøôÊòØ‰∏Ä‰∏™Êµ©Â§ßÁöÑÂ∑•Á®ãÔºåÂêåÊó∂Â¶ÇÊûú‰ª•ÂêéÂÜçÈúÄË¶ÅÊîπÁöÑËØùÔºå‰ºöÊØîËæÉÈ∫ªÁÉ¶„ÄÇÂ§ÑÁêÜËøô‰∏™ÈóÆÈ¢òÔºåËøô‰∏™Êó∂ÂÄôÊúâÂ¶Ç‰∏ãÊñπÊ≥ïÔºö Êûö‰∏æÂíåtypehandleÁªÑÂêàËß£ÂÜ≥ÈóÆÈ¢òÔºõ Êûö‰∏æÂíåbind‰∏ÄËµ∑ÁªÑÂêàËß£ÂÜ≥Ôºõ ÊöÇÊó∂Ê≤°ÊÉ≥Âà∞ ##Êûö‰∏æÂíåbindÁªÑÂêàËß£ÂÜ≥ÔºöÊñ∞Âª∫‰∏Ä‰∏™ÂÆû‰ΩìÁ±ªÔºö12345678910111213141516171819202122232425public class clazzEntity &#123; private String clazz_name; private int clazz_id; public clazzEntity(String clazz_name, int clazz_id) &#123; this.clazz_name = clazz_name; this.clazz_id = clazz_id; &#125; public String getClazz_name() &#123; return clazz_name; &#125; public void setClazz_name(String clazz_name) &#123; this.clazz_name = clazz_name; &#125; public int getClazz_id() &#123; return clazz_id; &#125; public void setClazz_id(int clazz_id) &#123; this.clazz_id = clazz_id; &#125;&#125; Êñ∞Âª∫‰∏Ä‰∏™Êûö‰∏æÁ±ªÔºö1234567891011121314151617181920212223242526public enum clazz &#123; CLASS_ONE("‰∏ÄÂπ¥Á∫ß",2018001),CLASS_TWO("‰∏ÄÂπ¥Á∫ß",2018002),CLASS_THREE("‰∏ÄÂπ¥Á∫ß",2018003),CLASS_FOUR("‰∏ÄÂπ¥Á∫ß",2018004),CLASS_FIVE("‰∏ÄÂπ¥Á∫ß",2018005); private String className; private int classId; clazz(String className, int classId) &#123; this.className = className; this.classId = classId; &#125; public String getClassName() &#123; return className; &#125; public void setClassName(String className) &#123; this.className = className; &#125; public int getClassId() &#123; return classId; &#125; public void setClassId(int classId) &#123; this.classId = classId; &#125;&#125; Êñ∞Âª∫‰∏Ä‰∏™mapperÊñá‰ª∂Ôºö1234567891011121314&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;&lt;mapper namespace="study.dao.clazzEntityDao"&gt; &lt;resultMap id="clazzmap" type="study.entity.clazzEntity"&gt; &lt;result property="clazz_name" column="clazz_name"&gt;&lt;/result&gt; &lt;result property="clazz_id" column="clazz_id"&gt;&lt;/result&gt; &lt;/resultMap&gt; &lt;select id="findAllCLass" resultMap="clazzmap"&gt; &lt;bind name="_CLASS" value="@study.entity.clazz@CLASS_ONE.className"/&gt; select * from clazzentity where clazz_name = #&#123;_CLASS&#125; &lt;/select&gt;&lt;/mapper&gt; Âú®ËøôÈáåÁöÑÁöÑÈÇ£‰∏™&lt;bind name=&quot;_CLASS&quot; value=&quot;@study.entity.clazz@CLASS_ONE.className&quot;/&gt;‰ª£Ë°®ÁöÑÊòØÂ∑≤ÁªèÁªëÂÆö‰∫ÜËøô‰∏™Êûö‰∏æ‰∏ÄÂπ¥Á∫ß‰∫ÜÔºåËÄå‰∏îÊàë‰ª¨Âú®ÂèÇÊï∞ÈáåÈù¢Êó†ËÆ∫ËæìÂÖ•‰ªÄ‰πàÈÉΩ‰∏ç‰ºöÂÜç‰øÆÊîπÂà∞Ëøô‰∏™sqlÁöÑÂÄº‰∫ÜÔºåÂèØ‰ª•ÂÅöÂ¶Ç‰∏ãÊµãËØïÔºö1234567891011121314151617public static void main(String args[]) &#123; Logger logger = null; logger = Logger.getLogger(MybatisExample.class.getName()); logger.setLevel(Level.DEBUG); SqlSession sqlSession = null; try &#123; sqlSession = study.mybatis.MybatisUtil.getSqlSessionFActory().openSession(); clazzEntityDao clazzEntityDao = sqlSession.getMapper(clazzEntityDao.class); List&lt;clazzEntity&gt; list =clazzEntityDao.findAllCLass(clazz.CLASS_TWO.getClassName()); for( clazzEntity clazzEntity :list)&#123; System.out.println(clazzEntity.getClazz_id()); &#125; sqlSession.commit(); &#125; finally &#123; sqlSession.close(); &#125; &#125; ÂèØ‰ª•ÂèëÁé∞ÊàëËøôÈáåÂ∑≤ÁªèÂ∞ÜÂèÇÊï∞‰øÆÊîπ‰∏∫‰∫Ü‰∫åÂπ¥Á∫ßÁöÑ‰∫ÜÔºå‰ΩÜÊòØÊü•ËØ¢ÁªìÊûúËøòÊòØ‰ºöÊòæÁ§∫ÁöÑÊòØ‰∏ÄÂπ¥Á∫ßÁöÑ.123456DEBUG [main] - ==&gt; Preparing: select * from clazzentity where clazz_name = ? DEBUG [main] - ==&gt; Parameters: ‰∏ÄÂπ¥Á∫ß(String)TRACE [main] - &lt;== Columns: clazz_name, clazz_idTRACE [main] - &lt;== Row: ‰∏ÄÂπ¥Á∫ß, 2018001DEBUG [main] - &lt;== Total: 12018001 Âú®ËøôÈáåÂÖ∂ÂÆûÂ∑≤ÁªèÂèØ‰ª•‰∏çÈúÄË¶Å‰ªª‰ΩïÂèÇÊï∞‰∫ÜÔºå‰ΩÜÊòØ‰∏∫‰∫ÜÊµãËØïÁî®Ê≥ïËøòÊòØÂä†‰∏äÂéª‰∫ÜÔºåËøôÊ†∑ÁöÑÂÜôÊ≥ïÂú®‰ª•ÂêéÁöÑ‰ΩúÁî®Â∞±ÊòØÁúÅÁöÑÂéªÊîπÂä®Â§ßÈáèÁöÑsqlÔºåËã•‰ª•Âêé‰∏ÄÂπ¥Á∫ßÁöÑIDÂèò‰∫ÜÁöÑËØùÔºåÈÇ£‰πàÊàë‰ª¨Âè™ÈúÄË¶Å‰øÆÊîπÊûö‰∏æÁöÑÂÄºËÄå‰∏çÈúÄË¶ÅÂØπsqlÂÅöÂæàÂ§öÁöÑÊîπÂèòÔºåËøôÂ∞±ÊòØÁ¨¨‰∏ÄÁßçÊñπÊ≥ïÔºåÂç≥Êûö‰∏æÂä†‰∏äbind‰∏ÄËµ∑‰ΩøÁî®‰ª•ÂáèÂ∞ësqlËØ≠Âè•ÁöÑÊîπÂä®„ÄÇ Êûö‰∏æÂä†‰∏ätypehandleÊòéÂ§©Á†îÁ©∂‰∏ãË°•ÂÖÖ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âú®Mybatis‰∏≠‰ΩøÁî®associationËøõË°å‰∏ÄÂØπ‰∏ÄÊü•ËØ¢]]></title>
    <url>%2F2018%2F03%2F31%2F%E5%9C%A8Mybatis%E4%B8%AD%E8%BF%9B%E8%A1%8C%E5%B7%A6%E8%BF%9E%E6%8E%A5%E6%88%96%E8%80%85%E5%8F%B3%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2%2F</url>
    <content type="text"><![CDATA[Âú®‰ªäÂ§©‰∏ªË¶ÅÊòØÊµãËØï‰∫Ü‰∏ãÂú®mybatis‰∏≠‰ΩøÁî®‰∏§ÁßçÊñπÂºèÊù•ËøõË°å‰∏ÄÂØπ‰∏ÄÊü•ËØ¢„ÄÇÂú®mybatis‰∏≠ËøõË°åÊôÆÈÄöÊü•ËØ¢ÁöÑËØùËÇØÂÆöÊòØ‰∏Ä‰∏™JavaBeanÂØπÂ∫î‰∏Ä‰∏™SqlËØ≠Âè•Ôºå‰ΩÜÊòØÂΩìÈúÄË¶ÅËøõË°å‰∏§Ë°®ÊàñËÄÖÂ§öË°®‰πãÈó¥‰∏ÄÂØπ‰∏ÄÁöÑÊü•ËØ¢ÁöÑÊó∂ÂÄôÂ∞±ÈúÄË¶Å‰ΩøÁî®mybatis‰∏≠ÁöÑassociationËøõË°å‰∏ÄÂØπ‰∏ÄÊü•ËØ¢ÔºåËÄåassociationÁöÑËÆæÁΩÆ‰∏ÄËà¨Êúâ‰∏§ÁßçÊñπÂºèÔºö ##Âü∫Á°ÄÁ±ªÔºöÂëòÂ∑•Á±ªÔºö1234567891011121314151617181920212223242526272829public class People implements Serializable &#123; private int people_id; private String people_card; private Role role; public int getPeople_id() &#123; return people_id; &#125; public void setPeople_id(int people_id) &#123; this.people_id = people_id; &#125; public String getPeople_card() &#123; return people_card; &#125; public void setPeople_card(String people_card) &#123; this.people_card = people_card; &#125; public Role getRole() &#123; return role; &#125; public void setRole(Role role) &#123; this.role = role; &#125;&#125; ÊùÉÈôêÁ±ªÔºö 1234567891011121314151617181920212223242526272829public class Role implements Serializable &#123; private int myrole_id; private String role_name; private RoleDetail roleDetail; public RoleDetail getRoleDetail() &#123; return roleDetail; &#125; public void setRoleDetail(RoleDetail roleDetail) &#123; this.roleDetail = roleDetail; &#125; public int getMyrole_id() &#123; return myrole_id; &#125; public void setMyrole_id(int myrole_id) &#123; this.myrole_id = myrole_id; &#125; public String getRole_name() &#123; return role_name; &#125; public void setRole_name(String role_name) &#123; this.role_name = role_name; &#125;&#125; ÊùÉÈôêÊèèËø∞Á±ªÔºö1234567891011121314151617181920public class RoleDetail implements Serializable&#123; private int rd_id; private String rd_detail; public int getRd_id() &#123; return rd_id; &#125; public void setRd_id(int rd_id) &#123; this.rd_id = rd_id; &#125; public String getRd_detail() &#123; return rd_detail; &#125; public void setRd_detail(String rd_detail) &#123; this.rd_detail = rd_detail; &#125;&#125; Âú®ËøôÈáåÈù¢ÁöÑËØùÔºåÂëòÂ∑•ÂíåÊùÉÈôêÈªòËÆ§ÊòØ‰∏ÄÂØπ‰∏ÄÁöÑÂÖ≥Á≥ª(ËøôÈáå‰ªÖ‰ªÖÊòØ‰∏∫‰∫ÜÊµãËØïÔºåÁé∞ÂÆû‰∏≠ËÇØÂÆöÊòØ‰∏ÄÂØπÂ§öÁöÑÂÖ≥Á≥ª)ÔºåÊùÉÈôêÂíåÊùÉÈôêÊèèËø∞ÊòØ‰∏ÄÂØπ‰∏ÄÁöÑÂÖ≥Á≥ªÔºö ‰ΩøÁî®ËøõË°åÈÖçÁΩÆÔºöÂÅáËÆæÁé∞Âú®Êúâ‰∏Ä‰∏™ÈúÄÊ±ÇÂ∞±ÊòØÈúÄË¶ÅÊü•ËØ¢Âá∫‰∏Ä‰∏™‰∫∫ÁöÑ‰ø°ÊÅØ‰ª•ÂèäÂÖ∂ÂØπÂ∫îÁöÑÊùÉÈôêÔºåËøôÊó∂Âú®Êï∞ÊçÆÂ∫ì‰∏≠Â∞±ÊòØ‰∏Ä‰∏™Â∑¶ËøûÊé•ÂíåÂè≥ËøûÊé•ÁöÑ‰∫ãÊÉÖÔºå‰ΩÜÊòØÂú®Mybatis‰∏≠Âõ†‰∏∫ÊòØ‰∏Ä‰∏™JavaBeanÂíåÊï∞ÊçÆÂ∫ìÁõ∏Êò†Â∞ÑÔºåÊâÄ‰ª•ÔºåÊ≠§Êó∂Â∞±ÈúÄË¶Å‰∏Ä‰∏™‰∏ÄÂØπ‰∏ÄÊü•ËØ¢ÔºöÊñ∞Âª∫‰∏Ä‰∏™RoleDaoÁöÑxmlÊñá‰ª∂123456&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt; &lt;mapper namespace="study.dao.RoleDao"&gt; &lt;/mapper&gt; Áî±‰∫éÊòØÈúÄË¶ÅÂú®Êü•ËØ¢ÂëòÂ∑•ÁöÑÊó∂ÂÄôÈ°∫Â∏¶Â∞ÜÂÖ∂ÊùÉÈôê‰πüÊü•Âá∫Êù•ÔºåÊâÄ‰ª•Ëøô‰∏™Êó∂ÂÄôÈúÄË¶ÅÂú®peopleÁöÑxmlÊñá‰ª∂‰∏≠‰ΩøÁî®association:12345678910111213141516171819&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt; &lt;mapper namespace="study.dao.PeopleDao"&gt; &lt;resultMap type="study.entity.People" id="people"&gt; &lt;id property="people_id" column="people_id"/&gt; &lt;result property="people_card" column="people_card"/&gt; &lt;association property="role" javaType="study.entity.Role" &gt; &lt;id property="myrole_id" column="myrole_id"&gt;&lt;/id&gt; &lt;result property="role_name" column="role_name"&gt;&lt;/result&gt; &lt;/association&gt; &lt;/resultMap&gt; &lt;select id="getPeopleCard" parameterType="int" resultMap="people"&gt; select p.people_id,p.people_card,m.* from people p, mybatisrole m where people_id=#&#123;role_id&#125; and p.role_id =m.myrole_id &lt;/select&gt; &lt;/mapper&gt; &lt;!-- select p.people_id,p.people_card,m.* from people p, mybatisrole m where people_id=#&#123;role_id&#125; -- &gt; Ê≥®ÊÑè‰∏äÈù¢association‰∏≠ÁöÑpropertyÔºåËøôÊòØpeople‰∏≠ÁöÑ‰∏Ä‰∏™Â±ûÊÄßÔºåËÄåjavaTypeÂàô‰ª£Ë°®ÁöÑÊòØËøô‰∏™ÊòØ‰∏Ä‰∏™‰ªÄ‰πàÁ±ªÂûãÔºõÊµãËØïÊü•ÁúãÁªìÊûú:1234567891011121314151617181920public class MybatisExample &#123; public static void main(String args[]) &#123; Logger logger = null; logger = Logger.getLogger(MybatisExample.class.getName()); logger.setLevel(Level.DEBUG); SqlSession sqlSession = null; try &#123; sqlSession = study.mybatis.MybatisUtil.getSqlSessionFActory().openSession(); PeopleDao peopleDao = sqlSession.getMapper(PeopleDao.class); List&lt;People&gt; list = peopleDao.getPeopleCard(1); for(People p : list) &#123; System.out.println(p.getRole().getRole_name()); &#125; sqlSession.commit(); &#125; finally &#123; sqlSession.close(); &#125; &#125;&#125; ÊâìÂç∞ÁªìÊûú: DEBUG [main] - ==&gt; Preparing: select p.people_id,p.people_card,m.* from people p, mybatisrole m where people_id=?DEBUG [main] - ==&gt; Parameters: 1(Integer)TRACE [main] - &lt;== Columns: people_id, people_card, myrole_id, role_nameTRACE [main] - &lt;== Row: 1, qw, 1, aDEBUG [main] - &lt;== Total: 1a ÂΩì‰ΩøÁî®Â¶Ç‰∏äËøôÁßçÈÖçÁΩÆÁöÑÊó∂ÂÄô‰ºöÊâßË°å2Ê¨°‰∏çÂêåÁöÑsqlÔºöRoleDetailmapper.xmlÈÖçÁΩÆÊñá‰ª∂Ôºö12345678910111213&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;&lt;mapper namespace="study.dao.RoleDetailDao"&gt; &lt;resultMap id="getRd_detail" type="study.entity.RoleDetail"&gt; &lt;id property="rd_id" column="rd_id"&gt;&lt;/id&gt; &lt;result property="rd_detail" column="rd_detail"&gt;&lt;/result&gt; &lt;/resultMap&gt;&lt;select id="getDetailById" parameterType="int" resultType="study.entity.RoleDetail"&gt; SELECT * from roledetail where rd_id=#&#123;id&#125;&lt;/select&gt;&lt;/mapper&gt; ÁÑ∂ÂêéÂÜçRolemapper.xml‰∏≠Ë∞ÉÁî®ÂÆÉÔºö123456789101112131415161718&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt; &lt;mapper namespace="study.dao.RoleDao"&gt; &lt;resultMap type="study.entity.Role" id="Role"&gt; &lt;result property="myrole_id" column="myrole_id"/&gt; &lt;result property="role_name" column="role_name"/&gt; &lt;association property="roleDetail" column="rd_id" select="study.dao.RoleDetailDao.getDetailById"&gt; &lt;id property="myrole_id" column="rd_id"&gt;&lt;/id&gt; &lt;result property="rd_detail" column="rd_detail"&gt;&lt;/result&gt; &lt;/association&gt; &lt;/resultMap&gt; &lt;!--select * from mybatisrole m ,roledetail r where m.myrole_id=#&#123;id&#125; and m.myrole_id=r.rd_id--&gt; &lt;select id="getRoleById" parameterType="int" resultMap="Role"&gt; select * from mybatisrole m ,roledetail r where m.myrole_id=#&#123;id&#125; &lt;/select&gt; &lt;/mapper&gt; Âú®Ëøô‰∏™Âú∞ÊñπÁöÑËØùassociationÂêéË∑üÁöÑÊòØcolumnÂíåselectÂ±ûÊÄßÔºåÊâÄ‰ª•Âú®ÊâßË°åÁöÑÊó∂ÂÄôÂÖàÊâßË°ågetRoleById,ÂÜçÊâßË°ågetDetailById:123456789101112131415161718public class MybtisRoleExample &#123; public static void main(String args[]) &#123; Logger logger = null; logger = Logger.getLogger(MybatisExample.class.getName()); logger.setLevel(Level.DEBUG); SqlSession sqlSession = null; try &#123; sqlSession = study.mybatis.MybatisUtil.getSqlSessionFActory().openSession(); RoleDao roleDao= sqlSession.getMapper(RoleDao.class); List&lt;Role&gt; list= roleDao.getRoleById(1); for(Role r : list) &#123; System.out.println(r.getRoleDetail().getRd_detail()); &#125; &#125; finally &#123; sqlSession.close(); &#125; &#125;&#125; ÊâìÂç∞Êó•ÂøóÂ¶Ç‰∏ãÔºö DEBUG [main] - ==&gt; Preparing: select from mybatisrole m ,roledetail r where m.myrole_id=?DEBUG [main] - ==&gt; Parameters: 1(Integer)TRACE [main] - &lt;== Columns: myrole_id, role_name, rd_id, rd_detailTRACE [main] - &lt;== Row: 1, a, 1, ‰∏ªË¶ÅÊùÉÈôêË¥üË¥£‰∫∫DEBUG [main] - ====&gt; Preparing: SELECT from roledetail where rd_id=?DEBUG [main] - ====&gt; Parameters: 1(Integer)TRACE [main] - &lt;==== Columns: rd_id, rd_detailTRACE [main] - &lt;==== Row: 1, ‰∏ªË¶ÅÊùÉÈôêË¥üË¥£‰∫∫DEBUG [main] - &lt;==== Total: 1DEBUG [main] - &lt;== Total: 1‰∏ªË¶ÅÊùÉÈôêË¥üË¥£‰∫∫ ÂèØ‰ª•ÁúãÂà∞ÊâßË°å‰∫Ü2Êù°sqlÔºõ ÊÄªÁªìÔºöËôΩÁÑ∂ÂèØ‰ª•ËøõË°å‰∏ÄÂØπ‰∏ÄÊü•ËØ¢‰∫ÜÔºå‰ΩÜÊòØ‰∏çÁü•ÈÅìÈóÆ‰ªÄ‰πà‰∏§ÁßçÈÖçÁΩÆ‰ºöÂØºËá¥ÊâßË°å‰∏çÂêåÊ¨°Êï∞ÁöÑsqlÔºåÂÆòÊñπÊñáÊ°£ÁöÑËß£ÈáäÊòØ‰∏Ä‰∏™ Java Á±ªÁöÑÂÆåÂÖ®ÈôêÂÆöÂêç,Êàñ‰∏Ä‰∏™Á±ªÂûãÂà´Âêç(ÂèÇËÄÉ‰∏äÈù¢ÂÜÖÂª∫Á±ªÂûãÂà´ÂêçÁöÑÂàóË°®)„ÄÇ Â¶ÇÊûú‰Ω†Êò†Â∞ÑÂà∞‰∏Ä‰∏™ JavaBean,MyBatis ÈÄöÂ∏∏ÂèØ‰ª•Êñ≠ÂÆöÁ±ªÂûã„ÄÇÁÑ∂ËÄå,Â¶Ç Êûú‰Ω†Êò†Â∞ÑÂà∞ÁöÑÊòØ HashMap,ÈÇ£‰πà‰Ω†Â∫îËØ•ÊòéÁ°ÆÂú∞ÊåáÂÆö javaType Êù•‰øùËØÅÊúüÊúõÁöÑ Ë°å‰∏∫„ÄÇ‰ΩÜÊòØÂç¥Ê≤°ËØ¥‰∏∫Âï•ÊàñËÄÖÊÄéÊ†∑Êò†Â∞ÑÂæó„ÄÇ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âú®Spring‰∏≠‰ΩøÁî®JWTÁîüÊàêtokenÊù•È™åËØÅÁî®Êà∑]]></title>
    <url>%2F2018%2F03%2F30%2F%E5%9C%A8Spring%E4%B8%AD%E4%BD%BF%E7%94%A8JWT%E7%94%9F%E6%88%90token%E6%9D%A5%E9%AA%8C%E8%AF%81%E7%94%A8%E6%88%B7%2F</url>
    <content type="text"><![CDATA[È¶ñÂÖàJWTÂÖ®Á®ãÊòØ JSON WEB TOKEN ‰∏éSpringËøõË°å‰∏Ä‰∏™Êï¥ÂêàÔºöËé∑ÂèñJWTÈ¶ñÂÖàÈúÄË¶ÅÂú®pom‰∏≠ÂºïÂÖ•Âá†‰∏™ÈúÄË¶ÅÁöÑjarÂåÖÔºö1234567891011&lt;dependency&gt; &lt;groupId&gt;com.auth0&lt;/groupId&gt; &lt;artifactId&gt;java-jwt&lt;/artifactId&gt; &lt;version&gt;3.3.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt; &lt;artifactId&gt;jjwt&lt;/artifactId&gt; &lt;version&gt;0.9.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; Âè¶Â§ñËøôÈáå‰πüÈúÄË¶ÅshiroÁöÑÂá†‰∏™Ê†∏ÂøÉjarÔºåËøôÈáåÂ∞±‰∏çÂÜôÂá∫Êù•‰∫Ü„ÄÇ jarÂåÖÊ∑ªÂä†ÂÆåÊØï‰πãÂêé‰æøÂèØ‰ª•ÁºñÂÜôÂä†ÂØÜÁöÑÊñπÊ≥ï‰∫ÜÔºö1234567byte[] apiKeySecretBytes = DatatypeConverter.parseBase64Binary(&quot;somersames&quot;);SignatureAlgorithm sigAlg = SignatureAlgorithm.HS256;Key signingKey = new SecretKeySpec(apiKeySecretBytes, sigAlg.getJcaName());JwtBuilder builder = Jwts.builder() .setSubject(username) .signWith(sigAlg, signingKey);String result =builder.compact(); Âú®ËøôÈáåÈúÄË¶ÅËß£Èáä‰∏ãÁöÑÂ∞±ÊòØÂØπËæìÂÖ•ÁöÑKeyËøõË°å‰∏Ä‰∏™Base64Âä†ÂØÜÔºåÁÑ∂ÂêéÂ∞ÜËé∑ÂèñÂà∞ÁöÑÂØÜÂåôÂíåSignatureAlgorithmÊåáÂÆöÁöÑ‰∏Ä‰∏™Âä†ÂØÜÁÆóÊ≥ïËøõË°åÂä†ÂØÜÔºåÊñáÁ´†ÈáåÈù¢ÊòØHS256Âä†ÂØÜÁÆóÊ≥ïÔºåÊúÄÂêéÁîüÊàê‰∏Ä‰∏™Key„ÄÇÂΩìËé∑ÂèñÂà∞Ëøô‰∏™key‰πãÂêéÈÄöËøáJwtBuilderÊù•ËøõË°åÁîüÊàê‰∏Ä‰∏™JwtBuilderÔºåÊúÄÂêéÂú®Ë∞ÉÁî®compact()‰ªéËÄåÂèØ‰ª•Ëé∑Âæó‰∏Ä‰∏™JWT JWTÈ™åËØÅÁî®Êà∑ÔºöËøô‰∏ÄÊ≠•Â∞±ÊòØÈúÄË¶ÅÂíåspringÊù•Êâì‰∫§ÈÅì‰∫ÜÔºåÂÖ≥‰∫éÁîüÊàêÁöÑtokenËøîÂõûÁªôÂâçÁ´Ø‰πãÂêéÂà∞Â∫ïÂÇ®Â≠òÂú®Âì™ÈáåÔºå‰∏ãÂçàÊü•‰∫Ü‰∏ãÁõÆÂâçÊúâ‰∏§ÁßçËß£ÂÜ≥ÂäûÊ≥ïÔºå‰∏ÄÁßçÊòØÂ≠òÂú®sessionÈáåÈù¢ÔºåÁÑ∂ÂêéËÆæÁΩÆËøáÊúüÊó∂Èó¥ÔºåÂè¶Â§ñ‰∏ÄÁßçÂàôÊòØÂ≠òÂÇ®Âú®localstorage, ÂØπÊØîËøô‰∏§ÁßçÂ≠òÂÇ®ÊñπÂºèÔºåÂèëÁé∞localstorageÂú®ÂÆ¢Êà∑Á´ØÁöÑËØù‰ªª‰Ωï‰∫∫ÈÉΩÂèØ‰ª•Ëé∑ÂèñÔºåÊâÄ‰ª•ÊúÄÂêéËøòÊòØËÄÉËôë‰∫ÜÈÄöËøásesisonÊù•Â≠òÂÇ®TOKEN„ÄÇ Êñ∞Âª∫SpringÁöÑÊéßÂà∂Âô®Ôºö1234567891011121314151617181920212223242526272829303132333435363738@RequestMapping(value = &quot;/provicer&quot;) @ResponseBody public String jwtTest(@RequestParam(value = &quot;username&quot;,required = false)String username, @RequestParam(value = &quot;password&quot;,required = false)String password, HttpServletRequest request,HttpServletResponse response )&#123; if (username == null || password == null) &#123; username = &quot;zhangsan&quot;; Cookie[] cookie = request.getCookies(); if (cookie != null) &#123; for (Cookie c : cookie) &#123; if (c.getName().equals(&quot;token&quot;)) &#123; if (decodeCookies(&quot;zheshijiakey&quot;, c.getValue()).equals(&quot;zhangsan&quot;)) &#123; return &quot;OK&quot;; &#125; &#125; &#125; &#125; &#125; byte[] apiKeySecretBytes = DatatypeConverter.parseBase64Binary(&quot;zheshijiakey&quot;); SignatureAlgorithm sigAlg = SignatureAlgorithm.HS256; Key signingKey = new SecretKeySpec(apiKeySecretBytes, sigAlg.getJcaName()); System.out.println(signingKey); System.out.println(username); JwtBuilder builder = Jwts.builder() .setSubject(username) .signWith(sigAlg, signingKey); String result =builder.compact(); Cookie cookie =new Cookie(&quot;token&quot;,result); response.addCookie(cookie); return result; &#125; public static String decodeCookies(String Key , String jwt)&#123; Jws&lt;Claims&gt; jws = Jwts.parser().setSigningKey(Key).parseClaimsJws(jwt); return jws.getBody().getSubject(); &#125; Âú®ËøôÈáå‰ªÖ‰ªÖÊòØ‰Ωú‰∏∫‰∏Ä‰∏™ÊµãËØïÔºåÊâÄ‰ª•Âπ∂Ê≤°ÊúâÁúüÊ≠£ÁöÑÊü•ËØ¢Êï∞ÊçÆÂ∫ìÔºåÂú®ËøôÈáåÈªòËÆ§‰∏Ä‰∏™Áî®Êà∑ÂêçÂè´zhangsan ,‰ª£Á†ÅÂ∞±ÊòØÂà§Êñ≠Áî®Êà∑ÊòØÂê¶ÁôªÈôÜÔºåËã•Êú™ÁôªÂΩïÂ∞±ÁîüÊàê‰∏Ä‰∏™ÂåÖÂê´usename‰∏∫‚Äôzhangsan‚ÄôÁöÑJWTtokenÔºåÁÑ∂ÂêéÈÄöËøáresponseËøîÂõûÁªôÂâçÁ´ØÔºåËã•Âú®ÂâçÁ´ØËØ∑Ê±ÇÁöÑHTTPËøûÊé•‰∏≠ÈÄöËøácookiesËé∑ÂèñÂà∞‰∫ÜËøô‰∏™tokenÔºåÈÇ£‰πàÂ∞±‰ºöËøõË°å‰∏Ä‰∏™Ëß£Êûê„ÄÇËøôÈáåËøõË°åËß£ÊûêÁöÑÊó∂ÂÄôËã•ÂèëÁé∞ÊòØÈùûÊ≥ïtokenÁöÑËØùÔºåÊúÄÂ•ΩËøõË°å‰∏Ä‰∏™try-catchÁÑ∂ÂêéËøîÂõûÁªôÂâçÁ´ØÊüê‰∫õÁ∫¶ÂÆöÁöÑÈîôËØØÁ†ÅÁÑ∂ÂêéË∑≥ËΩ¨‰ºöÁôªÈôÜÁïåÈù¢„ÄÇÊµãËØïÁªìÊûú:È¶ñÊ¨°ÁôªÈôÜÂ¶Ç‰∏ãÔºö ÁÑ∂ÂêéÂΩìÁôªÈôÜ‰∏ÄÊ¨°‰πãÂêé‰æø‰ºöÁîüÊàê‰∏Ä‰∏™tokenÔºåÊúÄÂêéÂú®Á¨¨‰∫åÊ¨°ËØ∑Ê±ÇÁöÑÊó∂ÂÄô‰æø‰ºöËøîÂõûOK]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Spring</tag>
        <tag>Jwt</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[cssËÆ∞ÂΩï]]></title>
    <url>%2F2018%2F03%2F30%2Fcss%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[Âú®cssÁöÑÊ†∑ÂºèÂ∫îÁî®‰∏≠ÔºåscriptÊòØ‰∏Ä‰∏™ÂèåÊ†áÁ≠æÔºå‰πüÂ∞±ÊòØËØ¥scriptÊòØÂøÖÈ°ªË¶ÅÈÄöËøáÊ†áÁ≠æÈó≠ÂêàÁöÑ‰πüÂ∞±ÊòØ&lt;script&gt;&lt;/script&gt;,ËÄå‰∏çÂèØ‰ª•‰ΩøÁî®&lt;script XXX/&gt;ËøôÊ†∑ÂÜôÁöÑËØù‰ºöÂØºËá¥ÊµèËßàÂô®Ëß£Êûê‰∏çÂá∫Êù•È°µÈù¢ÔºåËÄåÂçïÊ†áÁ≠æÁöÑËØùÂàôÊòØÂèØ‰ª•ÈÄöËøá/&gt;ÂÖ≥Èó≠„ÄÇÁ±ª‰ºº‰∫é&lt;meta&gt;Ê†áÁ≠æÁöÑËØùÂàôÊòØ‰∏çÈúÄË¶Å/&gt;‰ΩÜÊòØÂú®Â∑•‰Ωú‰∏≠ÁöÑËØùÊòØÊé®ËçêÂä†‰∏äÈó≠ÂêàÊ†áÁ≠æÔºå‰ª•ÊòØÁöÑ‰ª£Á†ÅÊúâÂæàÂ•ΩÁöÑÂèØËØªÊÄß„ÄÇ ÂêåÁêÜÂú®css‰∏≠ÁöÑpÊ†áÁ≠æÂ¶ÇÊûúÂµåÂ•ó‰∫Ü‰∏Ä‰∏™h1Ê†áÁ≠æÁöÑËØù‰ºöÂá∫Áé∞Ëß£ÊûêÈîôËØØ,ÊòØÂõ†‰∏∫pÊ†áÁ≠æÁöÑËØùÂè™ËÉΩÂá∫Áé∞Ë°åÂÜÖÂÖÉÁ¥†ÂíåÊñáÊú¨ÔºåËã•ÊòØÂá∫Áé∞‰∫ÜÂùóÁ∫ßÂÖÉÁ¥†ÁöÑËØù:ÊµèËßàÂô®ÁöÑËß£ÊûêÊñπÊ≥ïÂ¶Ç‰∏ãÔºö123456789&lt;p&gt;&lt;h1&gt;ÊµãËØïÁöÑÊ†áÈ¢ò&lt;/h1&gt;&lt;/p&gt;ÊµèËßàÂô®Ëß£ÊûêÔºö&lt;p&gt;&lt;/p&gt;&lt;h1&gt;ÊµãËØïÁöÑÊ†áÈ¢ò&lt;/h1&gt;&lt;p&gt;&lt;/p&gt; ÂûÇÁõ¥ÊñπÂêë‰∏äÁöÑÂ§ñËæπË∑ù‰ºöÂè†Âä†ÔºåÂç≥ÂÆΩÁöÑÂ§ñËæπË∑ù‰ºöÂÜ≥ÂÆöÂûÇÁõ¥ÊñπÂêë‰∏äÁöÑË∑ùÁ¶ª ‰∏∫ËÆæÁΩÆ‰∫ÜÂÆΩÂ∫¶ÁöÑÁõíÂ≠êÊ∑ªÂä†ËæπË∑ùÂï•ÁöÑ‰ºöÂØºËá¥ÁõíÂ≠êÂèòÂæóÊõ¥ÂÆΩ]]></content>
      <categories>
        <category>ÂâçÁ´Ø</category>
      </categories>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mysqlÁöÑ‰∏Ä‰∫õÊÄªÁªì]]></title>
    <url>%2F2018%2F03%2F29%2Fmysql%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[ÂâçË®Ä‰ªäÂ§©Á™ÅÁÑ∂Êúâ‰∏Ä‰∏™ÂÜôsqlÁöÑÊú∫‰ºöÔºå‰ΩÜÊòØÊòØÊâãÂÜôÔºå‰∏çÂÉè‰πãÂâçÈÇ£Ê†∑ÂèØ‰ª•Âú®Êï∞ÊçÆÂ∫ì‰∏äÂÅöÊµãËØï„ÄÇËøôÁ™ÅÁÑ∂ËÆ©ÊàëÊÑüËßâÊúâÁöÑËØ≠Ê≥ïÊúâÁÇπÁîüÁñè‰∫ÜÔºåÊâÄ‰ª•‰πòÁùÄËøô‰∏™Êú∫‰ºöÊù•ÂÅö‰∏Ä‰∏™ÂÖ®ÈÉ®ÁöÑÊ¢≥ÁêÜ„ÄÇ groupbyÂíåwhereÁöÑÈ°∫Â∫èÔºö‰ªäÂ§©ÊòØÊúâ‰∏§Ë°®ÂÅö‰∏Ä‰∏™Á≠âÂÄºËøûÊé•Êü•ËØ¢ÁöÑÔºåÂú®ËøôÈáåÂ∫îËØ•ÊòØÂÖàwhere‰πãÂêéÂÜçËøõË°ågroup byÔºågroup byÊòØÂØπwhereÊù°‰ª∂ËøáÊª§‰πãÂêéÂÜçËøõË°åÂàÜÁªÑÂ§ÑÁêÜÔºåÊâÄ‰ª•whereÂú®Ââç„ÄÇ group byÂú®ËøôÈáå‰πãÂâç‰∏ÄÁõ¥ÂØπgroup byÊúâ‰∏Ä‰∏™ÊØîËæÉÈîôËØØÁöÑËÆ§ËØÜÔºåÂÖàÁúã‰∏Ä‰∏ãË°®ÁªìÊûÑÔºö1234567891011121314151617181920212223242526272829mysql&gt; SELECT e.employeeNumber,e.firstName ,e.extension, o.state ,o.officeCode FROM employees e ,offices o WHERE e.officeCode = o.officeCode;+----------------+-----------+-----------+------------+------------+| employeeNumber | firstName | extension | state | officeCode |+----------------+-----------+-----------+------------+------------+| 1002 | Diane | x5800 | CA | 1 || 1056 | Mary | x4611 | CA | 1 || 1076 | Jeff | x9273 | CA | 1 || 1143 | Anthony | x5428 | CA | 1 || 1165 | Leslie | x3291 | CA | 1 || 1166 | Leslie | x4065 | CA | 1 || 1188 | Julie | x2173 | MA | 2 || 1216 | Steve | x4334 | MA | 2 || 1286 | Foon Yue | x2248 | NY | 3 || 1323 | George | x4102 | NY | 3 || 1102 | Gerard | x5408 | NULL | 4 || 1337 | Loui | x6493 | NULL | 4 || 1370 | Gerard | x2028 | NULL | 4 || 1401 | Pamela | x2759 | NULL | 4 || 1702 | Martin | x2312 | NULL | 4 || 1621 | Mami | x101 | Chiyoda-Ku | 5 || 1625 | Yoshimi | x102 | Chiyoda-Ku | 5 || 1088 | William | x4871 | NULL | 6 || 1611 | Andy | x101 | NULL | 6 || 1612 | Peter | x102 | NULL | 6 || 1619 | Tom | x103 | NULL | 6 || 1501 | Larry | x2311 | NULL | 7 || 1504 | Barry | x102 | NULL | 7 |+----------------+-----------+-----------+------------+------------+23 rows in set (0.00 sec) Âú®Ëøô‰πãÂâç‰∏ÄÁõ¥ÊòØÊÉ≥ÈÄöËøágroupbyËææÂà∞Â¶Ç‰∏ãÁöÑÊïàÊûúÔºö12345678mysql&gt; SELECT e.employeeNumber,e.firstName ,e.extension, o.state ,o.officeCode FROM employees e ,offices o WHERE e.officeCode = o.officeCode and o.officeCode=3;+----------------+-----------+-----------+-------+------------+| employeeNumber | firstName | extension | state | officeCode |+----------------+-----------+-----------+-------+------------+| 1286 | Foon Yue | x2248 | NY | 3 || 1323 | George | x4102 | NY | 3 |+----------------+-----------+-----------+-------+------------+2 rows in set (0.00 sec) ÂÖ∂ÂÆûËøôÁßçÂè™ËÉΩÊòØÈÄöËøá‰∏Ä‰∏™ÂÜÖËøûÊé•Âä†‰∏Ä‰∏™Êù°‰ª∂ËøáÊª§Êù•ËøõË°åÂÆûÁé∞Ôºå‰ΩÜÊòØÂú®‰πãÂâçÁöÑËØùÊòØ‰∏ÄÁõ¥Âú®ËÆ∞ÂøÜÈáåÈù¢ËÆ§‰∏∫groupbyÂèØË°åÔºåÂÖ∂ÂÆûÊòØ‰∏çÂèØË°åÁöÑ Ôºå‰∏∫‰ªÄ‰πàËøôÊ†∑ËØ¥‰∫ÜÔºåÂõ†‰∏∫group byÊåâÁÖßÊù°‰ª∂ÂàÜÁªÑ‰πãÂêé‰ªñÊØèÁªÑÂè™‰ºöÊúâ‰∏ÄÊù°ÔºåÈÇ£‰πàÂú®ËøôÈáåÂ∞±Âá∫Áé∞‰∫Ü‰∏Ä‰∏™ÈóÆÈ¢òÔºåÊó¢ÁÑ∂groupby‰πãÂêéÊòæÁ§∫ÁöÑÊòØ‰∏ÄÊù°ÔºåÈÇ£‰πàËøô‰∏§Ë°åÂ¶Ç‰ΩïÊòæÁ§∫Âë¢ÔºüÊâÄ‰ª•ËøôÁßçÈÄöËøágroupbyÊù•ÊòæÁ§∫ÁöÑÊòØ‰∏çÂèØË°åÁöÑ„ÄÇÈÇ£‰πàÔºågroupbyÈÄÇÂêà‰ªÄ‰πàÂë¢ÔºügroupbyÈÄÇÂêàÁöÑÊòØÊåâÁÖßÂàÜÁªÑËøõË°åÁªüËÆ°ÁöÑÔºå‰æãÂ¶ÇÊ±ÇÊúÄÂ§ßËñ™Ê∞¥ÔºåÂπ≥ÂùáËñ™Ê∞¥Á≠âÔºåËÄå‰∏çÊòØÂàóÂá∫Êüê‰∏Ä‰∏™ÂàÜÁªÑÈáåÈù¢ÁöÑÊâÄÊúâ‰∫∫ÁöÑ„ÄÇÂàóÂá∫ÊâÄÊúâ‰∫∫ËøôÊòØwhereÊìÖÈïøÁöÑÔºåÂ¶Ç‰∏ãÊï∞ÊçÆË°®Ôºö12345678910111213141516mysql&gt; SELECT o.orderNUmber, o.orderDate, od.priceEach FROM orders o ,orderdetails od WHERE o.orderNumber =od.orderNumber limit 0,10;+-------------+------------+-----------+| orderNUmber | orderDate | priceEach |+-------------+------------+-----------+| 10100 | 2003-01-06 | 136.00 || 10100 | 2003-01-06 | 55.09 || 10100 | 2003-01-06 | 75.46 || 10100 | 2003-01-06 | 35.29 || 10101 | 2003-01-09 | 108.06 || 10101 | 2003-01-09 | 167.06 || 10101 | 2003-01-09 | 32.53 || 10101 | 2003-01-09 | 44.35 || 10102 | 2003-01-10 | 95.55 || 10102 | 2003-01-10 | 43.13 |+-------------+------------+-----------+10 rows in set (0.00 sec) ÈÇ£‰πàÊåâÁÖßorderNumber ËøõË°ågroupby‰æøÂèØ‰ª•Ê±ÇÂá∫ÊØè‰∏Ä‰∏™ËÆ¢ÂçïÁöÑÊÄª‰ª∑‰∫ÜÔºå‰πüËØ¥Êòé‰∫ÜgroupbyÂè™ÊòØÈÄÇÂêà‰∫éÂàÜÁªÑÁªüËÆ°ÔºåËÄå‰∏çÊòØÈÄÇÁî®‰∫éÂàÜÁªÑÂ±ïÁ§∫Ôºö12345678910111213141516SELECT o.orderNUmber, o.orderDate ,SUM(od.priceEach) FROM orders o ,orderdetails od WHERE o.orderNumber =od.orderNumber GROUP BY od.orderNumber limit 0,10;+-------------+------------+-------------------+| orderNUmber | orderDate | SUM(od.priceEach) |+-------------+------------+-------------------+| 10100 | 2003-01-06 | 301.84 || 10101 | 2003-01-09 | 352.00 || 10102 | 2003-01-10 | 138.68 || 10103 | 2003-01-29 | 1520.37 || 10104 | 2003-01-31 | 1251.89 || 10105 | 2003-02-11 | 1479.71 || 10106 | 2003-02-17 | 1427.28 || 10107 | 2003-02-24 | 793.21 || 10108 | 2003-03-03 | 1432.86 || 10109 | 2003-03-10 | 700.89 |+-------------+------------+-------------------+10 rows in set (0.01 sec) ËøôÊâçÊòØgroupbyÁöÑÊ≠£Á°ÆÁî®Ê≥ï having countÂáΩÊï∞Ôºöhaving countÂáΩÊï∞ÂèØ‰ª•ÈÖçÂêàgroup by ÂØπÂàÜÁªÑ‰πãÂêéÁöÑÊï∞ÊçÆËøõË°åÁ≠õÈÄâÔºåËøôÊòØwhereËøáÊª§ÊâÄËææ‰∏çÂà∞ÁöÑÔºåÂ∞±ÊØîÂ¶Ç‰∏äË°®ÔºåÈúÄË¶ÅËøáÊª§Âá∫ËÆ¢Âçï‰ª∑Ê†ºÂ§ß‰∫é1000ÁöÑÔºåÈÇ£‰πàÂú®Áî®whereÁöÑÊó∂ÂÄôÂàô‰ºöÊòæÂæóÂæà‰πèÂäõÔºö12345678910111213141516mysql&gt; SELECT o.orderNUmber, o.orderDate ,SUM(od.priceEach) AS total FROM orders o ,orderdetails od WHERE o.orderNumber =od.orderNumber GROUP BY od.orderNumber HAVING TOTAL &gt; 1000 LIMIT 0,10;+-------------+------------+---------+| orderNUmber | orderDate | total |+-------------+------------+---------+| 10103 | 2003-01-29 | 1520.37 || 10104 | 2003-01-31 | 1251.89 || 10105 | 2003-02-11 | 1479.71 || 10106 | 2003-02-17 | 1427.28 || 10108 | 2003-03-03 | 1432.86 || 10110 | 2003-03-18 | 1338.47 || 10117 | 2003-04-16 | 1307.47 || 10119 | 2003-04-28 | 1081.44 || 10120 | 2003-04-29 | 1322.67 || 10122 | 2003-05-08 | 1598.27 |+-------------+------------+---------+10 rows in set (0.00 sec) ËøôÂ∞±ÊòØhavingÈÖçÂêàgroupbyÁöÑ‰æøÊç∑ÊÄßÔºåÈÇ£‰πàwhereÈÄÇÂêà‰ªÄ‰πàÂΩ¢ÂºèÁöÑËøáÊª§Âë¢ÔºüÊàë‰∏™‰∫∫ËÆ§‰∏∫whereÊØîËæÉÈÄÇÂêà‰∫éÂú®groupby‰πãÂâçÂ∞±ËøõË°åÊï∞ÊçÆÁöÑËøáÊª§ÔºåËøôÊ†∑‰ºöÊØîËæÉÂ•ΩÔºåËÄåhaving countÂàôÈÄÇÂêà‰∫égroupby‰πãÂêéÁöÑ‰∏Ä‰∏™ËøáÊª§„ÄÇ OrderByÂáΩÊï∞ÔºöorderbyÂáΩÊï∞ÂèØ‰ª•ÂØπÁªìÊûúÈõÜËøõË°åÊéíÂ∫èÔºå‰ªñÊó¢ÂèØ‰ª•ÂíåwhereÊê≠ÈÖç‰ΩøÁî®ÔºåÂèàÂèØ‰ª•ÂíågroupbyÊê≠ÈÖç‰ΩøÁî®ÔºåÂèàÂèØ‰ª•Âíåhaving‰∏ÄËµ∑Êê≠ÈÖç‰ΩøÁî®Ôºö12345678910111213141516mysql&gt; SELECT o.orderNUmber, o.orderDate ,SUM(od.priceEach) AS total FROM orders o ,orderdetails od WHERE o.orderNumber =od.orderNumber GROUP BY od.orderNumber HAVING TOTAL &gt; 1000 order by total LIMIT 0,10;+-------------+------------+---------+| orderNUmber | orderDate | total |+-------------+------------+---------+| 10341 | 2004-11-24 | 1003.19 || 10293 | 2004-09-09 | 1004.59 || 10246 | 2004-05-05 | 1006.78 || 10420 | 2005-05-29 | 1014.01 || 10311 | 2004-10-16 | 1033.82 || 10380 | 2005-02-16 | 1034.10 || 10412 | 2005-05-03 | 1034.15 || 10278 | 2004-08-06 | 1034.86 || 10361 | 2004-12-17 | 1052.87 || 10271 | 2004-07-20 | 1054.03 |+-------------+------------+---------+10 rows in set (0.01 sec) MysqlÁöÑÊÄªÁªìÔºöÂÖ∂ÂÆûmysqlÁöÑËøûÊé•Êó†ÈùûÊòØÂ∑¶ËøûÊé•ÔºåÂè≥ËøûÊé•ÔºåÂÜÖËøûÊé•ÔºåÂÖ®ËøûÊé•Ôºå‰πüÂ∞±left join ,right join ,inner join ÂíåunionÁ≠âÔºåÂÖ∂ÂÆûÂú®ËøôÈáågroup by Âíåhaving countÈÉΩÂèØ‰ª•ÂØπÂ§öÂàóËøõË°å‰∏Ä‰∏™ÊéíÂ∫èÊàñËÄÖËøáÊª§ÔºåËÄå‰∏ç‰ªÖ‰ªÖÊòØ‰∏ÄË°å]]></content>
      <categories>
        <category>Êï∞ÊçÆÂ∫ì</category>
      </categories>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âà©Áî®JqueryÂíåSpringÂºÇÊ≠•‰∏ä‰º†Êñá‰ª∂]]></title>
    <url>%2F2018%2F03%2F29%2F%E5%88%A9%E7%94%A8Jquery%E5%92%8CSpring%E5%BC%82%E6%AD%A5%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[ÂºÇÊ≠•‰∏ä‰º†Êñá‰ª∂ÔºöÁî®JqueryÁöÑÂºÇÊ≠•‰∏ä‰º†Êñá‰ª∂ÁöÑÊó∂ÂÄôÈúÄË¶ÅÂºïÂÖ•‰∏Ä‰∏™jsÊñá‰ª∂jquery.form.min.jsÔºåÁî®Ëøô‰∏™Êñá‰ª∂ÈáåÈù¢ÁöÑ$.ajaxSubmit()ÊñπÊ≥ïÊù•ÂÆûÁé∞‰∏Ä‰∏™ÂºÇÊ≠•ÁöÑÊñá‰ª∂‰∏ä‰º†ÂäüËÉΩ„ÄÇ12345678910111213141516171819$(this).ajaxSubmit(&#123; type:&apos;POST&apos;, url: &quot;/uploadfile&quot;, dataType: &apos;json&apos;, data: serializeData, contentType: false, cache: false, processData:false, beforeSubmit: function() &#123; &#125;, uploadProgress: function (event, position, total, percentComplete)&#123; &#125;, success:function()&#123; &#125;, error:function(data)&#123; alert(&apos;‰∏ä‰º†ÂõæÁâáÂá∫Èîô&apos;); &#125; &#125;); Âú®ËøôÈáåÁöÑËØù$(&quot;&quot;)ÂáΩÊï∞ÈúÄË¶ÅÊòØformÁöÑidÔºåËÄå‰∏îbeforeSubmitÂèØ‰ª•Âú®‰∏ä‰º†Êñá‰ª∂‰πãÂâçÂèØ‰ª•ÂÅö‰∏Ä‰∫õÊ£ÄÊü•Ôºå‰æãÂ¶ÇÊñá‰ª∂ÂêéÁºÄÊàñËÄÖÊñá‰ª∂Â§ßÂ∞è‰πãÁ±ªÁöÑÊ£ÄÊü•„ÄÇ Âú®ÂêéÁ´ØÁöÑËØùÊé•Âèó‰∏ä‰º†ÁöÑÊñá‰ª∂ÂÖ∂ÂÆûË∑üServletÂ∑Æ‰∏çÂ§öÔºå‰∏ªË¶ÅÊòØ‰ªérequest‰∏≠Ëé∑ÂèñËØ∑Ê±ÇÊµÅÔºåÂèÇÊï∞ÁöÑËØùÈúÄË¶ÅÊ†áËÆ∞‰∏∫Ëøô‰∏™@RequestParam(&quot;file&quot;) MultipartFile file,ÊúÄÂêéÂú®SpringMvc‰∏≠Êúâ‰∏Ä‰∏™ÊñπÊ≥ïÂèØ‰ª•Â∞Ü‰∏ä‰º†ÁöÑÊñá‰ª∂ÈÄöËøáÁßªÂä®ÊàñËÄÖÂ§çÂà∂ÁÑ∂ÂêéËΩ¨ÁßªÂà∞Êàë‰ª¨ÊåáÂÆöÁöÑÊñá‰ª∂Â§π‰∏≠Ôºö1234567891011121314151617void transferTo(java.io.File dest) throws java.io.IOException, java.lang.IllegalStateExceptionTransfer the received file to the given destination file.This may either move the file in the filesystem, copy the file in the filesystem, or save memory-held contents to the destination file. If the destination file already exists, it will be deleted first.If the target file has been moved in the filesystem, this operation cannot be invoked again afterwards. Therefore, call this method just once in order to work with any storage mechanism.NOTE: Depending on the underlying provider, temporary storage may be container-dependent, including the base directory for relative destinations specified here (e.g. with Servlet 3.0 multipart handling). For absolute destinations, the target file may get renamed/moved from its temporary location or newly copied, even if a temporary copy already exists.Parameters:dest - the destination file (typically absolute)Throws:java.io.IOException - in case of reading or writing errorsjava.lang.IllegalStateException - if the file has already been moved in the filesystem and is not available anymore for another transferSee Also:FileItem.write(File), Part.write(String) ‰πüÂ∞±ÊòØËØ¥Ëøô‰∏™ÊñπÊ≥ïtransferTo‰ºöÂ∞ÜÊé•Êî∂Âà∞ÁöÑÊñá‰ª∂ÁßªÂä®ÊàñËÄÖcopyÂà∞ÊåáÂÆöÁöÑ‰ΩçÁΩÆ„ÄÇÈÇ£‰πàÂú®Controller‰∏≠ÁöÑ‰∏ªË¶ÅÊñπÊ≥ï‰ΩìÊòØÔºö12345678910111213141516171819@RequestMapping(value = &quot;/uploadfile&quot; ,method = RequestMethod.POST) @ResponseBody public String uploadfile( @RequestParam(&quot;file&quot;) MultipartFile file) throws IOException &#123; Map&lt;String ,Object&gt; map =new HashMap&lt;&gt;(); /* ‰∏ä‰º†ÁöÑÊñá‰ª∂‰∏∫Á©∫ */ if(file == null || file.isEmpty())&#123; map.put(&quot;code&quot;,&quot;0&quot;); map.put(&quot;msg&quot;,&quot;fail&quot;); return JSON.toJSONString(map); &#125;else&#123; String rootPath = &quot;D:\\disk&quot;; File dir = new File(rootPath + File.separator + &quot;tmpFiles&quot;); File serverFile = new File(dir.getAbsolutePath() + File.separator + file.getOriginalFilename()); file.transferTo(serverFile); map.put(&quot;code&quot;,&quot;1&quot;); map.put(&quot;msg&quot;,&quot;success&quot;); return JSON.toJSONString(map); &#125; &#125; Ëøô‰∏™ÊñπÊ≥ïÁöÑËØùÂ¶ÇÊûúÊñá‰ª∂‰∏ä‰º†ÊàêÂäü‰ºöËøîÂõû‰∏Ä‰∏™jsonÊ†ºÂºèÁöÑ‰ø°ÊÅØÔºå‰ªéËÄåÊèêÁ§∫ÂâçÁ´ØÊñá‰ª∂Â∑≤Áªè‰∏ä‰º†ÊàêÂäü‰∫Ü„ÄÇ ÁîüÊàêÈ™åËØÅÁ†ÅÔºöÂú®ËøôÈáåÁöÑËØùÈ°∫Â∏¶Âú®ËØ¥‰∏ãÂÖ≥‰∫éÈ™åËØÅÁ†ÅÁöÑ‰∫ãÊÉÖÔºåÂú®SpringÈáåÈù¢‰ΩøÁî®È™åËØÅÁ†ÅÁöÑËØùÂèØ‰ª•‰ΩøÁî®googleÁöÑkaptchaËøô‰∏™jarÂåÖÔºåÂõ†‰∏∫Âú®maven‰ªìÂ∫ì‰∏≠ÁöÑËØùÊòØÊ≤°ÊúâËøô‰∏™ÁâàÊú¨ÁöÑÔºåÊâÄ‰ª•Ëøô‰∏™ÈúÄË¶ÅËá™Â∑±‰∏ãËΩΩÂà∞Êú¨Âú∞ÁÑ∂ÂêéÈÄöËøáÂëΩ‰ª§Ë°åÂØºÂÖ•ÔºåÊúÄÂêéÊâçÂèØ‰ª•Âú®pomÊñá‰ª∂‰∏≠ÂºïÁî®Ëøô‰∏™ÂåÖÔºõÂØºÂÖ•ÊñπÊ≥ïÂ¶Ç‰∏ãÔºömvn install:install-file -Dfile=jarÂåÖ‰ΩçÁΩÆ -DgroupId=com.google.code -DartifactId=kaptcha -Dversion=2.3.2 -Dpackaging=jarÔºåËøôÊ†∑Âú®pomÊñá‰ª∂‰∏≠‰æøÂèØ‰ª•ÂºïÁî®‰∫Ü„ÄÇÂ¶Ç‰∏ãÔºö12345&lt;dependency&gt; &lt;groupId&gt;com.google.code&lt;/groupId&gt; &lt;artifactId&gt;kaptcha&lt;/artifactId&gt; &lt;version&gt;2.3.2&lt;/version&gt; &lt;/dependency&gt; ÂêåÊó∂Âú®ApplicationContext.xml‰∏≠Ê∑ªÂä†‰∏Ä‰∏™bean.123456789101112131415161718192021222324252627282930313233343536&lt;bean id=&quot;captchaProducer&quot; class=&quot;com.google.code.kaptcha.impl.DefaultKaptcha&quot;&gt; &lt;property name=&quot;config&quot;&gt; &lt;bean class=&quot;com.google.code.kaptcha.util.Config&quot;&gt; &lt;constructor-arg&gt; &lt;props&gt; &lt;!-- ÂõæÁâáËæπÊ°Ü --&gt; &lt;prop key=&quot;kaptcha.border&quot;&gt;no&lt;/prop&gt; &lt;!-- ÂõæÁâáÂÆΩÂ∫¶ --&gt; &lt;prop key=&quot;kaptcha.image.width&quot;&gt;95&lt;/prop&gt; &lt;!-- ÂõæÁâáÈ´òÂ∫¶ --&gt; &lt;prop key=&quot;kaptcha.image.height&quot;&gt;45&lt;/prop&gt; &lt;!-- È™åËØÅÁ†ÅËÉåÊôØÈ¢úËâ≤Ê∏êÂèòÔºåÂºÄÂßãÈ¢úËâ≤ --&gt; &lt;prop key=&quot;kaptcha.background.clear.from&quot;&gt;248,248,248&lt;/prop&gt; &lt;!-- È™åËØÅÁ†ÅËÉåÊôØÈ¢úËâ≤Ê∏êÂèòÔºåÁªìÊùüÈ¢úËâ≤ --&gt; &lt;prop key=&quot;kaptcha.background.clear.to&quot;&gt;248,248,248&lt;/prop&gt; &lt;!-- È™åËØÅÁ†ÅÁöÑÂ≠óÁ¨¶ --&gt; &lt;prop key=&quot;kaptcha.textproducer.char.string&quot;&gt;0123456789abcdefghijklmnopqrstuvwxyzËøôÊòØ‰∏Ä‰∏™ÊµãËØïÈ™åËØÅÁ†ÅÁöÑ‰æãÂ≠ê&lt;/prop&gt; &lt;!-- È™åËØÅÁ†ÅÂ≠ó‰ΩìÈ¢úËâ≤ --&gt; &lt;prop key=&quot;kaptcha.textproducer.font.color&quot;&gt;0,0,255&lt;/prop&gt; &lt;!-- È™åËØÅÁ†ÅÁöÑÊïàÊûúÔºåÊ∞¥Á∫π --&gt; &lt;prop key=&quot;kaptcha.obscurificator.impl&quot;&gt;com.google.code.kaptcha.impl.WaterRipple&lt;/prop&gt; &lt;!-- È™åËØÅÁ†ÅÂ≠ó‰ΩìÂ§ßÂ∞è --&gt; &lt;prop key=&quot;kaptcha.textproducer.font.size&quot;&gt;35&lt;/prop&gt; &lt;!-- È™åËØÅÁ†ÅÂ≠óÊï∞ --&gt; &lt;prop key=&quot;kaptcha.textproducer.char.length&quot;&gt;4&lt;/prop&gt; &lt;!-- È™åËØÅÁ†ÅÊñáÂ≠óÈó¥Ë∑ù --&gt; &lt;prop key=&quot;kaptcha.textproducer.char.space&quot;&gt;2&lt;/prop&gt; &lt;!-- È™åËØÅÁ†ÅÂ≠ó‰Ωì --&gt; &lt;prop key=&quot;kaptcha.textproducer.font.names&quot;&gt;new Font(&quot;Arial&quot;, 1, fontSize), new Font(&quot;Courier&quot;, 1, fontSize)&lt;/prop&gt; &lt;!-- ‰∏çÂä†Âô™Â£∞ --&gt; &lt;prop key=&quot;kaptcha.noise.impl&quot;&gt;com.google.code.kaptcha.impl.NoNoise&lt;/prop&gt; &lt;/props&gt; &lt;/constructor-arg&gt; &lt;/bean&gt; &lt;/property&gt; &lt;/bean&gt; ÊúÄÂêéÂú®ControllerÊ∑ªÂä†Â¶Ç‰∏ãÊñπÊ≥ïÔºö1234567891011121314151617181920212223242526@RequestMapping(value = &quot;verificationcode&quot;, method = RequestMethod.GET) public ModelAndView Verificationcode(ModelAndView modelAndView, HttpServletRequest request, HttpServletResponse response, @RequestParam(value = &quot;timestamp&quot;, required = false) String timestamp) throws IOException &#123; /* Ê∑ªÂä†Êó∂Èó¥Êà≥Ôºå‰ª•ËÆæÁΩÆÈ™åËØÅÁ†ÅÁöÑËøáÊúüÊó∂Èó¥*/ if (timestamp == null || timestamp.length() == 0) &#123; modelAndView.addObject(&quot;timestamp&quot;, System.currentTimeMillis()); &#125; else &#123; modelAndView.addObject(&quot;timestamp&quot;, timestamp); &#125; response.setDateHeader(&quot;Expires&quot;, 0); response.setHeader(&quot;Cache-Control&quot;, &quot;no-store, no-cache, must-revalidate&quot;); response.addHeader(&quot;Cache-Control&quot;, &quot;post-check=0, pre-check=0&quot;); response.setHeader(&quot;Pragma&quot;, &quot;no-cache&quot;); response.setContentType(&quot;image/jpeg&quot;); String capText = captchaProducer.createText(); request.getSession().setAttribute(Constants.KAPTCHA_SESSION_KEY, capText); BufferedImage bi = captchaProducer.createImage(capText); ServletOutputStream out = response.getOutputStream(); ImageIO.write(bi, &quot;jpg&quot;, out); try &#123; out.flush(); &#125; finally &#123; out.close(); &#125; return null; &#125; ÊúÄÂêéÂú®ÂâçÁ´ØÈ°µÈù¢ÂºïÁî®1&lt;img src=&quot;verificationcode&quot;&gt; //Âú®ËøôÈáåÈöèÊÑèËÆæÁΩÆÂÆΩÂ∫¶ÂíåÈ´òÂ∫¶Âç≥ÂèØ„ÄÇ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>spring</tag>
        <tag>jquery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[È°µÈù¢Â∏ÉÂ±Ä‰ª•ÂèäJSËß£ÊûêjsonÁöÑÊÄªÁªì]]></title>
    <url>%2F2018%2F03%2F28%2F%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80%E4%BB%A5%E5%8F%8Ajquery%E8%A7%A3%E6%9E%90json%E7%9A%84%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[ÂÖ≥‰∫éÈ°µÈù¢ÁöÑÊ∞¥Âπ≥ÂûÇÁõ¥Â±Ö‰∏≠ÔºöÈ°µÈù¢ÁöÑÊ∞¥Âπ≥ÂûÇÁõ¥Â±Ö‰∏≠Â∏ÉÂ±ÄÁöÑËØùÁõÆÂâçÂ∞±ÊàëËøôÈáå‰∫ÜËß£ÁöÑËØùÊòØÂèà‰∏§ÁßçÊñπÊ≥ïÔºå‰∏ÄÁßçÊòØÁõíÂ≠êÂ∏ÉÂ±ÄÔºå‰∏ÄÁßçÊòØÊµÅÂºèÂ∏ÉÂ±ÄÔºöÁõíÂ≠êÂ∏ÉÂ±Ä ÂÖ≥‰∫éJqueryËß£ÊûêJSONÊ†ºÂºèÁöÑÈóÆÈ¢òJSON.parse()ÊñπÊ≥ïÂú®‰ΩøÁî®Ëøô‰∏™ÊñπÊ≥ïËß£ÊûêJsonÊ†ºÂºèÁöÑÊó∂ÂÄô‰∏ÄÁõ¥‰ºöÊä•ÈîôÔºå‰ΩÜÊòØ‰º†ÂÖ•ÁöÑÂÄºÂç¥ÂèàÊòéÊòéÊòØJSONÊ†ºÂºèÁöÑÔºåÊâÄ‰ª•‰∏ÄÁõ¥Âú®ÊéíÊü•Ôºö1234a=&apos;&#123;&quot;first&quot;:&quot;111&quot;&#125;&apos;;b=&quot;&#123;&apos;first&apos;:&apos;111&apos;&#125;&quot;;console.log(JSON.parse(a));console.log(JSON.parse(b)) //Âú®ËøôÈáå‰ºöÊä•ÈîôÔºåÊèêÁ§∫Unexpected token &apos; in JSON at position 1 ËøôÂ∞±ÂºïÂá∫‰∫ÜÂú®JS‰∏≠‰ΩøÁî®JSONËß£ÊûêJsonÂ≠óÁ¨¶‰∏≤ÁöÑÈóÆÈ¢ò‰∫ÜÔºå‰∏ãÂõæÊòØËß£ÊûêÂ≠óÁ¨¶‰∏≤ÁöÑÈ°∫Â∫è‰∫ÜÔºåÂú®‰∏ãÂõæÂèØ‰ª•ÁúãÂà∞Ëß£ÊûêÊòØ‰ª•&quot;‰∏∫Ëµ∑ÁÇπÔºåÁÑ∂ÂêéÊòØ/ÔºåËã•Âú®ÂºÄÂßãÁöÑ‰ΩçÁΩÆÊ≤°ÊúâÂèëÁé∞Ëøô‰∏§‰∏™Ëµ∑ÂßãÁ¨¶Âè∑ÁöÑËØùÈÇ£‰πàjs‰ºöË∑≥ËøáËøôÊ¨°Ëß£ÊûêÁõ¥Êé•Âà∞ËææÊú´Â∞æÔºåÁÑ∂ÂêéÊä•ÈîôÔºåËøô‰πüÂ∞±Ëß£Èáä‰∫Ü‰∏∫‰ªÄ‰πàÂú®Ëß£ÊûêbÁöÑÊó∂ÂÄô‰ºöÁõ¥Êé•ÊäõÂá∫ÂºÇÂ∏∏Unexpected token &#39; JSON.parse()ÊñπÊ≥ïËøô‰∏™ÊñπÂºèÊòØÂ∞Ü‰∏Ä‰∏™JsÁöÑObjectËß£ÊûêÊàê‰∏Ä‰∏™JsonÊ†ºÂºèÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂ¶Ç‰∏ã:1234567var obj=&#123; &apos;a&apos;:123, &quot;b&quot;:&quot;qq&quot;&#125;console.log(JSON.stringify(obj))ËæìÂá∫&#123;&quot;a&quot;:123,&quot;b&quot;:&quot;qq&quot;&#125; Âú®ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂú®Ëøô‰∏™ÂØπË±°‰∏≠ÁöÑËØùÔºåÂçïÂºïÂè∑‰ºöË¢´ËΩ¨ÊàêÂèåÂºïÂè∑„ÄÇ JSONÊ†ºÂºèÔºöJSONÊ†ºÂºèÁöÑËßÑËåÉÂ¶Ç‰∏ãÔºåËÄå‰ΩøÁî®JSON.parse()Êù•Ëß£ÊûêÂçïÂºïÂè∑ÁöÑÂÜÖÂÆπÁöÑËØùÊòØ‰∏çÁ¨¶ÂêàËßÑËåÉÁöÑ„ÄÇ JSON ÂêçÁß∞/ÂÄºÂØπJSON Êï∞ÊçÆÁöÑ‰π¶ÂÜôÊ†ºÂºèÊòØÔºöÂêçÁß∞/ÂÄºÂØπ„ÄÇ ÂêçÁß∞/ÂÄºÂØπÂåÖÊã¨Â≠óÊÆµÂêçÁß∞ÔºàÂú®ÂèåÂºïÂè∑‰∏≠ÔºâÔºåÂêéÈù¢ÂÜô‰∏Ä‰∏™ÂÜíÂè∑ÔºåÁÑ∂ÂêéÊòØÂÄºÔºö]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>webÂâçÁ´Ø</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mysqlÂíåÊó∂Èó¥Áõ∏ÂÖ≥ÁöÑÊü•ËØ¢(‰∫å)]]></title>
    <url>%2F2018%2F03%2F28%2Fmysql%E5%92%8C%E6%97%B6%E9%97%B4%E7%9B%B8%E5%85%B3%E7%9A%84%E6%9F%A5%E8%AF%A2-%E4%BA%8C%2F</url>
    <content type="text"><![CDATA[DATE_ADD():Ëøô‰∏™ÂáΩÊï∞ÂèØ‰ª•Â∞ÜÊó•ÊúüÂæÄÂâçÂä†‰∏äËßÑÂÆöÁöÑÂπ¥ÔºåÊúàÊàñËÄÖÊó•Ôºå‰ªéËÄåÊñπ‰æøÁªüËÆ°Ôºå‰æãÂ¶ÇÈúÄË¶ÅÁªüËÆ°Êú¨ÊúàÁöÑÊüê‰∫õÊï∞ÊçÆÁöÑËØùÔºå‰∏ÄËà¨Êù•ËÆ≤ËÇØÂÆöÊòØÂè™ÈúÄË¶ÅÂ§ß‰∫éÊú¨ÊúàÊúàÂàùÂç≥ÂèØÔºå‰ΩÜÊòØ‰∏∫‰∫ÜËÄÉËôëÁ®ãÂ∫èÁöÑÂÅ•Â£ÆÊÄßÁöÑËØùËÇØÂÆöÊòØÈúÄË¶ÅÂÜçÂä†‰∏Ä‰∏™ÈôêÂà∂Êù°‰ª∂ÔºåÊØîÂ¶ÇËØ¥Â∞è‰∫é‰∏ã‰∏™Êúà1Âè∑„ÄÇÈÇ£‰πàÂ∞±ÈúÄË¶Å‰∏Ä‰∏™‰∏Ä‰∏™DATE_ADD()ÂáΩÊï∞Ôºö123456SELECT *FROM tableWHERE time_columns &gt; CONCAT(LEFT(NOW() - INTERVAL 0 MONTH, 7), &apos;-01&apos;) AND time_columns &lt; DATE_ADD(CURDATE()-DAY(CURDATE())+1,INTERVAL 1 MONTH); ËøôÊù°sql‰æøÊòØÊ±ÇÁöÑÊú¨ÊúàÁöÑÊï∞ÊçÆ„ÄÇÂêåÊó∂Âú®ËøôÈáå‰πüÂØπÂΩìÂâçÊó∂Èó¥ÁöÑÂáΩÊï∞ËøõË°å‰∏Ä‰∏™ÂØπÊØîÔºö1234567891011121314151617181920212223mysql&gt; SELECT CURDATE();+------------+| CURDATE() |+------------+| 2018-03-28 |+------------+1 row in set (0.00 sec)mysql&gt; select now();+---------------------+| now() |+---------------------+| 2018-03-28 15:07:15 |+---------------------+1 row in set (0.00 sec)mysql&gt; select CURTIME();+-----------+| CURTIME() |+-----------+| 15:07:39 |+-----------+1 row in set (0.00 sec) È°∫‰æøÂú®ËøôÈáåÂÜçËÆ∞ÂΩï‰∏ãmybatis‰∏≠ÁöÑÂà´ÂêçÁöÑ‰ΩúÁî®ÔºåÂú®resultType‰∏≠ËøîÂõûÁöÑÈÄöÂ∏∏ÊòØÂÖ®Ë∑ØÂæÑÂåÖÂêçÔºå‰ΩÜÊòØÂÖ∂ÂÆûÈÖçÁΩÆÂ•ΩÂà´ÂêçÁöÑËØùÂÖ∂ÂÆûÊòØÂèØ‰ª•Áõ¥Êé•ËøîÂõûÂà´Âêç&gt; Ê∑±ÂÖ•ÊµÖÂá∫mybatisÊäÄÊúØÂéüÁêÜ‰∏éÂÆûÁé∞P17‰ª•ÂèäÂêéÈù¢ÁöÑmapperÊñá‰ª∂ÁöÑresultType Âè¶Â§ñÂ∞±ÊòØmybaytisÁöÑ$Âíå#ÁöÑÂå∫Âà´ÔºåÂÖ∂ÂÆû$Ëøô‰∏™Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊòØÂæàÁªèÂ∏∏‰ΩøÁî®ÁöÑÔºå‰æãÂ¶Ç:1234567&lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; init-method=&quot;init&quot; destroy-method=&quot;close&quot;&gt; &lt;!-- Âü∫Êú¨Â±ûÊÄß url„ÄÅuser„ÄÅpassword --&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt; &lt;property name=&quot;url&quot; value=&quot;$&#123;url&#125;&quot; /&gt; &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt; &lt;property name=&quot;password&quot; value=&quot;$&#123;password&#125;&quot; /&gt;&lt;/bean&gt; Âú®ËøôÈáåÂ∞±ÊòØÁî®ÁöÑ$,ËÄå‰∏îÂú®mybatisÁöÑÂÆòÊñπÊñáÊ°£ÈáåÈù¢‰πüÊèêÂà∞Ëøá‰∫ÜÂÖ≥‰∫é#Âíå$ÁöÑÂå∫Âà´‚Äù String Substitution By default, using the #{} syntax will cause MyBatis to generate PreparedStatement properties and set the values safely against the PreparedStatement parameters (e.g. ?). While this is safer, faster and almost always preferred, sometimes you just want to directly inject an unmodified string into the SQL Statement. For example, for ORDER BY, you might use something like this: ORDER BY ${columnName} Here MyBatis won‚Äôt modify or escape the string. NOTE It‚Äôs not safe to accept input from a user and supply it to a statement unmodified in this way. This leads to potential SQL Injection attacks and therefore you should either disallow user input in these fields, or always perform your own escapes and checks. ‰πüÂ∞±ÊòØËØ¥Âú®ËøôÈáåÁöÑËØù$ÊòØ‰∏Ä‰∏™ÈùôÊÄÅÂç†‰ΩçÁ¨¶,‰ΩÜÊòØÂú®mybatisÁöÑÊ∫êÊñá‰ª∂‰∏≠‰∏ÄÁõ¥Ê≤°ÊâæÂà∞ÂÖ≥‰∫éËß£Êûê$ÁöÑÁ±ªÂíåÊñπÊ≥ïÔºåÂè™ÊâæÂà∞‰∫ÜÂÖ≥‰∫éËß£Êûê#ÁöÑÊñπÊ≥ïÔºö123456public SqlSource parse(String originalSql, Class&lt;?&gt; parameterType, Map&lt;String, Object&gt; additionalParameters) &#123; SqlSourceBuilder.ParameterMappingTokenHandler handler = new SqlSourceBuilder.ParameterMappingTokenHandler(this.configuration, parameterType, additionalParameters); GenericTokenParser parser = new GenericTokenParser(&quot;#&#123;&quot;, &quot;&#125;&quot;, handler); String sql = parser.parse(originalSql); return new StaticSqlSource(this.configuration, sql, handler.getParameterMappings()); &#125; ÂÖ≥‰∫éËøô‰∏™${}ÁöÑËØùÂú®mybatisÈáåÈù¢ÊòØ‰ºöÁõ¥Êé•Â∞ÜÊàë‰ª¨ÊâÄÂÜôÁöÑsqlÊîæÂÖ•Âà∞È¢ÑÂÆöÁöÑsqlËØ≠Âè•‰∏≠ÔºåËÄå‰∏çÊòØÂÉè#{}ÈÇ£Ê†∑‰ºöËøõË°å‰∏Ä‰∏™ÊõøÊç¢ÔºåÊâÄ‰ª•‰ºöÈÄ†Êàê‰∏Ä‰∏™ÂÆâÂÖ®ÈóÆÈ¢ò]]></content>
      <categories>
        <category>Êï∞ÊçÆÂ∫ì</category>
      </categories>
      <tags>
        <tag>mysqlÊó∂Èó¥Áõ∏ÂÖ≥</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[springËøûÊé•redisÁöÑ‰∏Ä‰∫õÂÅöÊ≥ï‰ª•ÂèämybatisÁöÑ‰∏Ä‰∫õÊÑüÊÉ≥]]></title>
    <url>%2F2018%2F03%2F27%2Fspring%E8%BF%9E%E6%8E%A5redis%E7%9A%84%E4%B8%80%E4%BA%9B%E5%81%9A%E6%B3%95%E4%BB%A5%E5%8F%8Amybatis%E7%9A%84%E4%B8%80%E4%BA%9B%E6%84%9F%E6%83%B3%2F</url>
    <content type="text"><![CDATA[RedisÂêØÂä®È¶ñÂÖàÂºÄÂêØredisÊúçÂä°ÔºåwindowsÁöÑredis‰∏ãËΩΩÂú®github windowsÁöÑredis‰∏ãËΩΩÂú∞ÂùÄ,ÁÑ∂ÂêéËß£ÂéãÂá∫Êù•ÊúÄÂêéÂºÄÂêØÈÇ£‰∏™redis-server„ÄÇÂêØÂä®‰πãÂêéÊòæÁ§∫Â¶Ç‰∏ãÂõæÔºö springÈÖçÁΩÆÔºöÈÖçÁΩÆÂú®Spring‰∏≠‰πüÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆÊñá‰ª∂redis.propertiesÈÖçÁΩÆÔºå‰ΩÜÊòØÁî±‰∫éÂú®Ëøô‰∏™È°πÁõÆ‰∏≠ÁöÑÈÖçÁΩÆÊñá‰ª∂Â∑≤ÁªèÂ§™Â§ö‰∫ÜÔºåÊâÄ‰ª•ÈÄâÊã©‰ΩøÁî®Á±ªÁöÑÊñπÂºèËøõË°åÈÖçÁΩÆ:123456789101112131415161718192021@Configurationpublic class RedisConfig &#123; @Bean JedisConnectionFactory jedisConnectionFactory() &#123; JedisConnectionFactory connectionFactory = new JedisConnectionFactory(); connectionFactory.setHostName(&quot;127.0.0.1&quot;); connectionFactory.setPort(6379); return new JedisConnectionFactory(); &#125; @Bean @Autowired public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory factory) &#123; RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;String, Object&gt;(); template.setConnectionFactory(factory); template.setKeySerializer(new StringRedisSerializer()); return template; &#125;&#125; ÊúÄÂêéÂú®‰ΩøÁî®ÁöÑÊó∂ÂÄôËá™Âä®Ë£ÖÈÖçÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ12@Autowired private RedisTemplate redisTemplate; ÂçïÂÖÉÊµãËØïÁºñÂÜôÂçïÂÖÉÊµãËØïÔºö1234567891011121314@ContextConfiguration(&quot;classpath:ApplicationContext.xml&quot;)@RunWith(SpringJUnit4ClassRunner.class)public class TestRedis extends AbstractJUnit4SpringContextTests &#123; @Autowired private RedisTemplate redisTemplate; @Test public void redisTest() throws UnsupportedEncodingException &#123; redisTemplate.opsForValue().set(&quot;zhangsan&quot;, &quot;book1&quot;); if (redisTemplate.hasKey(&quot;abc&quot;))&#123; System.out.println(&quot;abcÂ∑≤ÁªèÂ≠òÂÖ•redis&quot;); &#125; &#125;&#125; ÁÑ∂Âêé‰ºöÂèëÁé∞Êï∞ÊçÆÂ∑≤ÁªèÊ∑ªÂä†Âà∞‰∫ÜËøô‰∏™redisÊúçÂä°Âô®‰∏≠‰∫Ü„ÄÇ MybatisÁöÑ‰∏Ä‰∫õÁü•ËØÜÁÇπÔºöSqlSesssionFactoryBuilder:ËøôÊòØ‰∏Ä‰∏™Â∑•ÂéÇÔºå‰∏ªË¶ÅÁöÑ‰ΩúÁî®ÊòØÂàõÂª∫‰∏Ä‰∫õSqlSessioFactoryÔºåÂØπ‰∫éSqlSessionFactoryÊù•ËØ¥ÔºåÂÆÉÁöÑËÅåË¥£Â∞±ÊòØÂàõÂª∫ÊØè‰∏Ä‰∏™SqlSessionÔºåÁÑ∂ÂêéËøô‰∏™SqlSessionÁöÑ‰ΩúÁî®ÂàôÊòØËøûÊé•Êï∞ÊçÆÂ∫ìÔºåÁ±ª‰ºº‰∫é‰º†ÁªüÁöÑJDBCÁöÑConnectionÔºå SqlSesssionFactoryBuilderËøô‰∏™Á±ª‰∏ªË¶ÅÊòØÂàõÂª∫SqlSessioFactory,Âú®Ëøô‰∏™Á±ªÈáåÈù¢ÂèØ‰ª•ÁúãÂà∞ËÆ∏Â§öÊñπÊ≥ïËøîÂõûÁöÑÊòØ‰∏Ä‰∏™SqlSessionFactoryÔºåÂÖ∂‰∏≠Êúâ‰∏Ä‰∏™ÊñπÊ≥ïÊòØËß£ÊûêÈÖçÁΩÆÊñá‰ª∂ÁöÑÊñπÊ≥ïÔºö123456789101112131415161718192021public SqlSessionFactory build(Reader reader, String environment, Properties properties) &#123; SqlSessionFactory var5; try &#123; XMLConfigBuilder parser = new XMLConfigBuilder(reader, environment, properties); var5 = this.build(parser.parse()); &#125; catch (Exception var14) &#123; throw ExceptionFactory.wrapException(&quot;Error building SqlSession.&quot;, var14); &#125; finally &#123; ErrorContext.instance().reset(); try &#123; reader.close(); &#125; catch (IOException var13) &#123; ; &#125; &#125; return var5; &#125; ËøôÈáåÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÊµÅÔºåËøô‰∏™ÊµÅÊòØÂ∞Ü‰∏Ä‰∏™propertiesÊàñËÄÖxmlÊñá‰ª∂ËØªÂèñ‰πãÂêé‰æõmybatis‰ΩøÁî®ÁöÑ„ÄÇËÄåÂØπ‰∫éSqlSessionFactoryÊù•ËÆ≤ÔºåËøôÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåÂÖ∂‰∏ªË¶ÅÁöÑÊé•Âè£ÊñπÊ≥ïÂ¶Ç‰∏ãÔºö12345678910111213141516171819public interface SqlSessionFactory &#123; SqlSession openSession(); SqlSession openSession(boolean var1); SqlSession openSession(Connection var1); SqlSession openSession(TransactionIsolationLevel var1); SqlSession openSession(ExecutorType var1); SqlSession openSession(ExecutorType var1, boolean var2); SqlSession openSession(ExecutorType var1, TransactionIsolationLevel var2); SqlSession openSession(ExecutorType var1, Connection var2); Configuration getConfiguration();&#125; ‰πüÂ∞±ÊòØËØ¥Ëøô‰∏™Factory‰∏ªË¶ÅË¥üË¥£ÁöÑÊòØSessionÁöÑÂºÄÂêØÊù•Êü•ËØ¢Êï∞ÊçÆÂ∫ì Ê≥®ÊÑèÁöÑÂùëÔºöÂú®mybatyisÈáåÈù¢ÁöÑËØùËã•‰ΩøÁî®ÂØπË±°‰º†ÂèÇÁöÑËØùÈúÄË¶ÅÊ≥®ÊÑè#{XXX}=YYYÔºåËøôÈáåÁöÑYYYÁöÑËØùÊòØÈúÄË¶ÅÂíåPOJOÁõ∏ÂØπÂ∫îÁöÑÔºåÂê¶Âàô‰ºöÊèêÁ§∫there is no getter for property named]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>mybatis</tag>
        <tag>spring</tag>
        <tag>redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éUnicodeÂíåÂÖ∂‰ªñÁöÑÂ≠óÁ¨¶ÈõÜ‰ª•ÂèäSpring‰π±Á†ÅÂ§ÑÁêÜ]]></title>
    <url>%2F2018%2F03%2F26%2F%E5%85%B3%E4%BA%8EUnicode%E5%92%8C%E5%85%B6%E4%BB%96%E7%9A%84%E5%AD%97%E7%AC%A6%E9%9B%86%E4%BB%A5%E5%8F%8ASpring%E4%B9%B1%E7%A0%81%E5%A4%84%E7%90%86%2F</url>
    <content type="text"><![CDATA[SpringÂá∫Áé∞‰π±Á†ÅÁöÑËß£ÂÜ≥ÂäûÊ≥ïÔºöËã•ÈúÄË¶ÅÂø´ÈÄüÁöÑËß£ÂÜ≥‰π±Á†ÅÈóÆÈ¢òÂèØ‰ª•Áõ¥Êé•ÁúãÈÖçÁΩÆÊñá‰ª∂: ÂêéÂè∞ÈÄªËæëÔºöÂú®È°πÁõÆ‰∏≠ÁöÑweb.xml‰∏≠Ê∑ªÂä†SpringÁöÑÂ≠óÁ¨¶ËøáÊª§Âô®ÔºåÈÖçÁΩÆÂ¶Ç‰∏ãÔºö1234567891011121314151617&lt;filter&gt; &lt;filter-name&gt;SpringEncodingFilter&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter &lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;UTF-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;forceEncoding&lt;/param-name&gt; &lt;param-value&gt;true&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;SpringEncodingFilter&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; ÂêåÊó∂‰πüÂèØ‰ª•Âú®spring-mvc.xml‰∏≠ÈÖçÁΩÆÂêÑ‰∏™ËØ∑Ê±ÇÂ§¥ËøáÊù•ÁöÑÂ§ÑÁêÜÊñπÂºèÔºö ÂâçÁ´ØÂ§ÑÁêÜÔºö Âú®ÊôÆÈÄöÁöÑhtmlÈ°µÈù¢‰∏≠ÂèØ‰ª•Âä†ÂÖ•&lt;meta charset=&quot;UTF-8&gt;&quot; Âú®Jsp‰∏≠ÈúÄË¶ÅÂä†ÂÖ•&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt; Âè¶Â§ñÂØπ‰∫éajaxÁöÑÂºÇÊ≠•ËØ∑Ê±ÇÁöÑËØùËã•Âú®url‰∏≠ÂåÖÂê´Ê±âÂ≠óÊúÄÂ•ΩÈááÁî®encodeURI()ËøõË°å‰∏Ä‰∏™Â≠óÁ¨¶ÈõÜÂ§ÑÁêÜ 123456789101112131415&lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;&gt; &lt;property name=&quot;messageConverters&quot;&gt; &lt;list&gt; &lt;bean class=&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;&gt; &lt;property name=&quot;supportedMediaTypes&quot;&gt; &lt;list&gt; &lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt; &lt;value&gt;text/html;charset=UTF-8&lt;/value&gt; &lt;value&gt;applicaiton/javascript;charset=UTF-8&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; Âè¶Â§ñÂú®Âá∫Áé∞‰π±Á†Å‰πãÂêéËøòÂèØ‰ª•ËÆæÁΩÆrequest.setCharset()ÊàñËÄÖresponse.setCharset()ÁöÑÊñπÂºèÊù•Ëß£ÂÜ≥ ÁºñÁ†ÅÁöÑÂéÜÂè≤UnicodeÁºñÁ†ÅÁöÑÂá∫Áé∞Áî±‰∫éÂú®ËÆ°ÁÆóÊú∫‰∏≠Âè™ËÉΩÂ≠òÂÇ®ÁöÑÊòØ1Âíå0ÔºåÈÇ£‰πàÂú®Êó©ÊúüÁæéÂõΩÈÇ£ËæπÊ≠£Â•Ω‰ª•2ÁöÑ8Ê¨°ÊñπÔºå‰πüÂ∞±ÊòØ‰∏Ä‰∏™Â≠óËäÇÊù•Ë°®Á§∫ÊâÄÊúâÁöÑËã±ÊñáÂ≠óÊØçÂíå‰∏Ä‰∫õÁ¨¶Âè∑ÔºåÊâÄË∞ìÁöÑASCIIÁ†ÅÔºå‰ΩÜÊòØÂΩìË∂äÊù•Ë∂äÂ§öÁöÑ‰∫∫ËøõÂÖ•Âà∞‰∫íËÅîÁΩë‰πãÂêéÂç¥ÂèëÁé∞ÊúÄÂàùÁöÑACSCIIÁ†ÅÂ∑≤Áªè‰∏çÂ§ü‰ΩøÁî®‰∫Ü„ÄÇÂõ†‰∏∫‰ªÖ‰∏≠ÂõΩÁöÑÊ±âÂ≠óÂ∞±Â§öËææÂá†‰∏áÁßçÔºåÈÇ£‰πàÂèØÊÉ≥ËÄåÁü•‰∏ñÁïå‰∏äÂÖ∂‰ªñÁöÑÂõΩÂÆ∂ÂíåÊ±âÂ≠ó„ÄÇ‰∫éÊòØ‰∏∫‰∫ÜÁªü‰∏ÄÁºñÁ†ÅÁöÑÊÑøÊúõÂ∞±Âá∫Áé∞‰∫ÜÔºåUnicodeÁöÑÁõÆÁöÑÁöÜÂú®‰∏∫‰∫ÜÂ∞Ü‰∏ñÁïå‰∏äÁöÑÊâÄÊúâÂ≠óÁ¨¶ÂÖ®ÈÉ®ÁªüËÆ°ËøõÊù•„ÄÇÂú®Unicode‰∏≠ÔºåÈÄöÂ∏∏ÊòØÁî®2‰∏™Â≠óËäÇÔºå‰πüÂ∞±ÊòØ16‰∏∫Êù•Ë°®Á§∫‰∏Ä‰∏™Â≠óÁ¨¶„ÄÇ‰ΩÜÊòØÂú®Unicode‰∏≠ÂèàÂàÜ‰∫Ü17‰∏™‰ΩçÈù¢ÔºåÊØè‰∏Ä‰∏™‰ΩçÈù¢ÈÉΩÂèØ‰ª•‰ª£Ë°®ÁöÑ‰∏çÈÄöËøáÁöÑÂ≠óÁ¨¶„ÄÇ UTF-8UTF-8ÂíåunicodeÁöÑÂå∫Âà´Âú®‰∫éUTF-8ÊòØunicodeÁöÑ‰∏ÄÁßçÂÆûÁé∞ÊñπÂºè„ÄÇÂú®UTF-8ÁöÑÁºñÁ†Å‰πã‰∏≠ÔºåÂèØ‰ª•Âê´Êúâ‰∏â‰∏™Â≠óËäÇÊàñËÄÖÊõ¥Â§öÁöÑ‰∏Ä‰∏™Â≠óËäÇ„ÄÇËØªÂèñËßÑÂàôÔºö ÊúÄÈ´ò‰∏∫‰∏∫0 ÔºåÁ±ª‰ºº‰∫é00000100,Âàô‰ª•ASCIIÁ†ÅÁöÑÊñπÂºèËØªÂèñËØ•Â≠óÁ¨¶„ÄÇ Ëã•ËØªÂèñÁöÑÂ≠óËäÇÊúÄÈ´ò‰∏∫ÊòØ‰ª•1ÂºÄÂ§¥ÁöÑÔºåÊ£ÄÊµãÂê´ÊúâÂá†‰∏™1ÔºåÂê´ÊúâÂá†‰∏™1Â∞±‰ª£Ë°®ÁöÑÊòØËØªÂèñÂêéÈù¢ÁöÑÂá†‰∏™Â≠óËäÇÔºå‰æãÂ¶ÇÔºö11100000 1000000 10000000Ë°®Á§∫ËØ•Â≠óÁ¨¶ÊòØÁî±‰∏â‰∏™Â≠óËäÇÁªÑÊàêÁöÑ„ÄÇ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âú®springmvc‰∏≠‰ΩøÁî®shiroÊ≥®Ëß£]]></title>
    <url>%2F2018%2F03%2F26%2F%E5%9C%A8springmvc%E4%B8%AD%E4%BD%BF%E7%94%A8shiro%E6%B3%A8%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[ÂâçË®ÄÔºöÂú®‰πãÂâçÂÜô‰∫Ü‰∏ÄÁØáspringÂíåshiroÁöÑ‰∏Ä‰∏™Êï¥ÂêàÔºå‰ΩÜÊòØÂú®ÈÇ£‰∏™È°πÁõÆ‰∏≠Âπ∂Ê≤°Êúâ‰ΩøÁî®Ê≥®Ëß£ÔºåËÄå‰∏îÊ≤°ÊúâÂä†ÂÖ•ÊùÉÈôêÔºåÂè™ÊòØÂä†ÂÖ•‰∫ÜËßíËâ≤ÔºåÊâÄ‰ª•Âú®ËøôÁØáÊó•Âøó‰∏≠Â∞ÜËøô‰∏™È°πÁõÆÊ∑ªÂä†Ê≥®Ëß£Âπ∂‰∏îÂä†ÂÖ•ÊùÉÈôê„ÄÇ ÂºÄÂêØShiroÁöÑÊ≥®Ëß£ÔºöÂàöÂºÄÂßãÂºÄÂêØËøô‰∏™Ê≥®Ëß£ÁöÑÊó∂ÂÄôÔºåÊ∑ªÂä†‰∫Ü‰ΩÜÊòØ‰∏ÄÁõ¥Êó†Êïà„ÄÇ123456789101112131415161718192021222324protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) &#123; String username = (String) principalCollection.getPrimaryPrincipal(); List&lt;Resources&gt; resources =loginservice.getRoleById(username); List&lt;String&gt; roles =new ArrayList&lt;String&gt;(); for (Resources r: resources)&#123; roles.add(r.getRole()); &#125; SimpleAuthorizationInfo info = new SimpleAuthorizationInfo(); info.addRoles(roles); if( !username.equals(&quot;MANAGER&quot;) )&#123; return info ; &#125;else &#123; List&lt;String&gt; pre = new ArrayList&lt;String&gt;(); pre.add(&quot;user:insert&quot;); info.addStringPermissions(pre); return info; &#125; @RequestMapping(&quot;/toinsert&quot;) @RequiresPermissions(&quot;user:insert&quot;) public String toinsert()&#123; return &quot;getuser/userINsert&quot;; &#125; Âú®ËøôÈáåÊú¨Êù•ÊÉ≥ËÆæËÆ°ÁöÑÊòØËÆøÈóÆtoinsertËøô‰∏™URLÁöÑÊó∂ÂÄôÊ£ÄÊü•ÊùÉÈôêÔºåËã•Ê≤°ÊúâÊùÉÈôêÂàô‰ºöÁ¶ÅÊ≠¢ËÆøÈóÆÔºåÂèØ‰ª•ÁúãÂà∞Âú®doGetAuthorizationInfo()ÊñπÊ≥ï‰∏≠Â∑≤ÁªèÂ∞ÜÊùÉÈôêÊ∑ªÂä†Âà∞Èô§‰∫ÜMANAGER‰ª•Â§ñÁöÑ‰ªªÊÑèËßíËâ≤„ÄÇ‰ΩÜÊòØÂú®ÊµãËØïÁöÑÊó∂ÂÄôÂç¥‰∏ÄÁõ¥‰∏çËÉΩËøõË°åËøô‰∏™ÊùÉÈôêÊ£ÄÊµãÔºå‰πüÂ∞±ÊòØ‰ªª‰Ωï‰∫∫ÈÉΩÂèØ‰ª•ËÆøÈóÆËøô‰∏™URL„ÄÇÂêéÊù•Âú®ÁΩë‰∏äÊü•‰∫Ü‰∏ãÂèëÁé∞ÊòØÈúÄË¶ÅÊ∑ªÂä†‰∏Ä‰∫õÈÖçÁΩÆÊñá‰ª∂Âà∞spring-mvc.xmlËøô‰∏™ÈÖçÁΩÆÊñá‰ª∂‰∏≠„ÄÇ1234567&lt;!-- shiroÂºÄÂêØÊ≥®Ëß£ --&gt; &lt;bean class=&quot;org.springframework.aop.framework.autoproxy.DefaultAdvisorAutoProxyCreator&quot; depends-on=&quot;lifecycleBeanPostProcessor&quot;&gt; &lt;property name=&quot;proxyTargetClass&quot; value=&quot;true&quot; /&gt; &lt;/bean&gt; &lt;bean class=&quot;org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor&quot;&gt; &lt;property name=&quot;securityManager&quot; ref=&quot;securityManager&quot;/&gt; &lt;/bean&gt; Âä†‰∫ÜÊ≥®Ëß£‰πãÂêé‰æøÂèØ‰ª•‰æùÊçÆËøô‰∏™ËÆæÁΩÆÁöÑÊùÉÈôêËøõË°åURLÊã¶Êà™Ôºå‰πüÂ∞±ÊòØÈô§‰∫ÜMANAGER‰πãÂ§ñÁöÑ‰ªª‰Ωï‰∫∫ÈÉΩÂèØ‰ª•ËøõË°åÊèíÂÖ•Áî®Êà∑Êìç‰Ωú„ÄÇËÄåÊ≤°ÊúâËØ•ÊùÉÈôêÁöÑÁî®Êà∑ËÆøÈóÆËøô‰∏™È°µÈù¢ÁöÑÊó∂ÂÄô‰æø‰ºöÊäõÂá∫‰∏Ä‰∏™ÂºÇÂ∏∏„ÄÇÂú®ÂêéÂè∞ÂèØ‰ª•ÊçïËé∑Ëøô‰∏™ÂºÇÂ∏∏‰ªéËÄåËøõË°åÂ§ÑÁêÜÊàñËÄÖÂú®ÂêéÂè∞‰ΩøÁî®.isPermitted(&quot;ÊùÉÈôê&quot;)Êù•ËøõË°åÂà§Êñ≠Áî®Êà∑ÁöÑÊùÉÈôê ËÅîÊÉ≥ÔºöÂÖ≥‰∫éServletÁöÑÊã¶Êà™Âô®ÂíåSpringÁöÑÊã¶Êà™Âô®‰πãÈó¥ÁöÑÈ°∫Â∫èÂú®Áî®shiroÁöÑÊó∂ÂÄôÈ°∫‰æøÁöÑ‰πüÊääServletÊã¶Êà™Âô®ÁöÑÈ°∫Â∫èÂíåSpringÊã¶Êà™Âô®ÁöÑÈ°∫Â∫èÈÉΩÂ≠¶‰π†‰∫Ü‰∏ã„ÄÇÂú®ËøôÈáå‰πüÈ°∫‰æøÂÅö‰∫Ü‰∏Ä‰∏™Â∞èÁöÑÊµãËØï:12345678910111213141516171819202122232425262728293031public class ServletFilter implements Filter&#123; public void init(FilterConfig filterConfig) throws ServletException &#123; System.out.println(&quot;ServletÂæóÊã¶Êà™Âô®init()ÊñπÊ≥ï&quot;); &#125; public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException &#123; System.out.println(&quot;ServletÂæóÊã¶Êà™Âô®doFilter()ÊñπÊ≥ï&quot;); filterChain.doFilter(servletRequest,servletResponse); return; &#125; public void destroy() &#123; System.out.println(&quot;ServletÂæóÊã¶Êà™Âô®destroy()ÊñπÊ≥ï&quot;); &#125;&#125;public class SpringHandle implements HandlerInterceptor &#123; public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123; System.out.println(request.getHeader(&quot;Accept&quot;).toString()); System.out.println(&quot;This is a intercept to test the web&quot;);// handleError(request,response); return true; &#125; private void handleError(HttpServletRequest request ,HttpServletResponse response) throws ServletException, IOException &#123; RequestDispatcher rd = request.getRequestDispatcher(&quot;/&quot;); System.out.println(&quot;Â§ÑÁêÜÈîôËØØÔºåÈúÄË¶ÅË∑≥ËΩ¨&quot;); rd.forward(request, response); &#125;&#125; ÁºñÂÜôÂ•Ω‰∫Ü‰πãÂêéÂêØÂä®È°πÁõÆÔºåÂèëÁé∞ServletÁöÑÁöÑËøô‰∏™Êã¶Êà™Âô®ÊúÄÂÖàËøêË°åinit()ÊñπÊ≥ïÂú®ÊúÄÂàùÈ°πÁõÆÂêØÂä®ÁöÑÊó∂ÂÄô‰æø‰ºö‰∫éËøêË°åÔºåËÄå‰∏î‰∏Ä‰∏™ËØ∑Ê±ÇËøáÊù•‰πãÂêé‰πüÊòØdoFilter()ÂÖàËøêË°åÔºåÁÑ∂ÂêéÂÜçÊòØSpringÁöÑÊã¶Êà™Âô®]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>shiro</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âú®mysql5.7ÁâàÊú¨‰∏≠‰ΩøÁî®groupbyÊâÄÈúÄË¶ÅÊ≥®ÊÑèÁöÑ]]></title>
    <url>%2F2018%2F03%2F25%2F%E5%9C%A8mysql5.7%E7%89%88%E6%9C%AC%E4%B8%AD%E4%BD%BF%E7%94%A8groupby%E6%89%80%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%2F</url>
    <content type="text"><![CDATA[‰ªÄ‰πàÊòØONLY_FULL_GROUP_BY Ê®°ÂºèÂÖàÁúãÂú®mysql 5.7ÁâàÊú¨‰∏≠ÁöÑ‰∏Ä‰∏™ÁöÑgroup byÔºå‰ª•‰∏ãÊòØËøô‰∏™Êï∞ÊçÆÂ∫ìË°®Ôºö12345678910111213mysql&gt; select * from testgroupby;+---------+-----------+------------+--------------+| user_id | user_name | user_score | user_subject |+---------+-----------+------------+--------------+| 1 | Âº†‰∏â | 99 | ËØ≠Êñá || 2 | Âº†‰∏â | 90 | Êï∞Â≠¶ || 3 | Âº†‰∏â | 80 | Ëã±ËØ≠ || 4 | ÊùéÂõõ | 99 | ËØ≠Êñá || 5 | Áéã‰∫î | 85 | ËØ≠Êñá || 6 | ÊùéÂõõ | 91 | Êï∞Â≠¶ || 7 | Áéã‰∫î | 100 | Ëã±ËØ≠ |+---------+-----------+------------+--------------+7 rows in set (0.00 sec) ËøôÊòØ‰∏Ä‰∏™Â≠¶ÁîüÊàêÁª©Êï∞ÊçÆÂ∫ìË°®„ÄÇÈÇ£‰πàÂú®MySQL5.7ÁâàÊú¨‰∏≠ÊâßË°åÂÆÉÁöÑËØùÊòØ‰ºöÂá∫Áé∞‰∏Ä‰∏™errorÁöÑ„ÄÇÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö 12mysql&gt; select * from testgroupby group by user_name;ERROR 1055 (42000): Expression #1 of SELECT list is not in GROUP BY clause and contains nonaggregated column &apos;login.testgroupby.user_id&apos; which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by Ê≥®ÊÑèÊü•ÁúãÊä•ÈîôÔºönonaggregated column &#39;login.testgroupby.user_id&#39; which is not functionally dependent on columns„ÄÇËøôÊÆµËØùÊòØ‰ªÄ‰πàÊÑèÊÄùÂë¢ÔºüÂ§ßÊÑèË°®Á§∫ÁöÑÊòØÂØπ‰∫égroupbyÁöÑusernameÔºåuseridÂπ∂Ê≤°ÊúâÂáΩÊï∞‰æùËµñ‰∫éÂÆÉ„ÄÇÂú®ËøôÂº†Ë°®‰∏≠ÔºåÂèØ‰ª•Áî±user_idÊé®ÂØºÂá∫user_name„ÄÇÂõ†‰∏∫ÊØè‰∏Ä‰∏™user_idÈÉΩÊòØÂîØ‰∏ÄÁöÑÔºåËã•ÂØπuser_idËøõË°ågroupby ÂàôÂÆÉÂèØ‰ª•Êé®ÂØºÂá∫‰ªª‰Ωï‰∏Ä‰∏™Â≠¶ÁîüÂßìÂêçÔºåÂàÜÊï∞‰ª•ÂèäÂ≠¶Áßë„ÄÇÂç≥ÊØè‰∏Ä‰∏™Â≠¶ÁîüIdÈÉΩÊòØÂèØ‰ª•Á°ÆÂÆö‰∏ÄË°åÂÄºÂæóÔºåÊâÄ‰ª•MySQLÂèØ‰ª•ËøîÂõûÊï∞ÊçÆ„ÄÇ ÈÇ£‰πàÂèçËøáÊù•ÊòØ‰∏çÊòØÊØè‰∏Ä‰∏™Â≠¶ÁîüÂßìÂêçÈÉΩÂèØ‰ª•Êé®ÂØºÂá∫ÂîØ‰∏ÄÁöÑuser_idÂë¢Ôºü Âú®ËøôÂº†Ë°®‰∏≠ÔºåÊØè‰∏Ä‰∏™user_nameÈÉΩÊòØ‰∏çÂèØ‰ª•Êé®ÂØºÂá∫ÂîØ‰∏ÄÁöÑuser_id-‰πüÂ∞±ÊòØËØ¥ÂØπuser_nameÂàÜÁªÑ‰πãÂêé‰ºöÊúâÂ§ö‰ΩôÁöÑuser_id-, ÊâÄ‰ª•‰πüÂèØ‰ª•ËÆ§‰∏∫user_idÂπ∂Ê≤°ÊúâÂáΩÊï∞‰æùËµñ‰∫éuser_name„ÄÇÂÖ∂ÂÆûÂú®ËøôÈáåËøòÂèØ‰ª•ËøôÊ†∑ÊÉ≥ÔºåÂõ†‰∏∫ÂØπuser_nameÂàÜÁªÑ‰πãÂêéÔºåÂú®ÊØè‰∏Ä‰∏™ÁªÑÈáåÈù¢ÈÉΩ‰ºöÊúâÂá†‰∏™ÂÄºÔºåÈÇ£‰πàÈöè‰πãËÄåÊù•ÁöÑuser_id ,user_score,user_subjectÈÉΩ‰∏çÊòØ‰∏Ä‰∏™Á°ÆÂÆöÁöÑÂÄºÔºå‰πüÂ∞±ÊòØËØ¥Âú®‰∏Ä‰∏™ÂàÜÁªÑÈáåÈù¢ÔºåÂú®ËøôÂá†Âàó‰∏≠‰ºöÊúâÂ§ö‰∏™ÂÄºÔºåÈÇ£‰πàmysqlËøôÊòØÂ∞±‰ºö‰∏çÁü•ÈÅìÂà∞Â∫ïËØ•ËøîÂõûÂì™‰∏ÄË°åÂæóÔºåÊâÄ‰ª•Ëøô‰∏™Êó∂ÂÄôÂºÄÂêØ‰∫ÜËÄåËøô‰∏™Ê®°ÂºèÁöÑmysqlÂ∞±‰ºöÊãíÁªùÊü•ËØ¢„ÄÇ Ëß£ÂÜ≥ÊñπÊ≥ïÔºö‰∏ÄÔºöÈÇ£‰πàÂ¶Ç‰ΩïÊâçËÆ©ÂÆÉ‰∏çÊä•Ëøô‰∏™ÈîôËØØÂë¢ÔºåÂú®mysqlÁöÑÂÆòÊñπÊñáÊ°£‰∏äÈù¢ËØ¥ÁöÑÊòØ: The query is valid if name is a primary key of t or is a unique NOT NULL column. In such cases, MySQL recognizes that the selected column is functionally dependent on a grouping column. For example, if name is a primary key, its value determines the value of address because each group has only one value of the primary key and thus only one row. As a result, there is no randomness in the choice of address value in a group and no need to reject the query ‰πüÂ∞±ÊòØËØ¥Â¶ÇÊûúgroupbyÁöÑÂàóÊòØ‰∏Ä‰∏™‰∏ªÈîÆÁöÑËØùÔºåmysql‰ºöËØÜÂà´Âá∫‰ªñÁöÑ‰∏Ä‰∏™ÂáΩÊï∞‰æùËµñ„ÄÇÂú®Ëøô‰∏™Ë°®‰∏≠ÔºåÁî±‰∫éÂØπuser_idËøõË°ågroupbyÔºåÂú®ÂàÜÁªÑ‰πãÂêémysqlÊòØÂèØ‰ª•ËøõË°åÊü•ËØ¢ÁöÑ„ÄÇÈáçÊñ∞‰øÆÊîπÊü•ËØ¢ËØ≠Âè•Ôºö12345678910111213mysql&gt; select * from testgroupby group by user_id;+---------+-----------+------------+--------------+| user_id | user_name | user_score | user_subject |+---------+-----------+------------+--------------+| 1 | Âº†‰∏â | 99 | ËØ≠Êñá || 2 | Âº†‰∏â | 90 | Êï∞Â≠¶ || 3 | Âº†‰∏â | 80 | Ëã±ËØ≠ || 4 | ÊùéÂõõ | 99 | ËØ≠Êñá || 5 | Áéã‰∫î | 85 | ËØ≠Êñá || 6 | ÊùéÂõõ | 91 | Êï∞Â≠¶ || 7 | Áéã‰∫î | 100 | Ëã±ËØ≠ |+---------+-----------+------------+--------------+7 rows in set (0.00 sec) ‰πüÂ∞±ÊòØËØ¥Â¶ÇÊûúÂΩìgroupbyÂêéÈù¢ÁöÑÂ≠óÊÆµÊòØÊòØ‰∏Ä‰∏™ÈùûÁ©∫‰∏ªÈîÆÁöÑÊó∂ÂÄôÔºåÁî±‰∫é‰∏ªÈîÆÊòØ‰∏Ä‰∏™Ë°®‰∏≠ÁöÑÂîØ‰∏ÄÊ†áËØÜÁ¨¶Ôºå‰∏çÂèØ‰ª•ÈáçÂ§çÔºåÊâÄ‰ª•MySQLÂèØ‰ª•Ê≠£Á°ÆÁöÑÊé®Êñ≠Âá∫ÊØè‰∏Ä‰∏™ÂàÜÁªÑ„ÄÇ ÈÇ£Â¶ÇÊûúËøòÊòØÈúÄË¶ÅÂú®user_name Ëøô‰∏ÄÂàóËøõË°ågroupbyÊÄé‰πàÂäûÔºü Â¶ÇÊûúÁ°ÆÂÆûÈúÄË¶ÅËøôÊ†∑ÂÅöÁöÑËØùÔºåÈÇ£‰πàÈúÄË¶ÅÂØπgroupbyÁöÑÂ≠óÊÆµËøõË°å‰∏Ä‰∏™Â§ÑÁêÜÔºå‰ª•Á°Æ‰øùÂ∞±ÊòØËøô‰∏™ÈõÜÂêàÊòØÂèØ‰ª•Âú®ÂàÜÁªÑ‰πãÂêéÈÉΩÊòØÂîØ‰∏ÄÁöÑ(ÂèØ‰ª•ÁêÜËß£‰∏∫Âè™Êúâ‰∏ÄË°å) ‰∫åÔºöÈô§‰∫Ü‰∏äÈù¢ÁöÑÊñπÊ≥ïÔºåËøòÂèØ‰ª•ÂØπÂàÜÁªÑÊü•ËØ¢Âá∫Êù•ÁöÑÊï∞ÊçÆËøõË°å‰∏Ä‰∏™ËÅöÂêàÊìç‰Ωú„ÄÇ123456789mysql&gt; SELECT user_name ,COUNT(*) AS &apos;subject_num&apos; FROM testgroupby GROUP BY user_name;+-----------+-------------+| user_name | subject_num |+-----------+-------------+| Âº†‰∏â | 3 || ÊùéÂõõ | 2 || Áéã‰∫î | 2 |+-----------+-------------+3 rows in set (0.00 sec) ÂØπ‰∫éËÅöÂêà‰πãÂêéÁöÑÊìç‰ΩúÔºåMySQLÊòØÊé•ÂèóÊü•ËØ¢ÁöÑ ‰∏âÔºöANY_VALUE()ÂáΩÊï∞Ôºö123456789mysql&gt; select ANY_VALUE(user_id),user_name from testgroupby group by user_name;+--------------------+-----------+| ANY_VALUE(user_id) | user_name |+--------------------+-----------+| 1 | Âº†‰∏â || 4 | ÊùéÂõõ || 5 | Áéã‰∫î |+--------------------+-----------+3 rows in set (0.00 sec) ÂΩìÁÑ∂ËøôÊ†∑‰ΩøÁî®ÁöÑËØùmysqlÂè™‰ºöÂèñÊâÄÂàÜÁªÑÂæóÁ¨¨‰∏ÄË°å„ÄÇ GROUP_CONCAT()ÂáΩÊï∞ÔºöËøô‰∏™ÂáΩÊï∞‰ºöÂ∞Ü‰∏Ä‰∏™Êü•ËØ¢ÂæóÁªìÊûúÈõÜËøõË°åÂêàÂπ∂Ôºå‰ªéËÄåÂèØ‰ª•‰ΩøÂØπuser_nameËøõË°ågroupby‰πãÂêéËøîÂõûÂæóÊòØ‰∏ÄË°å123456789mysql&gt; SELECT GROUP_CONCAT(user_id) AS &apos;user_id&apos;,user_name FROM testgroupby GROUP BY user_name;+---------+-----------+| user_id | user_name |+---------+-----------+| 1,2,3 | Âº†‰∏â || 4,6 | ÊùéÂõõ || 5,7 | Áéã‰∫î |+---------+-----------+3 rows in set (0.00 sec) ÊÄªÁªìÔºöÂÖ≥‰∫éËøô‰∏™Ê®°ÂºèÔºö‰∏ãÈù¢Ëøô‰∏™ÂõæÂ§ßËá¥ÁöÑËß£Èáä‰∫Ü‰∏ã‰∏∫‰ªÄ‰πà‰ºöÊä•Âá∫Ëøô‰∏™ÈîôËØØ„ÄÇÂõ†‰∏∫ÊúÄÂêémysql‰ºöÁñëÊÉëÔºå‰Ω†ÂàÜÁªÑ‰πãÂêéÈÇ£‰πàÂ§öÂæóÊï∞ÊçÆÔºåÊàëÁü•ÈÅìÈÄâÂàôÂàÜÁªÑ‰πãÂêéÂæóÂì™‰∏ÄË°åÔºüÔºüÔºü]]></content>
      <categories>
        <category>Êï∞ÊçÆÂ∫ì</category>
      </categories>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆ∞‰∏ÄÊ¨°sqlÂíåÊó∂Èó¥ÊÆµÊü•ËØ¢ÊúâÂÖ≥ÁöÑËØ≠Âè•]]></title>
    <url>%2F2018%2F03%2F23%2F%E8%AE%B0%E4%B8%80%E6%AC%A1sql%E5%92%8C%E6%97%B6%E9%97%B4%E6%AE%B5%E6%9F%A5%E8%AF%A2%E6%9C%89%E5%85%B3%E7%9A%84%E8%AF%AD%E5%8F%A5%2F</url>
    <content type="text"><![CDATA[ÂâçË®ÄÁî±‰∫éËá™Â∑±ÊúâÁÇπÈúÄÊ±ÇÈúÄË¶ÅÂú®mysql‰∏≠ÊåâÁÖßÊó∂Èó¥ÊÆµËøõË°åÊü•ËØ¢ÔºåËÄåËá™Â∑±ÂèàÂØπËøô‰∫õ‰∏çÂ§™‰∫ÜËß£ÔºåÊâÄ‰ª•Ë∂ÅÁùÄËøôÊ¨°Êú∫‰ºöÂ∞ÜmysqlÂíåÊó∂Èó¥ÊÆµÁõ∏ÂÖ≥ÁöÑÊü•ËØ¢ËØ≠Âè•ÂÅö‰∏Ä‰∏™ËÆ∞ÂΩïÔºö Â∏∏Áî®ÂáΩÊï∞ÔºöDATE_SUB()ÂáΩÊï∞DATE_SUB(date,INTERVAL expr type)Ëøô‰∏™ÂáΩÊï∞ÁöÑdateÊòØ‰∏Ä‰∏™Êó∂Èó¥Ë°®ËææÂºèÔºå‰∏ÄËà¨ÂèñÂæóÊòØÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑ‰∏Ä‰∏™Â≠óÊÆµ„ÄÇÂêéÈù¢ÁöÑINTERVAL‰∏ÄËà¨Êù•ËÆ≤ÊòØ‰∏çÂèòÁöÑÔºåexpr‰∏ÄËà¨ÊòØ‰∏Ä‰∏™Êó∂Èó¥ÊÆµÔºå‰ª£Ë°®ËøáÂéªÁöÑÔºåÊØîÂ¶ÇÊòØ30Â§©ÔºåÈÇ£‰πàËøôÈáåÂ∞±ÊòØ30ÔºåËã•ÊòØ60ÔºåËøôÈáåÂ∞±ÊòØ60ÔºåtypeÂàôË°®Á§∫ÁöÑÊòØ‰∏Ä‰∏™Êó∂Èó¥Â±ûÊÄß(ÂèØËÉΩË°®ËææÁöÑ‰∏çÊòØÂæàÂáÜÁ°Æ)ÔºåÂ¶Ç‰∏ãÔºö1234567891011121314151617181920MICROSECONDSECONDMINUTEHOURDAYWEEKMONTHQUARTERYEARSECOND_MICROSECONDMINUTE_MICROSECONDMINUTE_SECONDHOUR_MICROSECONDHOUR_SECONDHOUR_MINUTEDAY_MICROSECONDDAY_SECONDDAY_MINUTEDAY_HOURYEAR_MONTH Âú®ËøôÈáåÊàëÁî®YEAR_MONTH ÂíåMONTH ÂêåÊó∂ÂÜô‰∫Ü‰∏Ä‰∏™sqlSELECT DATE_SUB(&#39;2015-09-30 11:19:00&#39;,INTERVAL2 MONTH)Âú®Ëøô‰∏™ÈáåÈù¢ÔºåÂ∞ÜMONTHÂíåYEAR_MONTH‰∫íÊç¢ÈÉΩÊòØÊ≤°ÈóÆÈ¢òÁöÑÔºåËøôÊòØÁõÆÂâçÊöÇÊó∂Êú™ÂèëÁé∞Êúâ‰ªÄ‰πàÂ∑ÆÂºÇÁöÑ„ÄÇ FROM_UNIXTIME()ÂáΩÊï∞ËøôÊòØ‰∏Ä‰∏™ÈùûÂ∏∏ÊúâÁî®ÁöÑÂáΩÊï∞ÔºåÂÖ∂‰ΩúÁî®ÊòØÂ∞Ü‰∏Ä‰∏≤Êï∞Â≠óÊàñËÄÖ‰∏Ä‰∏™Êó∂Èó¥Êà≥ËΩ¨Êç¢ÊàêÊåáÂÆöÊ†ºÂºèÁöÑ‰∏Ä‰∏™Êó•ÊúüÔºåÂú®Ëøô‰∏™ÈáåÈù¢ÁöÑËØùÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÈúÄË¶ÅÊòØ‰∏Ä‰∏™UNIXÊó∂Èó¥Êà≥,ËÄåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÂàôÊòØ‰∏Ä‰∏™formatÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÊ≥®ÊÑèËßÇÂØü‰∏ãÈù¢ÁöÑ‰∏â‰∏™‰æãÂ≠êÁöÑ‰∏çÂêåÔºåÁ¨¨‰∫å‰∏™sqlÂú®ÂêéÈù¢ÂÅö‰∫Ü‰∏Ä‰∏™+0ÁöÑÊìç‰ΩúÁªìÊûúÊó•ÊúüÊ†ºÂºèÁõ¥Êé•Ë¢´ËΩ¨Êç¢Êàê‰∫Ü‰∏Ä‰∏≤Êï∞Â≠ó„ÄÇ1234567mysql&gt; SELECT FROM_UNIXTIME(1447430881); -&gt; &apos;2015-11-13 10:08:01&apos;mysql&gt; SELECT FROM_UNIXTIME(1447430881) + 0; -&gt; 20151113100801mysql&gt; SELECT FROM_UNIXTIME(UNIX_TIMESTAMP(), -&gt; &apos;%Y %D %M %h:%i:%s %x&apos;); -&gt; &apos;2015 13th November 10:08:01 2015&apos; CONCAT()ÂáΩÊï∞CONCAT()ÂáΩÊï∞ÂèØ‰ª•Â∞Ü‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÊåâÁÖßÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåÂÖ∑‰ΩìÊù•ËØ¥Â∞±ÊòØÂØπÂ∫î‰ª•‰∏ãËØ≠Âè•SELECT LEFT(&#39;2018-01-26 11:50:09&#39;,7)ËøôÊù°ËØ≠Âè•ÁöÑÊâßË°åÁªìÊûúÁªìÊûúÊòØ2018-01,Ê≠£Â•ΩÊòØ‰ªéÂ§¥Êà™Âèñ‰∫Ü7‰∏™Â≠óÁ¨¶„ÄÇÂèÇÊï∞ÔºöÁ¨¨‰∏Ä‰∏™ÊòØÂ≠óÁ¨¶‰∏≤ÔºåÁ¨¨‰∫å‰∏™ÊòØÊà™ÂèñÁöÑÈïøÂ∫¶„ÄÇ1234567mysql&gt; SELECT LEFT(&apos;2018-01-26 11:50:09&apos;,7);+-------------------------------+| LEFT(&apos;2018-01-26 11:50:09&apos;,7) |+-------------------------------+| 2018-01 |+-------------------------------+1 row in set (0.00 sec) LEFT()ÂáΩÊï∞LEFT()ÂáΩÊï∞ÂèØ‰ª•Â∞Ü‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤‰Ωú‰∏∫mysqlÁöÑËØ≠Âè•Êù•ÊâßË°åÔºåÁ±ªÊØîÂà∞PythonÂ∞±ÊòØpython‰∏≠ÁöÑevalÂáΩÊï∞Ôºå‰ΩÜÊòØËØ•ÂáΩÊï∞Ëã•ÊâßË°åÁöÑÂ≠óÁ¨¶‰∏≤‰∏≠ÂåÖÂê´‰∏Ä‰∏™null:Ê≥®ÊÑèËøô‰∏™nullËã•ÊòØÂÖ≥ÈîÆÂ≠óÂàôÊòØ‰ºöÂàô‰ºöÂØºËá¥1234567mysql&gt; select concat(&apos;Mysql&apos;,null);+----------------------+| concat(&apos;Mysql&apos;,null) |+----------------------+| NULL |+----------------------+1 row in set (0.00 sec) sum()ÂíåCount()Âú®ÁªüËÆ°1Âíå0ÁöÑÂå∫Âà´Ëøô‰∏§‰∏™ÂáΩÊï∞ÁöÑÂå∫Âà´Âú®‰∏ÄÊ¨°‰ΩøÁî®ÁªüËÆ°ÁöÑÊó∂ÂÄôÈÅáÂà∞‰∫Ü‰∏ÄÁÇπÈóÆÈ¢òÔºå‰æãÂ¶Ç‰∏Ä‰∏™Â≠óÊÆµÊòØÊ†áËØÜÁ¨¶Ôºå‰πüÂ∞±ÊòØ‰∏Ä‰∏™Â≠óÊÆµÁöÑÂÄºÈô§‰∫Ü0Â∞±ÊòØ1ÔºåÈÇ£‰πàË¶ÅÁªüËÆ°‰∏∫1ÁöÑËØù‰∏ÄËà¨Êù•ËÆ≤Â∞±ÊòØcase when xxx=1 then 1 else 0 endËøôÊ†∑Â∞±ÂèØ‰ª•ÂÄºÈÄâÊã©‰∏∫1ÁöÑË°åÔºåÈÇ£‰πàËøôÈáåÂ¶ÇÊûú‰ΩøÁî®ÁöÑÊòØcountÁöÑËØùÔºåËøôÈáåÁöÑËøô‰∏™ËßÑÂàôÊòØÊó†Ê≥ïÂ∫îÁî®ÁöÑÔºåÂÖ∑‰ΩìÂ¶Ç‰∏ãÔºö1234567891011mysql&gt; select * from testestatus;+-----------+---------------+| status_id | status_status |+-----------+---------------+| 1 | b&apos;1&apos;|| 2 | b&apos;0&apos;|| 3 | b&apos;1&apos;|| 4 | b&apos;1&apos;|+-----------+---------------+4 rows in set (0.00 sec) Âõ†‰∏∫ÂΩìÊó∂Ê≤°Êúâ‰ªîÁªÜÁöÑÂå∫ÂàÜËøô‰∏§ÁßçÁî®Ê≥ïÁöÑÂå∫Âà´ÔºåÊâÄ‰ª•ÊâçÂØºËá¥‰∫ÜÁªüËÆ°ÈîôËØØ„ÄÇÂú®ËøôÈáåÔºåcountÂè™ÊòØ‰∏Ä‰∏™ÁªüËÆ°Ôºå‰ªñÂè™ÊòØÁªüËÆ°Â∫îÁî®ËßÑÂàô‰πãÂêéÁöÑÁöÑÁ¨¶ÂêàÊï∞ÊçÆÔºå‰ΩÜÊòØsum‰∏çÂêåÔºåsumÈÖçÂêàcase when ÂàôÂèØ‰ª•ÈÄâÊã©Âá∫Áõ∏ÂåπÈÖçÁöÑ‰∏Ä‰∫õÊï∞ÊçÆ DATE_FORMAT()ÂáΩÊï∞Ëøô‰∏™ÂáΩÊï∞ÂèØ‰ª•Â∞Ü‰∏Ä‰∏™Êó∂Èó¥ÊåâÁÖßÊåáÂÆöÁöÑÊ†ºÂºèËæìÂá∫ÔºåÁ±ª‰ºº‰∫éJava‰∏≠ÁöÑdateformatÂáΩÊï∞ÔºåÊòØÂèØ‰ª•Â∞Ü‰∏Ä‰∏™Êó∂Èó¥ËøõË°åÊ†ºÂºèÁöÑ„ÄÇ1234567mysql&gt; select date_format(now(),&apos;%Y&apos;);+-------------------------+| date_format(now(),&apos;%Y&apos;) |+-------------------------+| 2018 |+-------------------------+1 row in set (0.00 sec) ‰∏Ä‰∫õÂ∏∏Áî®ÂáΩÊï∞ÁªÑÂêàÔºöÊü•ËØ¢Êú¨ÊúàÁöÑÊï∞ÊçÆÔºöÂú®ËøôÈáåÊòØÂèØ‰ª•‰ΩøÁî®concatÂáΩÊï∞ÂíåleftÂáΩÊï∞ÔºåÈ¶ñÂÖàÂèØ‰ª•‰ΩøÁî®leftÂáΩÊï∞Êà™Âèñ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÈïøÂ∫¶„ÄÇÊØîÂ¶ÇËé∑ÂèñÂΩìÊúàÁöÑËØùÊòØÂèØ‰ª•ÈÄöËøáleftÊù•Ëé∑ÂèñÁÑ∂ÂêéÂÜçÂ∞Ü1Âè∑ÊãºÊé•‰∏äÂéªÔºåÊúÄÂêéÁî®Êï∞ÊçÆÂ∫ìÁöÑÊó•ÊúüÂÜçÂáèÂéª1Âè∑Â∞±ÂèØ‰ª•‰∫Ü„ÄÇ12345678910111213141516select left(now(),7);+---------------+| left(now(),7) |+---------------+| 2018-03 |+---------------+1 row in set (0.00 sec)mysql&gt; select concat(left(now(),7),&apos;-01&apos;);+-----------------------------+| concat(left(now(),7),&apos;-01&apos;) |+-----------------------------+| 2018-03-01 |+-----------------------------+1 row in set (0.00 sec) ÊúÄÂêéÊú¨ÊúàÁöÑ1Âè∑Â∞±Ë¢´Êü•ËØ¢Âá∫Êù•‰∫ÜÔºåÁÑ∂Âêé‰æøÂèØ‰ª•ËøõË°åÊï∞ÊçÆÊìç‰Ωú‰∫Ü Êü•ËØ¢ÊåáÂÆöÂ§©Êï∞ÁöÑÊï∞ÊçÆÂÅáËÆæÁé∞Âú®ÈúÄË¶ÅÊü•ËØ¢ÂæÄÊúü30Â§©ÁöÑÊï∞ÊçÆÔºåÈÇ£‰πàÂèØ‰ª•ÈÄöËøádate_subÂáΩÊï∞Êù•ËøõË°åÊü•ËØ¢Ôºö1234567select date_sub(now(),INTERVAL 30 DAY );+----------------------------------+| date_sub(now(),INTERVAL 30 DAY ) |+----------------------------------+| 2018-02-22 22:03:22 |+----------------------------------+1 row in set (0.00 sec) ÊÄªÁªìÔºöÁõÆÂâçÂÖ≥‰∫éÊó∂Èó¥ÊñπÈù¢ÁöÑsqlÊÄªÁªìÂ∑Æ‰∏çÂ§öÂ∞±ÊòØËøô‰∫õ‰∫ÜÔºåÂÖ∂‰ªñÁöÑ‰ª•ÂêéÂÜçËøõË°åË°•ÂÖÖ„ÄÇ]]></content>
      <categories>
        <category>Êï∞ÊçÆÂ∫ì</category>
      </categories>
      <tags>
        <tag>mysqlÊó∂Èó¥Áõ∏ÂÖ≥</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âú®SpringMvc‰∏≠‰ΩøÁî®shiroËøõË°åÂÆâÂÖ®ÈÖçÁΩÆ]]></title>
    <url>%2F2018%2F03%2F23%2F%E5%9C%A8SpringMvc%E4%B8%AD%E4%BD%BF%E7%94%A8shiro%E8%BF%9B%E8%A1%8C%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[ÂâçË®ÄÂú®ÂéªÂπ¥‰∏ÄÂπ¥‰πãÈó¥Áî®ËøáshiroÁöÑ‰∏Ä‰∫õÂÜÖÂÆπÔºå‰ΩÜÊòØÊúÄËøëÂèàÊúâÁÇπÂøòÂç¥‰∫Ü„ÄÇÁé∞Âú®Ê≠£Â•ΩÊúâ‰∏Ä‰∏™Êú∫‰ºöÔºåÊâÄ‰ª•Ê≠£Â•ΩÊê≠Âª∫Ëµ∑Êù•‰∫ÜÁÑ∂ÂêéËá™Â∑±ÂÅö‰∫õËÆ∞ÂΩï Êê≠Âª∫ËøáÁ®ãÂºïÂÖ•jarÂåÖÔºöÈúÄË¶Å‰ΩøÁî®shiroÁöÑËØùÂÖàÂú®maven‰∏≠ÂºïÂÖ•‰ª•‰∏ãJarÂåÖÔºö1234567891011121314151617181920212223&lt;dependency&gt; &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt; &lt;artifactId&gt;shiro-core&lt;/artifactId&gt; &lt;version&gt;1.4.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/org.apache.shiro/shiro-spring --&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt; &lt;artifactId&gt;shiro-spring&lt;/artifactId&gt; &lt;version&gt;1.4.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/org.apache.shiro/shiro-web --&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt; &lt;artifactId&gt;shiro-web&lt;/artifactId&gt; &lt;version&gt;1.4.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/org.apache.shiro/shiro-ehcache --&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt; &lt;artifactId&gt;shiro-ehcache&lt;/artifactId&gt; &lt;version&gt;1.4.0&lt;/version&gt; &lt;/dependency&gt; ÁºñÂÜôÊñπÊ≥ï‰ΩìÔºöÂú®Ê≠§‰πãÂâçÈúÄË¶ÅÂä†ÂÖ•‰ª•‰∏äjarÂåÖÔºõÂΩìÂºïÂÖ•‰πãÂêé‰æøÂèØ‰ª•ËøõË°åspringÂíåshiroÁöÑÊûÑÂª∫‰∫Ü„ÄÇÂú®ËøõË°åÊê≠Âª∫‰πãÂâçÈúÄË¶ÅÂª∫Á´ã‰∏§‰∏Ä‰∏™RealmÔºå‰∏Ä‰∏™shiroÁöÑÊ†∏ÂøÉÊéßÂà∂Âô®„ÄÇÈúÄË¶ÅÁªßÊâøAuthorizingRealmÁÑ∂ÂêéÂÆûÁé∞‰∏§‰∏™ÊñπÊ≥ïÔºö Âú®doGetAuthenticationInfo(AuthenticationToken authenticationToken)ÊñπÊ≥ï‰∏≠ÔºöauthenticationTokenÂèÇÊï∞ÊòØ‰ªéÂâçÁ´ØÈ°µÈù¢Êé•ÂèóÁöÑ‰∏Ä‰∏™ÂèÇÊï∞ÔºåÈáåÈù¢Â∞ÅË£ÖÁöÑÊòØ‰∏Ä‰∏™tokenÔºåËØ•tokenÊòØ‰ªéÂâçÁ´ØËé∑ÂèñÁöÑÔºåÂÖ∑‰ΩìÁöÑËé∑ÂèñÊñπÊ≥ïÊòØ12Subject subject = SecurityUtils.getSubject();UsernamePasswordToken token = new UsernamePasswordToken(username, password); Âú®ËøôÊÆµ‰ª£Á†Å‰∏≠ÁöÑControllerËé∑ÂèñÂà∞ÂâçÁ´ØÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†Å‰πãÂêéÂú®new UsernamePasswordToken(username, password)ËøôÈáå‰ºöÁîüÊàê‰∏Ä‰∏™tokenÔºåÁÑ∂ÂêéËøô‰∏™token‰ºöË¢´‰º†Âà∞realm‰∏≠ÔºåÊúÄÂêéÂú®realm‰∏≠ÁöÑdoGetAuthenticationInfoÊé•Êî∂Âà∞ÔºåÁÑ∂ÂêéÂú®ËøôÈáå‰æøÂèØ‰ª•ËøõË°åÊï∞ÊçÆÂ∫ìÊü•ËØ¢ÔºåË¶Å‰πàËøîÂõûÂºÇÂ∏∏ÔºåË¶Å‰πàÂàôÊòØËøîÂõû‰∏Ä‰∏™SimpleAuthenticationInfo„ÄÇËøô‰∏™‰ª£Á†ÅÂ¶Ç‰∏ãÔºö1234567891011String username = (String) authenticationToken.getPrincipal(); // Ëé∑ÂèñÁî®Êà∑ÂêçString password = new String((char[])authenticationToken.getCredentials()); //ÂæóÂà∞ÂØÜÁ†ÅMap&lt;String ,String &gt; map =new HashMap&lt;String, String&gt;();map.put(&quot;username&quot; ,username);map.put(&quot;password&quot;,password);User user =loginservice.loginCheck(map);if (user == null || user.getId() == null)&#123; throw new UnknownAccountException(); //Â¶ÇÊûúÁî®Êà∑ÂêçÈîôËØØ&#125;else&#123; return new SimpleAuthenticationInfo(username, password, &quot;myRealm&quot;);&#125; ‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂè™ÊòØÁÆÄÂçïÁöÑËøõË°å‰∫ÜÊï∞ÊçÆÂ∫ìÊü•ËØ¢ÁÑ∂ÂêéÂ∞ÅË£Ö‰∏∫‰∏Ä‰∏™token„ÄÇÁÑ∂ÂêéËøîÂõûÂç≥ÂèØÔºåÈÇ£‰πàÂØπÁî®Êà∑ÁöÑÊùÉÈôêËøõË°åÊìç‰ΩúÁöÑÂ∞±ÊòØÂ¶Ç‰∏ãËøô‰∏™‰ª£Á†ÅÔºö doGetAuthorizationInfoËøô‰∏™ÊòØËøõË°åÊùÉÈôêÂàÜÈÖçÁöÑÊñπÊ≥ïÔºöÂÖ∑‰ΩìÁöÑÊñπÊ≥ï‰ΩìÂ¶Ç‰∏ã:1234567891011 protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) &#123; String username = (String) principalCollection.getPrimaryPrincipal(); //ÈÄöËøáprincipalCollectionÊü•ËØ¢Âà∞Áî®Êà∑ÁöÑÂßìÂêçÔºå List&lt;Resources&gt; resources =loginservice.getRoleById(username); ÈÄöËøámybatisÈÖçÁΩÆsql List&lt;String&gt; roles =new ArrayList&lt;String&gt;(); // Ëé∑Âèñurl for (Resources r: resources)&#123; roles.add(r.getRole()); &#125; SimpleAuthorizationInfo info = new SimpleAuthorizationInfo(); info.addRoles(roles); //Â≠òÊîæÊùÉÈôê return info;&#125; ËøôÈáåÂ∫îËØ•ÊòØËøòÂèØ‰ª•Êîæ‰∏Ä‰∏™ÊùÉÈôêÔºåÂêéÈù¢Âá†ÁØáÊó•ÂøóÂú®Âä†‰∏ä ApplicationContext.xmlÁöÑÈÖçÁΩÆÔºö123456789101112131415161718192021222324252627282930313233343536373839&lt;!-- ÈÖçÁΩÆShiro --&gt; &lt;bean id=&quot;lifecycleBeanPostProcessor&quot; class=&quot;org.apache.shiro.spring.LifecycleBeanPostProcessor&quot;/&gt; &lt;bean class=&quot;org.springframework.aop.framework.autoproxy.DefaultAdvisorAutoProxyCreator&quot; depends-on=&quot;lifecycleBeanPostProcessor&quot;/&gt; &lt;bean id=&quot;securityManager&quot; class=&quot;org.apache.shiro.web.mgt.DefaultWebSecurityManager&quot;&gt; &lt;!-- securityManager Ê†∏ÂøÉÊéßÂà∂Âô® --&gt; &lt;property name=&quot;realm&quot; ref=&quot;myRealm&quot;/&gt; &lt;!-- ÈÖçÁΩÆrealm --&gt; &lt;/bean&gt; &lt;!-- ËøáÊª§Âô®ÈÖçÁΩÆ, ÂêåÊó∂Âú®web.xml‰∏≠ÈÖçÁΩÆfilter --&gt; &lt;bean id=&quot;shiroFilter&quot; class=&quot;org.apache.shiro.spring.web.ShiroFilterFactoryBean&quot;&gt; &lt;property name=&quot;securityManager&quot; ref=&quot;securityManager&quot;/&gt; &lt;property name=&quot;loginUrl&quot; value=&quot;/&quot;/&gt; &lt;property name=&quot;successUrl&quot; value=&quot;/login/main.jsp&quot;/&gt; &lt;property name=&quot;unauthorizedUrl&quot; value=&quot;/login/TestPage&quot;/&gt; &lt;property name=&quot;filters&quot;&gt; &lt;map&gt; &lt;entry key=&quot;authc&quot;&gt; &lt;bean class=&quot;org.apache.shiro.web.filter.authc.PassThruAuthenticationFilter&quot; /&gt; &lt;/entry&gt; &lt;/map&gt; &lt;/property&gt; &lt;property name=&quot;filterChainDefinitions&quot;&gt; &lt;value&gt; /user/** = authc &lt;!-- ÈúÄË¶ÅËÆ§ËØÅÈÄöËøá, Âç≥ÁôªÂΩïÊàêÂäü --&gt; /user/insert = authc,roles[ADMIN] /user/getUser = authc,roles[MANAGER] /user/toinsert = authc,roles[ADMIN] /role/admin = authc,roles[ADMIN] /role/manager = authc,roles[SUPERMANAG] /role/manager = authc,roles[MANAGER] &lt;!--/blog/**.do = authc,perms[blog] &amp;lt;!&amp;ndash; ÈúÄË¶ÅÂêçÁß∞‰∏∫blogÁöÑÊùÉÈôêpermission&amp;ndash;&amp;gt;--&gt; &lt;!--/admin/*.do = authc,roles[admin] &amp;lt;!&amp;ndash; ÈúÄË¶ÅÂêçÁß∞‰∏∫adminÁöÑËßíËâ≤role&amp;ndash;&amp;gt;--&gt; &lt;!-- ËØ¥Êòé: /*ÂåπÈÖçÁöÑÁöÑÊòØ/abc; /** ÂåπÈÖçÁöÑÊòØÂ§ö‰∏™/*, ÊØîÂ¶Ç/abc/def --&gt; &lt;/value&gt; &lt;/property&gt; &lt;/bean&gt;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>shiro</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[layui‰ΩøÁî®ÊÄªÁªì]]></title>
    <url>%2F2018%2F03%2F22%2Flayui%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[ÂâçË®ÄÁî±‰∫éËá™Â∑±Âπ≥Êó∂ÂØπÂâçÁ´ØÁöÑcssÂíåjsÂ≠¶ÁöÑ‰∏çÊòØÂ§™Â•ΩÔºåËÄåÁé∞Âú®ÂèàÈúÄË¶ÅËá™Â∑±Êù•ÂÜô‰∏Ä‰∏™ÂâçÁ´ØÈ°µÈù¢ÔºåÊó†ÊÑèÈó¥Âú®GitHub‰∏≠ÁúãÂà∞‰∫ÜlayuiÔºåÊâÄ‰ª•Êä±ÁùÄÂ∞ùËØïÁöÑÂøÉÊÄÅÔºåÂ≠¶‰π†‰∫Ü‰∏Ä‰∏ãÔºåÁé∞Âú®‰∏ªË¶ÅÊòØËá™Â∑±ÂÅö‰∏Ä‰∏™ÊÄªÁªì„ÄÇÂèØËÉΩ‰πãÂêé‰ºöÂ≠¶‰π†VueÁ≠âÂâçÁ´ØË∑®Ê°ÜÊû∂ ÂÖ≥‰∫éLayuiÁöÑtableÁªÑ‰ª∂È¶ñÂÖàLayuiÁöÑtableÁªÑ‰ª∂ÔºöÂú®Layui‰∏≠ÂàõÂª∫‰∏Ä‰∏™tableÁªÑ‰ª∂ÈúÄË¶ÅÂÖàÂÜô‰∏Ä‰∏™tableÊ†áÁ≠æÔºö&lt;table class=&quot;layui-hide&quot; id=&quot;test&quot; lay-filter=&quot;demo&quot;&gt;&lt;/table&gt;ÔºåÂú®Ëøô‰πã‰∏≠ id ÊòØÈúÄË¶ÅÂú®table.render‰∏≠‰ΩøÁî®ÁöÑ„ÄÇ‰æãÂ¶ÇÔºö1234567891011121314table.render(&#123; elem: &apos;#test&apos; ,height: 315 ,url: &apos;/user/getUser&apos; //Êï∞ÊçÆÊé•Âè£ ,page: true //ÂºÄÂêØÂàÜÈ°µ ,cols: [[ //Ë°®Â§¥ &#123;field: &apos;id&apos;, title: &apos;ID&apos;, width:80, sort: true, fixed: &apos;left&apos;&#125; ,&#123;field: &apos;age&apos;, title: &apos;Âπ¥ÈæÑ&apos;, width:80&#125; ,&#123;field: &apos;dataname&apos;, title: &apos;Áî®Êà∑Âêç&apos;, width:80&#125; ,&#123;field: &apos;sex&apos;, title: &apos;ÊÄßÂà´&apos;, width:80&#125; ,&#123;field: &apos;password&apos;, title: &apos;ÂØÜÁ†Å&apos;, width:80, sort: true&#125; ,&#123;fixed: &apos;right&apos;, width: 165, align:&apos;center&apos;, toolbar: &apos;#barDemo&apos;&#125; ]] &#125;); Âú®ËøôÊÆµjs‰πã‰∏≠elemÂêéÈù¢ÁöÑÂÄºË°®Á§∫ÁöÑÂ∞±ÊòØtableÊ†áÁ≠æ‰πãÂêéÁöÑidÔºåËÄåËøôÊÆµ‰ª£Á†ÅË°®Á§∫ÁöÑÂ∞±ÊòØÂú®table‰∏≠ÂºÇÊ≠•Âä†ËΩΩÊï∞ÊçÆÔºåÂêéÈù¢ÁöÑtoolbar Ë°®Á§∫ÁöÑÊòØÈúÄË¶ÅÂàõÂª∫‰∏â‰∏™button„ÄÇÊ≥®ÊÑèÊúÄÂêé‰∏ÄË°åÁöÑtoolbar : #barDemo ÂÆÉ‰ºöË∑ü‰∏ãÈù¢ÁöÑ‰∏â‰∏™ÊåâÈíÆ‰∏ÄËµ∑ÂØπÂ∫î„ÄÇÂπ∂‰∏îÂ∞ÜËøô‰∏â‰∏™ÊåâÈíÆ‰∏ÄËµ∑Ê∑ªÂä†Âà∞ÈÇ£‰∏™Ë°®Ê†ºÁöÑÂêéÈù¢ÔºåËøô‰πãÂêéÁöÑ‰∏â‰∏™Ê†áÁ≠æÁöÑÂàõÂª∫ÊñπÂºèÂ¶Ç‰∏ã:12345&lt;script type=&quot;text/html&quot; id=&quot;barDemo&quot;&gt; &lt;a class=&quot;layui-btn layui-btn-primary layui-btn-xs&quot; lay-event=&quot;detail&quot;&gt;Êñ∞Â¢û&lt;/a&gt; &lt;a class=&quot;layui-btn layui-btn-xs&quot; lay-event=&quot;edit&quot;&gt;ÁºñËæë&lt;/a&gt; &lt;a class=&quot;layui-btn layui-btn-danger layui-btn-xs&quot; lay-event=&quot;del&quot;&gt;Âà†Èô§&lt;/a&gt;&lt;/script&gt; Ëøô‰∏â‰∏™ÂêéÁöÑlay-eventÁöÑÂÄºÂú®‰πãÂêé‰ºöÁî®Âà∞ÁöÑ„ÄÇ123table.on(&apos;tool(demo)&apos;, function(obj)&#123; //Ê≥®ÔºötoolÊòØÂ∑•ÂÖ∑Êù°‰∫ã‰ª∂ÂêçÔºådemoÊòØtableÂéüÂßãÂÆπÂô®ÁöÑÂ±ûÊÄß lay-filter=&quot;ÂØπÂ∫îÁöÑÂÄº&quot; var data = obj.data //Ëé∑ÂæóÂΩìÂâçË°åÊï∞ÊçÆ ,layEvent = obj.event; //Ëé∑Âæó lay-event ÂØπÂ∫îÁöÑÂÄº function(obj)ÁöÑobj‰º†ÂÖ•ËøõÊù•ÁöÑÊòØ‰∏Ä‰∫õÂèÇÊï∞Ôºåobj.data ÊòØËé∑ÂèñÊâÄÈÄâ‰∏≠ÁöÑÊï∞ÊçÆË°åÁöÑ‰∏Ä‰∫õÂÄºÔºåobj.Event Ëé∑ÂèñÁöÑÊòØÂâçÈù¢ÁöÑlay-eventÁöÑÂÄºÔºåÂú®‰πãÂêéÂèØ‰ª•Âà§Êñ≠if(layEvent === &#39;detail&#39;)ÔºåÁÑ∂ÂêéÂ∞±ÂèØ‰ª•ÂèäËøõË°åÊìç‰Ωú‰∫Ü„ÄÇ123456789layer.open(&#123; type: 1, title: &quot;Áî®Êà∑‰ø°ÊÅØ‰øÆÊîπ&quot;, closeBtn: 1, area: &apos;auto&apos;, shadeClose: true, skin: &apos;yourclass&apos;, content: &apos;&apos;// Âú®ËøôÈáåÂèØ‰ª•ÂÜôhtmlÊ†áÁ≠æÁÑ∂Âêé‰ºöÂú®ÈÇ£‰∏™Èù¢ÊùøÊòæÁ§∫‰∫Ü„ÄÇ &#125;) 12345layer.confirm(&apos;ÁúüÁöÑÂà†Èô§Ë°å‰πà&apos;, function(index)&#123; obj.del(); //Âà†Èô§ÂØπÂ∫îË°åÔºàtrÔºâÁöÑDOMÁªìÊûÑ //ÂêëÊúçÂä°Á´ØÂèëÈÄÅÂà†Èô§Êåá‰ª§ layer.close(index); $.ajax(&#123; confirmÂèØ‰ª•ÂºπÂá∫‰∏Ä‰∏™Ê°ÜÊù•Á°ÆËÆ§ÊòØÂê¶ËøõË°åÂà†Èô§‰ª•ÂÖçÁî®Êà∑ÁöÑËØØÊìç‰ΩúÔºåËÄåobj.del()ÂàôÊòØÂèØ‰ª•Âà†Èô§ËØ•Ë°å„ÄÇlayer.close()ÂàôÊòØÂèØ‰ª•ÂÖ≥Èó≠Ê¨°ÂØπËØùÊ°Ü„ÄÇËÄålay.messageÂàôÊòØ‰∏Ä‰∏™ÂºπÁ™óÔºåÁî®‰∫éÂú®È°µÈù¢‰∏äÊèêÁ§∫Áî®Êà∑ËøõË°å‰∫Ü‰ªÄ‰πàÊìç‰Ωú„ÄÇ ÂíåJquery‰∏ÄËµ∑‰ΩøÁî®Ëøô‰∏™UIÊ°ÜÊû∂ÊòØÂèØ‰ª•ÂíåJquery‰∏ÄËµ∑Êù•‰ΩøÁî®ÔºåJqueryÂèØ‰ª•ÂèëËµ∑ÂºÇÊ≠•ËØ∑Ê±Ç‰ªéËÄåÊù•ËøõË°å‰∏Ä‰∫õÊï∞ÊçÆÊìç‰Ωú„ÄÇ ‰ΩøÁî®Êà™ÂõæÔºö]]></content>
      <categories>
        <category>ÂâçÁ´Ø</category>
      </categories>
      <tags>
        <tag>UI</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆ∞Ë∏©ËøáÁöÑSpringMvcÁöÑ‰∏Ä‰∫õÂùë]]></title>
    <url>%2F2018%2F03%2F22%2F%E8%AE%B0%E8%B8%A9%E8%BF%87%E7%9A%84SpringMvc%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9D%91%2F</url>
    <content type="text"><![CDATA[Êó∂Èöî‰∏ÄÂπ¥Â§öÔºåÂÜçÊ¨°Âú®Êñ∞ÂÖ¨Âè∏ÊúüÈó¥Êé•Ëß¶‰∫ÜSpringMvcÔºåÁî±‰∫é‰πãÂâç‰∏ÄÊÆµÊó∂Èó¥ÂÜçÁî®PythonÂíåSpringBootÂÅöÈ°πÁõÆÔºåÊâÄ‰ª•‰∏ÄÊó∂Èó¥ÂØºËá¥SpringMvcÈÖçÁΩÆ‰∏≠Âá∫Áé∞‰∫ÜÂ•ΩÂ§öÂùëÔºåÈÅÇÈÄê‰∏ÄËÆ∞ÂΩïÔºö ÂÖ≥‰∫éDaoÂ±ÇÊâæ‰∏çÂà∞ÁöÑÂºÇÂ∏∏Âú®ÈÖçÁΩÆÁöÑËøáÁ®ã‰∏≠Ëøô‰∏™ÂºÇÂ∏∏Âá∫Áé∞ÁöÑÊ¨°Êï∞ÊòØÊúÄÂ§öÁöÑÔºå‰πüÊòØÊúÄÁÉ¶‰∫∫ÁöÑÔºå‰∏ÄËà¨ÊòØÁî±‰∫éÂú®ControllerÂ±Ç‰∏≠Êâæ‰∏çÂà∞ServiceÂ±ÇÔºåÁÑ∂ÂêéServiceÂ±ÇÁöÑImplÂú®Ëá™Âä®Ë£ÖÈÖçdaoÁöÑÊó∂ÂÄôÊâæ‰∏çÂà∞daoÔºåÊâÄ‰ª•ÂºÇÂ∏∏Â∞±‰ºöÊ≤øÁùÄserviceÂà∞ËææcontrllerÂ±ÇÔºå‰ΩÜÊòØÊÄªÁªìËµ∑Êù•ÔºåÂú®‰ªäÂ§©ÁöÑÈÖçÁΩÆ‰∏≠ÈÅáÂà∞ÁöÑÊÉÖÂÜµ‰∏ªË¶ÅÂèà‰ª•‰∏ãÂá†ÁßçÔºö web.xml‰∏≠ÁöÑÈÖçÁΩÆÂá∫Áé∞‰∫ÜÈîôËØØÔºöÂú®Spring5‰∏≠ÈªòËÆ§xmlÊñá‰ª∂ÊòØÂú®WEB-INF‰∏≠ÁöÑÔºå‰∫éÊòØ‰πüÂ∞±ÊÉ≥ÁùÄÂ∞ëÈÖçÁΩÆ‰∏ÄÁÇπÊòØ‰∏ÄÁÇπÁöÑÂéüÂàôÔºåÊâÄ‰ª•Âú®web.xml‰∏≠Âè™ÊòØÈÖçÁΩÆ‰∫ÜÂàÜÂèëÂô®„ÄÇ‰ΩÜÊòØ‰ªäÂ§©Âç¥Âú®ÂÖ∂‰∏≠ÂèëÁé∞‰∫Ü‰∏Ä‰∫õÂèØËÉΩ‰ºöÂØºËá¥DaoÂ±ÇÊâæ‰∏çÂà∞ÁöÑÂéüÂõ†ÔºåÂ¶Ç‰∏ãÊâÄÁ§∫ÊòØÊàë‰πãÂâçÂú®web.xml‰∏≠ÈÖçÁΩÆÁöÑ‰∏Ä‰∏™ËØ¶ÊÉÖÔºö12345678910&lt;servlet&gt; &lt;servlet-name&gt;spring-dispatcher&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;&lt;!-- ÈúÄË¶ÅwenmvcËøô‰∏™jarÂåÖ--&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;spring-dispatcher&lt;/servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; ÂØπÔºåÂ∞±ÊòØËøô‰πàÁÆÄÂçïÔºåÊâÄ‰ª•‰πüÊâçÂØºËá¥‰∫ÜDaoÂ±ÇÂá∫Èîô‰∫ÜÔºåÂÖ∑‰ΩìËß£ÈáäÂ¶Ç‰∏ãÔºöÂú®StackOverFlow‰∏≠ÂèëÁé∞Êúâ‰∏Ä‰∏™‰∫∫ÁöÑËß£ÈáäÂçÅÂàÜÁöÑÁã¨ÁâπÔºåÂ§ßÊÑèÊòØweb.xml‰∏≠ÁöÑÈÖçÁΩÆÊúâÈóÆÈ¢òÔºö1It is because the servlet-context.xml is placed inside the dispatcher servlet. Since dispatcher servlet is child of parent context, the parent context does not have the dependencies of child, So if you put the servlet-context.xml inside context param, and you must have the appServlet-servlet.xml inside the init param it will work fine. ‰∫éÊòØÊàëËá™Â∑±Â∞±‰øÆÊîπ‰∫Üweb.xmlËøô‰∏™Êñá‰ª∂Ôºå‰øÆÊîπ‰πãÂêéÁöÑweb.xmlÈÖçÁΩÆÂ¶Ç‰∏ã:1234567891011121314151617181920212223&lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt; &lt;/listener&gt; &lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt; classpath:ApplicationContext.xml &lt;/param-value&gt; &lt;/context-param&gt; &lt;servlet&gt; &lt;servlet-name&gt;spring-dispatcher&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt; classpath:spring-mvc.xml &lt;/param-value&gt; &lt;/init-param&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;spring-dispatcher&lt;/servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; ÁÑ∂ÂêéÈ©¨‰∏äÂ∞±ËøêË°åÊàêÂäü‰∫Ü„ÄÇ„ÄÇ„ÄÇ Ëøô‰∏™Â∞±Â±û‰∫éËá™Â∑±Á≤óÂøÉ‰∫ÜÂú®mapperÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊàëËøôËæπÊòØËøîÂõûÁöÑ‰∏Ä‰∏™ÈõÜÂêà„ÄÇÁÑ∂ÂêéÊ†áÁ≠æÊâìÈîô‰∫ÜÔºåÂ∞±Êàê‰∫ÜresultType‰∫éÊòØ‰∏ÄÁõ¥Âá∫ÈîôÔºåÂêéÊù•Êç¢Êàê‰∫ÜÊ≠£Á°ÆÁöÑresultMapÂ∞±Ê≠£Á°Æ‰∫Ü„ÄÇ ‰øÆÊîπweb.xml‰πãÂêéÂØºËá¥ÁöÑÂëΩÂêçÁ©∫Èó¥Âá∫Èîô‰∫Ü]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>webÂêéÁ´Ø</tag>
        <tag>spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éJavaÁöÑÈìæÂºè‰ª£ÁêÜ]]></title>
    <url>%2F2018%2F03%2F20%2F%E5%85%B3%E4%BA%8EJava%E7%9A%84%E9%93%BE%E5%BC%8F%E4%BB%A3%E7%90%86%2F</url>
    <content type="text"><![CDATA[ÂÖ≥‰∫éJavaÁöÑ‰ª£ÁêÜÊÄùË∑ØÔºö ‰∫ÜËß£EnhancerÁöÑÊÑè‰πâ Êü•ÁúãÁîüÊàêÁöÑÂ≠óËäÇÁ†ÅÔºàÂíåÂéüÊù•ÁöÑÂØπÊØîÔºâ ÂàÜÊûê‰ª£ÁêÜÁöÑÂå∫Âà´ ÂÆåÊàê‰ª£ÁêÜÈìæ È¶ñÂÖàÈúÄË¶ÅÊñ∞Âª∫‰∏Ä‰∏™‰ª£ÁêÜÁÆ°ÁêÜÁ±ªÔºåËøô‰∏™ÁÆ°ÁêÜÁ±ª‰ºöÂ≠òÂÇ®ÁõÆÊ†á‰ª£ÁêÜÁ±ªÔºåÁõÆÊ†á‰ª£ÁêÜÊñπÊ≥ïÔºå‰ª•Âèä‰∏Ä‰∏™ListÔºåList‰∏≠Â≠òÂÇ®ÁöÑÊòØ‰∏Ä‰∫õ‰ª£ÁêÜÁ±ªÔºåÊúÄÂêéÊòØÈúÄË¶Å‰∏Ä‰∏™Êìç‰ΩúÂ∞±ÊòØ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Âä®ÊÄÅ‰ª£ÁêÜ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆ∞‰∏ÄÊ¨°‰ΩøÁî®Spring5ÊûÑ‰ª∂WebÁöÑËøáÁ®ã]]></title>
    <url>%2F2018%2F03%2F20%2F%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8Spring5%E6%9E%84%E4%BB%B6Web%E7%9A%84%E8%BF%87%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[Áî±‰∫éÂΩìÊó∂Âú®Â≠¶‰π†SpringÁöÑÊó∂ÂÄôËøòÊòØÂú®‰∏ÄÂπ¥ÂâçÔºåÈÇ£Êó∂ÂÄôSpringÊâçÊòØÂàöÂà∞4.3ËøòÊòØ4.5.ÁÑ∂ÂêéÂÅö‰∫Ü‰∏Ä‰∏™È°πÁõÆ‰πãÂêé‰æø‰∫ÜËß£Âà∞‰∫ÜSpringBootÔºå‰∫éÊòØ‰∏ÄÁõ¥Âú®Áî®SpringBootÔºåÊâÄ‰ª•ÂØºËá¥Áé∞Âú®ÈÖçÁΩÆËµ∑Êù•Â∞±ÊúâÁÇπÂøòËÆ∞‰∫Ü„ÄÇÊâÄ‰ª•Áé∞Âú®ËÆ∞ÂΩï‰∏ãÊ≠§Ê¨°ÈÖçÁΩÆÁöÑËøáÁ®ã‰∏≠ÊâÄÈÅáÂà∞ÁöÑÂùë„ÄÇ Ë∏©ËøáÁöÑÂùëÔºöÈÅáÂà∞Âú®web.xml‰∏≠ÂàÜÂèëËØ∑Ê±ÇÁöÑÁ±ªÊâæ‰∏çÂà∞Á¨¨‰∏Ä‰∏™ÂùëÂ∞±ÊòØorg.springframework.web.servlet.DispatcherServletËøô‰∏™Á±ª‰∏ÄÁõ¥Êâæ‰∏çÂà∞Ôºõ‰∫éÊòØÂú®POM‰∏≠Ê∑ªÂä†‰∫Ü‰∏™ÂêÑÁßç‰æùËµñÁªà‰∫éÂèëÁé∞Áº∫Â∞ëSpring Web MVCËøô‰∏™‰æùËµñÂåÖ„ÄÇ„ÄÇ„ÄÇ12345&lt;servlet&gt; &lt;servlet-name&gt;spring-dispatcher&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;&lt;!-- ÈúÄË¶ÅwebmvcËøô‰∏™jarÂåÖ--&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; ÂºÄÂêØTomcatÁöÑÊó∂ÂÄô‰∏ÄÁõ¥ÊèêÁ§∫‰ªÄ‰πàCacheÈîôËØØÈîôËØØÊèêÁ§∫ÔºöCacheManager No Bean Found - Not Trying to setup any Cache ÂΩìÊó∂‰∏ÄÁõ¥Âú®Âà∞Â§ÑÊü•ÊâæÊòØÂê¶ÂºÄÂêØÊï∞ÊçÆÂ∫ì‰ªÄ‰πàÁöÑÔºåÂêéÊù•Âú®StackOverFlow‰∏≠Êü•ËØ¢Âà∞‰∫ÜÈóÆÈ¢òÁöÑËß£ÂÜ≥ÂäûÊ≥ïÔºöStackOverFlow‰∏≠ÂÖ≥‰∫éCacheÁöÑÈîôËØØÊ†πÊçÆ‰ªñ‰∫∫ÁöÑÁ≠îÊ°àÂÅö‰∏Ä‰∏™ÊÄªÁªìÂ∞±ÊòØÔºöÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂèëÁé∞Ëã•Êñá‰ª∂‰∏≠Âê´Êúâ&lt;txÁöÑËØùÔºåIDEA‰ºöËá™Âä®ÁöÑÂ∞ÜÂºïÂÖ•Á±ª‰ºº***/cacheÁ≠âÁöÑxsdÊñá‰ª∂ÔºåÊâÄ‰ª•ÂØºËá¥‰∫ÜËøô‰∏™ÂºÇÂ∏∏ÁöÑÂá∫Áé∞„ÄÇÊâÄ‰ª•‰∏ÄËà¨Êù•ËØ¥Âèà‰∏§ÁßçËß£ÂÜ≥ÂäûÊ≥ï„ÄÇ Áî®IDEAÁöÑÊ®°ÊùøÁõ¥Êé•ÂàõÂª∫springÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºöËøáÁ®ãÔºöFile -&gt; new -&gt; XMLConfigurationFile -&gt; Spring Config ÁÑ∂ÂêéSpringËá™Âä®ÁöÑÂ∞ÜÊâÄÈúÄË¶ÅÁöÑÂëΩÂêçÁ©∫Èó¥Ê∑ªÂä†Âà∞‰∫ÜÊñ∞Âª∫ÁöÑxmlÊñá‰ª∂‰∏≠„ÄÇÊ≠§Êó∂Âè™ÈúÄË¶ÅÊ∑ªÂä†Áõ∏Â∫îÁöÑÊ†áÁ≠æÂç≥ÂèØ„ÄÇ Âà†Èô§ÂØºËá¥ÂºÇÂ∏∏ÁöÑxsdÊ≠•È™§ÔºöÂú®xmlÈÖçÁΩÆÊñá‰ª∂‰∏≠Âà†Èô§ÊéâÂ∏¶ÊúâcacheÁöÑÁöÑxsd ÈùôÊÄÅËµÑÊ∫êÁöÑÈÖçÁΩÆÂíåÂºïÁî®Âú®ÂéªÂπ¥ÈÖçÁΩÆÈùôÊÄÅËµÑÊ∫êÁöÑÊó∂ÂÄô‰∏é‰ªäÂπ¥ÁöÑÁõ∏Â∑ÆÊó†Âá†Ôºå‰ΩÜÊòØÂú®ÂºïÁî®ÁöÑÊó∂ÂÄôÂç¥Âá∫Áé∞‰∫Ü‰∏Ä‰∫õÂèòÂåñ„ÄÇÂéªÂπ¥ÂÅöÈ¢òÁöÑÁΩëÁ´ôÁöÑ‰ª£Á†ÅÔºö1234567891011121314151617181920ÂéªÂπ¥Ëé∑ÂèñÈùôÊÄÅËµÑÊ∫êÁöÑÈÖçÁΩÆÔºö &lt;mvc:resources mapping=&quot;/static/**&quot; location=&quot;/static/&quot; /&gt; &lt;mvc:resources mapping=&quot;/static/**&quot; location=&quot;/static/&quot; /&gt; &lt;mvc:resources mapping=&quot;/uploadimg/**&quot; location=&quot;/uploadimg/&quot; /&gt;ÂéªÂπ¥ÁöÑjspÊñá‰ª∂‰∏≠ÁöÑÂºïÁî®Ôºö&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;utf-8&quot;%&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Ëß£È¢òÁõÆÂΩï&lt;/title&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;$&#123;pageContext.request.contextPath&#125;/static/js/jquery-3.1.1.min.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;$&#123;pageContext.request.contextPath &#125;/static/js/bootstrap.js&quot;&gt;&lt;/script&gt;&lt;link rel=&quot;stylesheet&quot; href=&quot;$&#123;pageContext.request.contextPath &#125;/static/css/bootstrap.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; href=&quot;$&#123;pageContext.request.contextPath &#125;/static/css/bootstrap-theme.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; href=&quot;$&#123;pageContext.request.contextPath &#125;/static/css/examination.css&quot;&gt; ÂæàÊòéÊòæÂèØ‰ª•ÁúãÂà∞ÔºöÂú®jsp‰∏≠ÊòØÈ¶ñÂÖàËé∑ÂèñÂà∞È°πÁõÆÁõÆÂΩïÁÑ∂Âêé‰ª•ÁªùÂØπË∑ØÂæÑÊù•Ëé∑ÂèñÈùôÊÄÅËµÑÊ∫ê ‰ªäÂ§©Êñ∞Âª∫ÁöÑÈ°πÁõÆÔºö12345678910111213xmlÈÖçÁΩÆÊñá‰ª∂Ôºö &lt;mvc:resources mapping=&quot;/static/**&quot; location=&quot;/WEB-INF/static/&quot; /&gt; &lt;mvc:resources mapping=&quot;/static/**&quot; location=&quot;/WEB-INF/static/&quot; /&gt; &lt;mvc:resources mapping=&quot;/uploadimg/**&quot; location=&quot;/WEB-INF/uploadimg/&quot; /&gt;jspÊñá‰ª∂‰∏≠ÁöÑÂºïÁî®Ôºö&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Title&lt;/title&gt; &lt;link href=&quot;../static/css/TestPage.css&quot; rel=&quot;stylesheet&quot;&gt;&lt;/head&gt; Âú®ËøôÈáå‰ºöÂèëÁé∞‰ªäÂ§©Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÂºïÁî®Â§ö‰∫Ü‰∏Ä‰∏™WEB-INFÁÑ∂ÂêéÂÜçÊòØstaticÊñá‰ª∂Â§π ÂÖ≥‰∫é‰∏∫‰ªÄ‰πàxmlÁé∞Âú®ÈªòËÆ§Âú®WEB-INF‰∏≠ÔºöÂú®ÂéªÂπ¥ÁöÑÊó∂ÂÄôËÆ∞ÂæóspringÁöÑÈÖçÁΩÆÊñá‰ª∂ÈÉΩÊòØÂú®resources‰∏≠ÁöÑÔºå‰ΩÜÊòØ‰ªäÂ§©Âç¥ÂèëÁé∞Âú®resources‰∏≠ÈÖçÁΩÆÁöÑËØùÂêØÂä®tomcat‰ºöÂØºËá¥‰∏ÄÊù°ÊèêÁ§∫Â∞±ÊòØIOException parsing XML document from ServletContext resource [/WEB-INF/XXXXXX]ÂêéÊù•Êü•ËØ¢Âà∞ÂèëÁé∞ÊòØÂèØ‰ª•‰øÆÊîπÁöÑÔºåÈªòËÆ§ÁöÑËØùÁõ¥Êé•Âú®WEB-INF‰∏≠ÊåâÁÖßÂâçÈù¢ÂàõÂª∫xmlÁöÑÊñπÂºèÂàõÂª∫‰∏Ä‰∏™Âç≥ÂèØÔºå‰ΩÜÊòØËã•ÈúÄË¶Å‰øÆÊîπÁöÑËØùÂèØ‰ª•ÂèÇÁÖß‰∏Ä‰∏ãÈÖçÁΩÆÔºö12345678910111213141516171819Ëøô‰∏™xmlÈÖçÁΩÆË°®Á§∫ÁöÑÊòØÂü∫Êú¨ÈÖçÁΩÆÁöÑApplication.xmlÁöÑ‰ΩçÁΩÆ&lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt; classpath:ApplicationContext.xml &lt;/param-value&gt;&lt;/context-param&gt;Ëøô‰∏™ÊòØÈÖçÁΩÆÂàÜÂèëÂô®ÁöÑÈÖçÁΩÆÊñá‰ª∂ÁöÑ‰ΩçÁΩÆÔºö&lt;servlet&gt; &lt;servlet-name&gt;springDefault&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt; classpath:spring-mvc.xml &lt;/param-value&gt; &lt;/init-param&gt; &lt;/servlet&gt; ÂèØ‰ª•ÂèëÁé∞Âú®ÂéªÂπ¥ÁöÑÊó∂ÂÄôÈÉΩÊòØÂà∂ÂÆö‰∫ÜÈÖçÁΩÆÊñá‰ª∂ÁöÑË∑ØÂæÑÁöÑÔºåÊâÄ‰ª•ÊâçÂèØ‰ª•Âú®resources‰∏≠ÈÖçÁΩÆxmlÔºå‰ΩÜÊòØÂÜçÁúã‰ªäÂπ¥ÁöÑÈÖçÁΩÆÔºö12345678910&lt;servlet&gt; &lt;servlet-name&gt;spring-dispatcher&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;&lt;!-- ÈúÄË¶ÅwenmvcËøô‰∏™jarÂåÖ--&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;spring-dispatcher&lt;/servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; ‰ºöÂèëÁé∞ÈÉΩÊ≤°ÈÖçÁΩÆÂ•ΩÔºåÊâÄ‰ª•‰ºöÂá∫Áé∞ÈúÄË¶ÅÈÖçÁΩÆÂú®ÈªòËÆ§ÁöÑ‰ΩçÁΩÆ‰∏ä„ÄÇStackOverFlow‰∏≠ÈªòËÆ§WEB-INFÈÖçÁΩÆÁöÑËß£Èáä]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆ∞‰∏ÄÊ¨°sqlÂµåÂ•óÊü•ËØ¢ÁöÑ‰ΩøÁî®ÊñπÊ≥ï]]></title>
    <url>%2F2018%2F03%2F16%2F%E8%AE%B0%E4%B8%80%E6%AC%A1sql%E5%B5%8C%E5%A5%97%E6%9F%A5%E8%AF%A2%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ËÆ∞‰∏ÄÊ¨°sqlÂµåÂ•óÊü•ËØ¢ÁöÑ‰ΩøÁî®ÊñπÊ≥ï‰∏ÄËà¨Êù•ËÆ≤Âú®sql‰∏≠ÂµåÂ•óÊü•ËØ¢Âú®where‰πãÂêé‰ª•‰æø‰∫éÊü•ËØ¢ËåÉÂõ¥ÁöÑÈôêÂà∂„ÄÇÁé∞Âú®Êúâ‰∏Ä‰∏™ÊÉÖÂÜµÂ∞±ÊòØÂ∞±ÊòØÁé∞Âú®ÂµåÂ•óÊü•ËØ¢ÁöÑËØùÊòØÈúÄË¶ÅÊü•ËØ¢Âá∫ÁªìÊûúÂÄºÁÑ∂ÂêéËøîÂõû‰∏∫‰∏Ä‰∏™Â≠óÊÆµ„ÄÇ ÊÄùË∑ØÔºöÊÄùË∑Ø‰∏ÄÔºöÊó¢ÁÑ∂ÈúÄË¶ÅËøîÂõûÁöÑÊòØ‰∏Ä‰∏™Â≠óÊÆµÔºåÈÇ£‰πàÊòØÈúÄË¶Å‰∏Ä‰∏™ÂµåÂ•óÊü•ËØ¢ÔºåÊâÄ‰ª•‰∏ÄËà¨ÁöÑË°®ËææÂºèÊòØÔºöselect &lt;Ë°®ËææÂºè&gt;Ôºàselect&lt;Ë°®ËææÂºè&gt;Ôºâas nameËøôÊ†∑‰Ωú‰∏∫‰∏Ä‰∏™Êü•ËØ¢„ÄÇÈ¶ñÂÖàÂú®Êã¨Âè∑()ÈáåÈù¢ÁöÑ‰∏Ä‰∏™selectËØ≠Âè•ÊòØÂèØ‰ª•‰Ωú‰∏∫‰∏Ä‰∏™Â≠óÊÆµÁöÑÔºåÂèØ‰ª•ÈÄöËøáÂú®ÂêéÈù¢Âä†‰∏Ä‰∏™as Â≠óÊÆµ‰ªéËÄåËøîÂõûÁöÑÊòØ‰∏Ä‰∏™Â≠óÊÆµ„ÄÇ„ÄÅÈÇ£‰πàËøôÊ†∑‰π¶ÂÜôsql‰πãÂêé‰æøÂèØ‰ª•‰Ωú‰∏∫‰∏Ä‰∏™Â≠óÊÆµÁÑ∂ÂêéËøîÂõûÁªìÊûú‰∫Ü„ÄÇ‰ΩÜÊòØËøôÊ†∑ÂÜôÊúâ‰∏Ä‰∏™ÂºäÁ´ØÔºåÂ∞±ÊòØËã•Ê≤°ÊúâgroupbyÔºåÂàô‰ºöÂØºËá¥Êü•ËØ¢Âá∫Êù•ÁöÑÊï∞ÊçÆ‰ºöÊúâÂ§ö‰ΩôÈáçÂ§çÂæó„ÄÇÁ±ª‰ºº‰∏ãÈù¢ËøôÊù°sqlÔºö123SELECT * ,(SELECT SUM(CASE WHEN car_information.`car_status` =&apos;1&apos; THEN 1 ELSE 0 END)FROM car_information WHERE car_information.`cat_place`=&apos;Ê≠¶Ê±â&apos;) AS &apos;weifacishi&apos; FROM car LEFT JOIN car_information ON car.`car_num`=car_information.`car_num` ; Êü•ËØ¢ÁªìÊûúÔºö ÂèØ‰ª•ÁúãÂà∞ÈáçÂ§ç‰∫ÜËÆ∏Â§öÊï∞ÊçÆÔºåÊâÄ‰ª•Ë°®ÊòéÈúÄË¶ÅÂÆûÁé∞Ëøô‰∏™Êü•ËØ¢ÈõÜÂêàÈúÄË¶Å‰øÆÊîπsqlËØ≠Âè•„ÄÇ ÊÄùË∑Ø‰∫åÔºöÂΩìÁúãÂà∞ËøôÁßçÂÜôÊ≥ïÂá∫Áé∞ÈáçÂ§çÂæóÊó∂ÂÄôÔºå‰æøÂÜ≥ÂÆöËøô‰∏™sqlÂøÖÈ°ªËøõË°ågroupbyÔºåÈ¶ñÂÖàÂÜô‰∫Ü‰∏Ä‰∏™sqlÊù•ÊµãËØïgroupbyÂæóÔºåÂèëÁé∞ÂèØ‰ª•„ÄÇ12SELECT car_information.`car_num`,car_information.`cat_place`, SUM(CASE WHEN car_information.`car_status` = &apos;1&apos; THEN 1 ELSE 0 END) AS &apos;weifacishi&apos; FROM car_information GROUP BY car_information.`car_num`; Êü•ËØ¢ÁªìÊûúÔºö ÂèëÁé∞ÔºåÊÄùË∑ØÁ°ÆÂÆûÊòØÂØπÁöÑÔºåÂè™‰∏çËøáÈúÄË¶ÅÂØπsqlÈáçÊñ∞ËøõË°åÊéíÂ∫è„ÄÇ ÊÄùË∑Ø‰∏âÔºöÊúâ‰∫Ü‰∏äÈù¢Âæó‰∏§Ê≠•‰πãÂêé‰æøÂ∑Æ‰∏çÂ§öÁü•ÈÅìÂ¶Ç‰ΩïËøõË°åÊìç‰Ωú‰∫ÜÔºöÈ¶ñÂÖàÂ∫îËØ•ËøõË°å‰∏Ä‰∏™Â∑¶ËøûÊé•Ôºå‰ª•carË°®‰∏∫Â∑¶Ë°®Ôºåcar_information‰∏∫Âè≥Ë°®„ÄÇËøûÊé•‰πãÂêéÂÜçËøô‰∏™ÁªìÊûúÈõÜ‰∏≠ËøõË°ågroupbyÁÑ∂ÂêéÁªüËÆ°„ÄÇ 1SELECT * FROM (SELECT car.`car_num`,car.`car_wearhouse`,car_information.`car_status` FROM car LEFT JOIN car_information ON car.`car_num`=car_information.`car_num`) AS t GROUP BY t.car_num; ÁªìÊûúÂ¶Ç‰∏ãÔºö ÊÄªÁªìÔºö Âú®sqlËØ≠Âè•‰∏≠ÔºåÂá†‰∏™Ë°®‰πãÈó¥ÂæóËøûÊé•ÊòØÂèØ‰ª•ÂÅö‰∏Ä‰∏™ÁªìÊûúÈõÜÂæóÔºåËøô‰∏™ÁªìÊûúÈõÜÂèØ‰ª•ÈÄöËøáasÂëΩÂêç‰∏∫Âà´ÂêçÁÑ∂ÂêéÈÄöËøáÊìç‰ΩúËøô‰∏™Âà´ÂêçÊù•Êìç‰ΩúÔºõ ‰∏çÁêÜËß£ÂæóÂú∞ÊñπÔºö Âú®sql‰∏≠select t.XXXËøô‰∏™tÊòØÂêéÊù•ÊâçË¢´ÂëΩÂêçÂæóÔºå‰ΩÜÊòØÂú®‰πãÂâçÂç¥ÊòØÂèØ‰ª•‰ΩøÁî®ÂæóÔºåÂõ†Ê≠§ÊÉ≥Áü•ÈÅìsqlÂæóËøêË°åÂéüÁêÜ‚Äî‰ª•ÂêéÂÜç‰∫ÜËß£ Âú®sql‰∏≠ÁªüËÆ°ÂæóÁî®Ê≥ïcase when XX==&#39;XX&#39; then 1 else 0 endÔºåÂπ∂‰∏îÂµåÂ•óÂæó‰ΩøÁî®Âæó() as ‚ÄòXXX‚Äô ÂÖ∂‰ΩôÁöÑ‰ª•ÂêéÂÜçË°•ÂÖÖ Ë°•ÂÖÖ‰∏ÄÔºöÂú®sql‰∏≠Â∑¶ËøûÊé•ÂíåÂÜÖËøûÊé•ÁöÑ‰ºòÂÖàÈÄâÊã©ÈóÆÈ¢òÔºåÂÜÖËøûÊé•‰ºöËøîÂõûÂú®‰∏§Ë°®‰∏≠ÈÉΩÂåÖÂê´ÁöÑÂÄºÔºåËÄåÂ∑¶ËøûÊé•ÁöÑËØùÔºåÂΩìÂè≥ËæπÁöÑË°®Êï∞ÊçÆÂú®Â∑¶Ë°®‰∏≠‰∏çÂ≠òÂú®ÁöÑÊó∂ÂÄô‰ºöÂá∫Áé∞nullÔºåËÄåÂÜÖËøûÊé•Âàô‰∏ç‰ºö‰∫ßÁîüËøôÁßçÊÉÖÂÜµ„ÄÇËøòÊúâÂ∞±ÊòØUNIONÁöÑ‰ΩøÁî®ÔºåunionÂú®‰∏§Âº†Ë°®ËøîÂõûÁöÑÁªìÊûúÈõÜÊòØ‰∏ÄÊ†∑ÁöÑËØùËÄå‰∏î‰∏§Ë°®ÈúÄË¶ÅÊãºÊé•ÁöÑËØùÊòØÈùûÂ∏∏ÊúâÊïàÁöÑ]]></content>
      <categories>
        <category>Êï∞ÊçÆÂ∫ì</category>
      </categories>
      <tags>
        <tag>mysqlÂµåÂ•óÊü•ËØ¢</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeÁöÑ‰∏ÄÈÅìÂ≠óÁ¨¶‰∏≤È¢òÁõÆÔºöÊúÄÈïø‰∏çÈáçÂ§çÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶]]></title>
    <url>%2F2018%2F03%2F14%2FLeetCode%E7%9A%84%E4%B8%80%E9%81%93%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%A2%98%E7%9B%AE%EF%BC%9A%E6%9C%80%E9%95%BF%E4%B8%8D%E9%87%8D%E5%A4%8D%E7%9A%84%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6%2F</url>
    <content type="text"><![CDATA[ÊâæÂá∫ÊúÄÈïøÁöÑ‰∏çÈáçÂ§çÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤È¶ñÂÖà‰∏ÄÊãøÂà∞Ëøô‰∏™È¢òÁõÆÁöÑÊó∂ÂÄôÊÉ≥Âà∞Âà©Áî®setÈõÜÂêàÊù•Â≠òÂÇ®Â≠êÂ≠óÁ¨¶‰∏≤ÔºåÂΩìÂèëÁé∞Âê´ÊúâÈáçÂ§çÁöÑÂ≠óÁ¨¶ÁöÑÊó∂ÂÄôÂ∞±Â∞ÜËøô‰∏™setÊ∏ÖÈõ∂„ÄÇËøô‰∏™ÂÅöÊ≥ïÊúâ‰∏Ä‰∏™ÊòéÊòæÁöÑÁº∫ÁÇπÂ∞±ÊòØÂΩìÂ≠êÂ≠óÁ¨¶‰∏≤‰∏≠ÁöÑÊüê‰∏Ä‰∏™Â≠óÁ¨¶ÂíåÂêéÈù¢ÁöÑÈáçÂ§çÁöÑËØùÔºåÈÇ£‰πàÂêéÈù¢‰∏çË°åÂêåÁöÑ‰πü‰ºöË¢´Ê∏ÖÊ•öÔºö‰æãÂ¶ÇdfvfabÔºåÂú®Ëøô‰∏™ÈáåÈù¢vfabÂ∫îËØ•ÊòØÊúÄÁü≠ÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤Ôºå‰ΩÜÊòØËøôÊó∂ÂÄôËøô‰∏™ÊñπÊ≥ï‰ºöËæìÂá∫ÈîôËØØÁöÑÂÄº„ÄÇ ÊÄùË∑ØÔºöËá™Â∑±ÊÉ≥‰∏çÂà∞Ëß£Ê≥ï‰πãÂêéÂ∞±ÂèÇËÄÉ‰∫ÜSolution2ÔºåËøô‰∏™ÊñπÊ≥ïÊÉ≥‰∫Ü‰∏ã‰πüÊå∫Â•ΩÁöÑÔºåÈÅÇËÆ∞ÂΩï‰∏ãÔºöËØ•ÊñπÊ≥ïÊòØËÆæÁΩÆ‰∏§‰∏™Ê∏∏Ê†áÔºå‰∏Ä‰∏™Âú®ÂâçÔºå‰∏Ä‰∏™Âú®Âêé(ÂÆö‰πâ‰∏∫i,j)ÔºåÂΩìÂâçÈù¢ÁöÑ‰∏Ä‰∏™ÂèëÁé∞Âú®setÈõÜÂêà‰∏≠Âê´ÊúâÈáçÂ§çÁöÑÂ≠óÁ¨¶ÔºåÈÇ£Ê≠§Êó∂ÂÅúÊ≠¢i,ÁÑ∂ÂêéjËá™Â¢ûÔºåÂΩìÂèëÁé∞Âú®setÈõÜÂêà‰∏≠Â∑≤ÁªèÂ∞ÜÈáçÂ§çÁöÑÈÇ£‰∏™Â≠óÁ¨¶ÂâîÈô§‰πãÂêéÔºåÊ≠§Êó∂Âú®iËá™Â¢û123456789101112131415161718192021222324252627282930313233public int lengthOfLongestSubstring(String s) &#123; //ÈîôËØØÁöÑÊÄùË∑ØÔºå‰ª•‰∏∫Â≠òÂÖ•setÂ∞±ÂèØ‰ª• // if (s == null || s.length() == 0)&#123; // return 0; // &#125; // Set&lt;Character&gt; set =new HashSet&lt;&gt;(); // int max=0; // for (int i =0 ;i&lt; s.length() ;i++)&#123; // char c = s.charAt(i); // if (set.contains(c))&#123; // set.clear(); // &#125; // set.add(c); // if (set.size() &gt; max)&#123; // max = set.size(); // &#125; // &#125; // return max; if(s == null || s.length() ==0)&#123; return 0; &#125; Set&lt;Character&gt; set =new HashSet&lt;&gt;(); int i=0,j=0,result=0,n=s.length(); while(i &lt; n &amp;&amp; j &lt;n)&#123; if(!set.contains(s.charAt(j)))&#123; set.add(s.charAt(j++)); result=Math.max(result,j-i); &#125;else&#123; set.remove(s.charAt(i++)); &#125; &#125; return result; &#125; ‰∏éÊ±ÇÊúÄÈïøÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤ÔºàÊú¥Á¥†Ê±ÇËß£Ê≥ïÔºâÁõ∏ÊØîËæÉÔºöÊú¥Á¥†Ê±ÇËß£Ê≥ïÁöÑ‰∏ÄËà¨Ê≠•È™§ÊòØÂ∑≤ÁªèÁªôÂá∫‰∫ÜÂ≠êÂ≠óÁ¨¶‰∏≤ÔºåÁÑ∂ÂêéÂà§Êñ≠ÊòØÂê¶ÊòØÂè¶‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤„ÄÇÈÇ£‰πàÊ≠§Êó∂Êó¢ÁÑ∂Â∑≤Áü•Â≠êÂ≠óÁ¨¶‰∏≤ÁöÑËØùÔºåÂÖ∂Ê≠•È™§Â∞±ÊòØÈÄöËøáÂ≠êÂ≠óÁ¨¶‰∏≤‰æùÊ¨°ÊØîËæÉ ‰∏éÂà§Êñ≠ÈìæË°®ÊàêÁéØÁõ∏ÊØîËæÉÔºöÂà§Êñ≠ÈìæË°®ÊàêÁéØ‰πüÊúâ‰∏Ä‰∏™Âø´ÊÖ¢ÊåáÈíàÁöÑÊñπÊ≥ïÔºå‰ΩÜÊòØÂú®ÈÇ£‰∏™Âø´ÊÖ¢ÊåáÈíà‰∏≠ÔºåÂø´ÊÖ¢ÊåáÈíàÈÉΩÊòØÂêåÊó∂Âú®ÂèòÂåñÁöÑ]]></content>
      <categories>
        <category>Leetcode</category>
      </categories>
      <tags>
        <tag>Â≠óÁ¨¶‰∏≤Áõ∏ÂÖ≥</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÈÄöËøáÂèçÂ∞ÑÁî®ÊåáÂÆöÊûÑÈÄ†Âô®ÂàùÂßãÂåñ]]></title>
    <url>%2F2018%2F03%2F12%2FJava%E9%80%9A%E8%BF%87%E5%8F%8D%E5%B0%84%E7%94%A8%E6%8C%87%E5%AE%9A%E6%9E%84%E9%80%A0%E5%99%A8%E5%88%9D%E5%A7%8B%E5%8C%96%2F</url>
    <content type="text"><![CDATA[JavaÈÄöËøáÂèçÂ∞ÑÁî®ÊåáÂÆöÊûÑÈÄ†Âô®ÂàùÂßãÂåñÈ¶ñÂÖàÔºå ‰∏ÄËà¨Êù•ËÆ≤Âú®Java‰∏≠ÂàùÂßãÂåñ‰∏Ä‰∏™Á±ªÊòØÈÄöËøánewÊù•Êìç‰ΩúÁöÑÔºå ‰ΩÜÊòØÊúâ‰∏ÄÁßçÊÉÖÂÜµÂç¥‰∏çÈÄÇÂêàËøôÁßçnewÊìç‰ΩúÔºåÈÇ£Â∞±ÊòØÈÄöËøáÈÖçÁΩÆÊñá‰ª∂Êù•ËøõË°åÂÆû‰æãÂåñÊìç‰Ωú„ÄÇ ‰æãÂ¶ÇÔºåÂú®Spring‰∏≠ÔºåÈúÄË¶ÅÂä†ËΩΩÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÁ±ªÔºåËøôÊòØÊØîËæÉÂ∏∏ËßÅÁöÑÈÖçÁΩÆ„ÄÇ ÈÇ£‰πàÂú®SpringÂêØÂä®Á±ª‰∏≠Â¶Ç‰ΩïÂ∞ÜËøô‰∏™Á±ªÂä†ËΩΩËøõÂÆπÂô®‰∏≠Âë¢ÔºåÊòæÁÑ∂ËøõË°ånewÊìç‰ΩúÊòØ‰∏çÂ§™Áé∞ÂÆûÁöÑ„ÄÇ ËøôÊó∂ÂÄôÂ∞±ÈúÄË¶ÅJavaÁöÑÂèçÂ∞ÑÊìç‰Ωú‰∫ÜÔºåJavaÁöÑÂèçÂ∞ÑÊìç‰Ωú‰∏ÄËà¨Êù•ËÆ≤Êúâ‰∏§ÁßçÔºöÂàÜÂà´ÊòØClass.forName()ÂíåclassLoader.loadCLass() ÊúÄÂêéÈÉΩÊòØÈÄöËøánewInstance() Êù•ËøõË°åÂàùÂßãÂåñÔºå‰ΩÜÊòØÂú®ËøôÈáåÂç¥ÂèëÁé∞ÂÅáËÆæÂèçÂ∞ÑÁöÑÁ±ª‰∏≠Âê´ÊúâÂ∏¶ÂèÇÊï∞ÁöÑÊûÑÈÄ†Âô®ÔºåÈÇ£‰πàÊ≠§Êó∂Ëøô‰∏™newInstance()Â∞±‰ºöÊäõNoSuchMethodException ÔºåËøôÊòØÂõ†‰∏∫newInstance()Âõ†‰∏∫‰∏çÂä†ÂèÇÊï∞ÊâÄ‰ª•Ë∞ÉÁî®ÁöÑÊòØÈªòËÆ§ÊûÑÈÄ†Âô®ÔºåËÄåÂèçÂ∞ÑÁ±ª‰∏≠Â∑≤ÁªèÂåÖÂê´‰∫ÜÂ∏¶ÂèÇÊï∞ÁöÑÊûÑÈÄ†Âô®ÔºåÊâÄ‰ª•Êó†‰∏çÂ∏¶ÂèÇÊï∞ÊûÑÈÄ†Âô®ÔºåÈÅÇÊäõÂá∫ÂºÇÂ∏∏„ÄÇ ‰ΩÜÊòØÊ≠§Êó∂newInstance()ÊòØÂä†‰∏ç‰∫ÜÂèÇÊï∞ÁöÑÔºåÊâÄ‰ª•Ëã•ÈúÄË¶ÅÈÄöËøáÂà∂ÂÆöÊûÑÈÄ†Âô®Êù•ËøõË°åÂèçÂ∞ÑÁöÑËØùÈúÄË¶Å‰∏Ä‰∏™Á±ªÂè´ConstructorÔºå Êñ∞Âª∫‰∏Ä‰∏™ÂÆû‰ΩìÁ±ªÔºö 1234567891011121314151617181920package reflec.cglib_test.ConstructTest;public class Entity1 &#123; static &#123; System.out.println(&quot;staticÂàùÂßãÂåñ&quot;); &#125; public Entity1() &#123; &#125; int id; String name; public Entity1(int id, String name) &#123; this.id = id; this.name = name; &#125; public void say()&#123; System.out.println(this.id); System.out.println(this.name); &#125;&#125; ÂèçÂ∞ÑÊµãËØïÔºö 1234567891011121314151617package reflec.cglib_test.ConstructTest;import java.lang.reflect.Constructor;import java.lang.reflect.InvocationTargetException;public class Test1 &#123; public static void main(String[] args) throws NoSuchMethodException, IllegalAccessException, InvocationTargetException, InstantiationException, ClassNotFoundException &#123;// Entity1 en2=Entity1.class.getConstructor(int.class,String.class).newInstance(1,&quot;2&quot;);// Class.forName(&quot;reflec.cglib_test.ConstructTest.Entity1&quot;).newInstance();// Test1.class.getClassLoader().loadClass(&quot;reflec.cglib_test.ConstructTest.Entity1&quot;);// en2.say(); &#125; private static void do1(Object object)&#123; System.out.println(object.getClass().getName().toString()); &#125;&#125; Âú®‰∏äÈù¢ÁöÑTest1‰∏≠Ôºå‰∏ãÈù¢‰∏§Ë°åÂú®newInstance()‰∏≠Ê∑ªÂä†ÂèÇÊï∞ÁöÑËØùÊòØ‰ºöÊèêÁ§∫Âá∫ÈîôÁöÑ„ÄÇÈÇ£‰πàÂ¶Ç‰ΩïË∞ÉÁî®Âì™‰∏™Â∏¶ÂèÇÊï∞ÁöÑÊûÑÈÄ†Âô®Âë¢Ôºü ËøôÂ∞±ÊòØConstructor Á±ªÁöÑÂäüËÉΩ‰∫ÜÔºå‰ªñÂèØ‰ª•ÈÄöËøáClass.getConstructor()Êù•ÈÄâÊã©ÂèÇÊï∞ÔºåÂú®ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØintÂèäÂÖ∂‰ªñÁöÑjavaÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÈÉΩÊòØÂéüÁîüÁöÑÁ±ªÔºåÈùûÂ∞ÅË£ÖÁ±ª„ÄÇ‰πãÂêéÂÜçnewInstance()‰∏≠ËæìÂÖ•ÂèÇÊï∞Êó¢ÂèØ‰ª•ÂèçÂ∞ÑË∞ÉÁî®‰∫Ü„ÄÇ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>javaÈ´òÁ∫ßÁâπÊÄß</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆ∞‰∏ÄÊ¨°springboot-mybatisÊâæ‰∏çÂà∞daoÂ±ÇÁöÑÈîôËØØ]]></title>
    <url>%2F2018%2F03%2F05%2F%E8%AE%B0%E4%B8%80%E6%AC%A1springboot-mybatis%E6%89%BE%E4%B8%8D%E5%88%B0dao%E5%B1%82%E7%9A%84%E9%94%99%E8%AF%AF%2F</url>
    <content type="text"><![CDATA[ÂÜô‰∫Ü‰∏â‰∏™Â§öÊúàÁöÑPythonÔºå‰ªäÂ§©ÂÜçÂÜô‰∏Ä‰∏™springboot-mybatisÁöÑÈ°πÁõÆÁöÑÊó∂ÂÄôÂ•ΩÂ§ö‰∏úË•øÈÉΩÂøòËÆ∞‰∫ÜÔºåÂ∞§ÂÖ∂ÊòØÂú®‰ªäÂ§©‰∏ãÂçàÈÅáÂà∞‰∫Ü‰∏Ä‰∏™ÂÖ≥‰∫émybatisÁöÑÈîôËØØÔºö12345678Description:Field peopleDao in com.example.serviceImpl.PeopleServiceImpl required a bean of type &apos;com.example.dao.PeopleDao&apos; that could not be found.Action:Consider defining a bean of type &apos;com.example.dao.PeopleDao&apos; in your configuration ÂæàÊòéÊòæÂ∞±ÊòØdaoÂ±ÇÊó†Ê≥ïË¢´Êâ´ÊèèÂà∞ÔºåÂú®‰∏Ä‰∏ãÂçàÁöÑÂ∞ùËØï‰∏≠ÔºåÈ¶ñÂÖàÊ£ÄÊü•‰∫ÜÂåÖÁªìÊûÑÔºåÂ¶Ç‰∏ã:com‚Äîexample‚Äî‚Äîcontroller‚Äî‚Äî‚Äî‚ÄîXXX.java‚Äî‚Äîdao‚Äî‚Äî‚Äî‚ÄîXXX.java‚Äî‚Äî‚Äì***‚Äî‚ÄîApplication.java ‰πüÂ∞±ÊòØËØ¥Ëøô‰∏™ÂåÖÁªìÊûÑÊòØÂÆåÂÖ®Á¨¶ÂêàspringbootÁöÑËßÑËåÉÁöÑÔºå‰πüÂ∞±Ë°®Á§∫Âú®ÂêØÂä®Á±ª‰∏äÈù¢ÁöÑÊ≥®Ëß£ÊòØÂÆåÂÖ®ÂèØ‰ª•Êâ´ÊèèÂà∞daoÂåÖ‰∏ãÈù¢ÁöÑÈÇ£‰∏™Êé•Âè£ÁöÑ„ÄÇÊâÄ‰ª•Ê≥®Ëß£‰∏çÂ≠òÂú®ÈóÆÈ¢ò„ÄÇ ÁÑ∂ÂêéÂ∞ùËØï‰∫ÜÁ¨¨‰∫åÁßçÊñπÊ≥ï„ÄÇ‰øÆÊîπÂêØÂä®Á±ªÁöÑÊâ´ÊèèÁªìÊûÑÔºö1234567@SpringBootApplication@ComponentScan(basePackages = &#123;com.example.dao&#125;)public class IpApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(IpApplication.class, args); &#125;&#125; ‰øÆÊîπ‰πãÂêéÁ°ÆÂÆû‰∏ç‰ºöÊä•Èîô‰∫Ü‰ΩÜÊòØÊúâ‰∏Ä‰∏™ÈóÆÈ¢òÂ∞±ÊòØÈô§‰∫ÜËøô‰∏™dao‰∏ãÈù¢ÁöÑÂåÖÂèØ‰ª•Ë¢´Êâ´Êèè‰πãÂêéÂÖ∂‰ªñÁöÑ‰æãÂ¶ÇcontrollerÂåÖÈÉΩÊó†Ê≥ïË¢´Êâ´ÊèèËøõÊù•„ÄÇÊâÄ‰ª•‰πüÊòØÊó†Ê≥ïÊ†πÊú¨Ëß£ÂÜ≥ÈóÆÈ¢òÔºå ÊúÄÂêéÊó†ÊÑèÈó¥Ê≥®ÊÑèÂà∞‰∫ÜÂú®SpringbootÁöÑÂêØÂä®Êó•Âøó‰∏≠Âá∫Áé∞‰∫Ü‰∏ÄÂè•ËØùÔºöNO Mybatis mapperXXXÂêéÈù¢ÁöÑÂÖ∑‰ΩìÂøò‰∫ÜÔºå‰πüÂ∞±ÊòØËØ¥Âú®ËøôÈáåÊ†πÊú¨Â∞±Ê≤°ÊúâÊâ´ÊèèÂà∞mapperÔºåÂêéÊù•ÂèëÁé∞ÊòØÊü•‰∫Ü‰∏Ä‰∏™jarÂåÖ12345&lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt;&lt;/dependency&gt; ‰πüÂ∞±ÊòØËøô‰∏™jarÂåÖÂØºËá¥‰∫ÜÈÇ£‰∏™mapper‰∏ÄÁõ¥Êâæ‰∏çÂà∞Ôºå‰∏çËøáÂÖ∑‰ΩìÂéüÂõ†ÂæÖÂêéÈù¢Êó∂Èó¥ÂÜçË°•ÂÖÖ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>springboot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éJavaÁ∫øÁ®ãÁöÑ‰∏Ä‰∫õÊÄùËÄÉ]]></title>
    <url>%2F2018%2F02%2F07%2F%E5%85%B3%E4%BA%8EJava%E7%BA%BF%E7%A8%8B%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83%2F</url>
    <content type="text"><![CDATA[Ê∂àË¥πËÄÖÂíåÁîü‰∫ßËÄÖÁöÑÊ®°ÂûãÔºö‰ªäÂ§©Âú®Áúã„ÄäÁé∞‰ª£Êìç‰ΩúÁ≥ªÁªü„ÄãP73È°µÁöÑ‰∏Ä‰∏™ÂÖ≥‰∫éÂ§öÁ∫øÁ®ãÁöÑÁ´ûÊÄÅÊù°‰ª∂ÁöÑÊó∂ÂÄô‰π¶‰∏≠ËØ¥Âà∞‰∫ÜÂî§ÈÜíÁ≠âÂæÖ‰ΩçÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ï‰ΩøÊàëÁ™ÅÁÑ∂ÊÉ≥Ëµ∑ËÅîÊÉ≥Âà∞‰ª•ÂâçÂú®JavaÂ§öÁ∫øÁ®ã‰∏≠sleep()ÊñπÊ≥ï‰ºöÊ∏ÖÈô§‰∏≠Êñ≠Áä∂ÊÄÅÁöÑ‰∏Ä‰∫õÁ±ª‰ºº‰πãÂ§ÑÔºöÊ†ë‰∏äÁöÑ‰ª£Á†ÅÔºö1234567891011121314151617181920212223#definde N 100int count =0;void producer(void)&#123;int item;while(True)&#123; item=producer_item(); if (count == N) sleep(); insert_item(item); count=count+1; if (count == 1 )wakeup(consumer);&#125;&#125;void consumer(void)&#123; int item; while(true)&#123; if (count == 0)sleep(); item =remove_item(); count=count -1; if (count == N-1) wakeup(producer); consumer_item() &#125;&#125; Âú®‰π¶‰∏≠ÊèêÂà∞Ëøá‰∏Ä‰∏™ÊÉÖÂÜµÂ∞±ÊòØÔºöÂΩìÊ∂àË¥πËÄÖÂà§Êñ≠count==0ÁöÑÊó∂ÂÄôÊòØ‰ºöÁù°Áú†ÁöÑÔºå‰ΩÜÊòØÊ≠§Êó∂Áî±‰∫éÊüêÁßçÊÉÖÂÜµ(Á∫øÁ®ãÁöÑsleep()ÊñπÊ≥ïËøòÊ≤°Ë¢´ÊâßË°åÂÆå)ÔºåËÄåÊÅ∞Â∑ßÁîü‰∫ßËÄÖÂèàÁîü‰∫ß‰∫Ü‰∏Ä‰∏™itemÔºåÂØºËá¥Ê≠§Êó∂countÂä†‰∏Ä‰∏∫1ÔºåËÄåÂΩìcount‰∏∫1ÁöÑÊó∂ÂÄôÁîü‰∫ßËÄÖÊòØ‰ºöÂèëÂá∫‰∏Ä‰∏™wakeup‰ø°Âè∑ÁªôÊ∂àË¥πËÄÖÁöÑÔºåÊ≠§Êó∂ÔºåÁî±‰∫éÊ∂àË¥πËÄÖÂπ∂Ê≤°ÊúâÁù°Áú†Âõ†Ê≠§‰ºöÂøΩÁï•ÊéâËØ•‰ø°Âè∑ÔºåËÄåÂΩìÊ∂àË¥πËÄÖÁúüÊ≠£Áù°Áú†‰πãÂêéÂèàÁî±‰∫éÁîü‰∫ßËÄÖÂÜç‰∏ç‰ºöËøõË°åÈÄöÁü•ÔºåÂØºËá¥ÈòüÂàóË¢´Áîü‰∫ßËÄÖÂ°ûÊª°Ôºå‰ªéËÄåËØ•Ê®°ÂûãÈòªÂ°û„ÄÇÈÇ£‰πà‰∏∫‰∫ÜËß£ÂÜ≥ËØ•ÊñπÊ≥ïÔºå‰π¶‰∏≠ÂºïÂÖ•‰∫ÜÂî§ÈÜíÁ≠âÂæÖ‰ΩçÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ïÂ∞±ÊòØÂú®Áîü‰∫ßËÄÖÂèëÂá∫‰ø°Âè∑ÁªôÊ∂àË¥πËÄÖÁöÑÊó∂ÂÄôÊ∑ªÂä†‰∏Ä‰∏™‰∏≠Êñ≠Áä∂ÊÄÅÔºåËÄåÂΩìËØ•Á∫øÁ®ãÈúÄË¶ÅËøõË°åÁù°Áú†ÁöÑÊó∂ÂÄô‰ºöÂÖàÂà§Êñ≠Áä∂ÊÄÅÔºåËã•ÊòØwakeupÂàô‰∏çËøõË°åÁù°Áú† JavaÂ§öÁ∫øÁ®ã‰∏≠ÁöÑÂºïÁî®ÔºöÂú®Java‰∏≠Ë∞ÉÁî®interrupt()ÊñπÊ≥ïÁöÑÂéüÁêÜ‰πüÊòØÁ±ª‰ººÁöÑÔºåËÆæÁΩÆ‰∏Ä‰∏™‰∏≠Êñ≠Áä∂ÊÄÅÔºå‰ΩÜÊòØËøôÊ†∑ÂÅöÁöÑÂéüÂõ†ÊòØ‰∏∫‰∫ÜÂÆâÂÖ®Ëµ∑ËßÅÔºåÂõ†‰∏∫ÈÄöËøáÂÖ∂‰ªñÁöÑÁ∫øÁ®ãÊù•‰∏≠Êñ≠Âè¶‰∏Ä‰∏™Á∫øÁ®ãÊòØÂèäÂÖ∂‰∏çÂÆâÂÖ®ÁöÑÔºåÂú®ÂÖ∂‰ªñÁ∫øÁ®ãÂèëÂá∫‰∏≠Êñ≠‰ø°Âè∑ÁöÑÊó∂ÂÄôÔºåÂÆÉÂπ∂‰∏ç‰ºöÁü•ÈÅìÂè¶‰∏Ä‰∏™Á∫øÁ®ãÁõÆÂâçÊ≠£Âú®ÂÅö‰ªÄ‰πà‰∫ãÊÉÖÔºåÊâÄ‰ª•ÂÆâÂÖ®ÁöÑÂÅöÊ≥ïÊòØËÆæÁΩÆ‰∏Ä‰∏™‰∏≠Êñ≠Áä∂ÊÄÅ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Â§öÁ∫øÁ®ã</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pandasÁöÑtransformÂíåapply]]></title>
    <url>%2F2017%2F12%2F10%2Fpandas%E7%9A%84transform%E5%92%8Capply%2F</url>
    <content type="text"><![CDATA[qÂå∫Âà´transformÊòØPandasÈáåÈù¢GroupbyÁöÑ‰∏Ä‰∏™ÊñπÊ≥ïÔºå‰∏ªË¶Å‰ΩúÁî®ÊòØÂØπgroupby‰πãÂêéÁöÑdataframeËøõË°åÂ§ÑÁêÜÔºåÊé•Êî∂ÁöÑÂèÇÊï∞‰∏Ä‰∏™ÊòØ‰∏Ä‰∏™Series1234567891011121314In [18]: df = pd.DataFrame(&#123;'B': ['one', 'one', 'two', 'three','two', 'two', 'one', 'three'], ...: 'C': [1,2,3,4,5,6,7,8], 'D': [11,12,13,14,15,16,17,18]&#125;)In [19]: dfOut[19]: B C D0 one 1 111 one 2 122 two 3 133 three 4 144 two 5 155 two 6 166 one 7 177 three 8 18 ÈÇ£‰πàÈúÄË¶ÅÂØπÂÖ∂groupby‰πãÂêéÊ±ÇCÁöÑÂπ≥ÂùáÂÄºÊÄé‰πàÂäû12345678910111213141516171819n [23]: df.groupby(&apos;B&apos;).transform(lambda x : x.mean())Out[23]: C D0 3 131 3 132 4 143 6 164 4 145 4 146 3 137 6 16In [24]: df.groupby(&apos;B&apos;).apply(lambda x : x.mean())Out[24]: C DBone 3.333333 13.333333three 6.000000 16.000000two 4.666667 14.666667 ÂêåÊ†∑ÊòØ‰∏Ä‰∏™lambdaË°®ËææÂºèÔºåÈÇ£‰πà‰∏∫‰ªÄ‰πà‰ºöÂá∫Áé∞‰∏§Áßç‰∏çÂêåÁöÑÁªìÊûúÔºö1234567891011121314151617181920212223242526272829303132333435363738In [40]: df1 = pd.DataFrame(&#123;&apos;B&apos;: [&apos;one&apos;, &apos;two&apos;, &apos;three&apos;,&apos;four&apos;], ...: &apos;C&apos;: [1,2,1,1], &apos;D&apos;: [11,12,13,14]&#125;)In [41]: df1Out[41]: B C D0 one 1 111 two 2 122 three 1 133 four 1 14In [42]: def fun1(x): ...: print x ...: In [43]: print df1.groupby(&apos;C&apos;).transform(fun1)0 one2 three3 fourName: B, dtype: object0 112 133 14Name: D, dtype: object B D0 one 112 three 133 four 141 twoName: B, dtype: object1 12Name: D, dtype: object B D0 one 111 two 122 three 133 four 14 ‰ªé‰∏äÈù¢ÂèØ‰ª•ÂèëÁé∞trandformÊØèÊ¨°‰º†ÂÖ•ÁöÑÊòØ‰∏Ä‰∏™seriesÔºåÂç≥ÊåâÁÖßCÂàÜÁªÑ‰πãÂêéÔºåÈ¶ñÂÖà‰º†ÂÖ•ÁöÑÊòØ‚ÄòB‚ÄôÂàóÔºåÁÑ∂ÂêéÊòØ‚ÄòD‚ÄôÂàóÔºåÁÑ∂ÂêéÊòØ‚ÄôB‚Äô‚ÄôD‚ÄôÂàóÔºåÈÇ£‰πàÂØπ‰∫éapplyÊù•ËØ¥‰ªñ‰º†ÂÖ•ÁöÑÊòØ‰ªÄ‰πàÂë¢Ôºö123456789101112131415In [45]: df1.groupby(&apos;C&apos;).apply(fun1) B C D0 one 1 112 three 1 133 four 1 14 B C D0 one 1 112 three 1 133 four 1 14 B C D1 two 2 12Out[45]: Empty DataFrameColumns: []Index: [] ÊâìÂç∞ÁªìÊûúÂ¶Ç‰∏äÔºåËØ¥ÊòéapplyÂíåtransformÂú®Êé•ÂèóÂèÇÊï∞‰∏äÁöÑÂ∑ÆÂºÇ(‰∏Ä‰∏™Êé•ÂèóÁöÑÊòØDataFrameÔºå‰∏Ä‰∏™ÊòØSeries)Ôºå‰∏äÂõæ‰∏≠ÁöÑÊâìÂç∞Á¨¨‰∏Ä‰∏™ÂíåÁ¨¨‰∫å‰∏™ÈáçÂ§çÈóÆÈ¢òÂæÖ‰ºöÂÜçËß£ÈáäÔºåÈÇ£‰πàÂÅáËÆæÊúâÂ¶Ç‰∏ãÁöÑlambdaË°®ËææÂºèÔºö lambda x : return [‚ÄòC‚Äô]-x[‚ÄòD‚Äô]ÁªìÊûú‰ºöÊÄéÊ†∑ÊòæÁ§∫? Êñ∞Â¢ûÂä†‰∏ÄÂàóÔºö123456789101112131415In [49]: df1[&apos;E&apos;]=20In [50]: df1Out[50]: B C D E0 one 1 11 201 two 2 12 202 three 1 13 203 four 1 14 20In [51]: df1.groupby(&apos;C&apos;).transform(lambda x :(x[&apos;D&apos;]-x[&apos;E&apos;]))Out[51]: B D E0 one 11 201 two 12 202 three 13 203 four 14 20 ÈÇ£‰πàÂá∫Áé∞ËøôÊ†∑ÁöÑÊÉÖÂÜµÁöÑÂéüÂõ†ÊòØ‰ªÄ‰πàÂë¢ÔºüÂ¶ÇÂâçÈù¢ÊâÄÁ§∫ÁöÑÔºåtransform‰º†ÂÖ•ÁöÑÊòØ‰∏Ä‰∏™series]]></content>
  </entry>
  <entry>
    <title><![CDATA[pandasÁöÑÊìç‰Ωú‰ΩøÁî®]]></title>
    <url>%2F2017%2F12%2F03%2Fpandas%E7%9A%84%E6%93%8D%E4%BD%9C%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[pandasËØªÂèñcsvÊñá‰ª∂Âú®pandasËØªÈáåÈù¢ÂåÖÂê´‰∫ÜÂá†‰∏™ÂáΩÊï∞ÂàÜÂà´Áî®Êù•ËØªÂèñcsvÊàñËÄÖexcelÊñá‰ª∂Ôºöread_csvÊñπÊ≥ïÁî®Êù•ËØªÂèñ‰∏Ä‰∏™csvÊñá‰ª∂‰∏ÄËà¨Â∏∏Áî®ÂèÇÊï∞ÊòØpath:Áî®‰∫éÊåáÂÆö‰∏Ä‰∏™Êñá‰ª∂ÂèäÂÖ∂ÁõÆÂΩïsepË°®Á§∫ËØªÂèñËØ•csvÊñá‰ª∂ÁöÑÊó∂ÂÄôÊòØ‰ª•‰ªÄ‰πàÂà∂Ë°®Á¨¶ËØªÂèñÁöÑÔºå‰∏ÄËà¨ÊòØ‚Äô,‚ÄôusecolsË°®Á§∫ÈúÄË¶ÅËØªÂèñcsvÁöÑÂ§öÂ∞ëÂàóÔºåËøôÊòØ‰∏Ä‰∏™ÁªùÂØπÁ¥¢ÂºïÔºå0‰ª£Ë°®ÁöÑÊòØÁ¨¨‰∏ÄÂàóÔºåÂèÇÊï∞‰∏∫‰∏Ä‰∏™list PandasÁöÑÁªìÊûÑÔºöpandasÁªèÂ∏∏‰ΩøÁî®ÁöÑÁªìÊûÑ‰∏ÄËà¨ÊòØdataframeÂíåseries,DataFrameÁ±ª‰ºº‰∫é‰∫åÁª¥Êï∞ÁªÑÔºåÊàñËÄÖsqlÈáåÈù¢ÁöÑ‰∏ÄÂº†Ë°®ÔºåËã•Âú®ÂàõÂª∫ÁöÑÊó∂ÂÄô‰∏∫ÊåáÂÆöÁ¥¢ÂºïÁöÑËØùÂàôÈªòËÆ§‰ªé0ÂºÄÂßã‰∏ÄÊ¨°ÈÄíÂ¢û‰∏∫Á¥¢ÂºïÔºö123456789101112import pandas as pdIn [15]: df_2=pd.DataFrame(data=['a','b','c'])In [16]: df_2Out[16]: 00 a1 b2 cÁî®‰∏äËø∞ÊñπÂºèÂàõÂª∫ÁöÑÊó∂ÂÄôÊòØ‰∏çÈúÄË¶ÅÊåáÂÆöindexÁöÑÔºå‰ΩÜÊòØÁî®Ê†áÈáèÂàõÂª∫ÁöÑÊó∂ÂÄôÊòØÈúÄË¶ÅÊåáÂÆöindexÁöÑÔºöpd.DataFrame(&#123;'a':'A','b':'B'&#125;)ValueError: If using all scalar values, you must pass an index Âü∫Êú¨ÂÆû‰æãÔºöËØªÂèñÂåó‰∫¨2017Âπ¥07Êúà01Êó•ÁöÑÁ©∫Ê∞îË¥®ÈáèÊÉÖÂÜµÔºö123456789101112 df_20170101 =pd.read_csv(path,sep=&apos;,&apos;,decimal=&apos;,&apos;,usecols=[0,1,2,3,4,5,6,7,8,9]) #pathÊòØÊàëÁöÑÊñá‰ª∂Âú∞ÂùÄ date hour type dongfour Â§©Âùõ ÂÆòÂõ≠ ‰∏áÂØøË•øÂÆ´ Â••‰Ωì‰∏≠ÂøÉ ÂÜúÂ±ïÈ¶Ü ‰∏áÊü≥0 20170101 22 PM2.5 469 357 476 416 453 398 4681 20170101 22 PM2.5_24h NaN NaN NaN NaN NaN NaN NaN2 20170101 22 PM10 594 449 548 474 467 469 5183 20170101 22 PM10_24h NaN NaN NaN NaN NaN NaN NaN4 20170101 22 AQI 494 405 484 444 469 432 4795 20170101 23 PM2.5 470 351 500 403 417 392 4596 20170101 23 PM2.5_24h NaN NaN NaN NaN NaN NaN NaN7 20170101 23 PM10 558 467 583 469 443 480 5298 20170101 23 PM10_24h NaN NaN NaN NaN NaN NaN NaN9 20170101 23 AQI 480 401 500 435 445 428 473 ÂÅáËÆæÈúÄË¶ÅËé∑ÂèñÂ§©ÂùõÁöÑ22ÁÇπÂà∞23ÁÇπÊÉÖÂÜµÔºåÈÇ£‰πàÂè™ÈúÄË¶Å‰ΩøÁî®df_20170101[‚ÄòÂ§©Âùõ‚Äô]Ôºö123456789100 3571 NaN2 4493 NaN4 4055 3516 NaN7 4678 NaN9 401 ËøôÂ∞±ÊòØpandasÁöÑÂè¶‰∏ÄÁßçÁªìÊûÑÔºöseriesÔºåÁ±ª‰ºº‰∫é‰∏Ä‰∏™Á´ñÁùÄÂú∞Êï∞ÁªÑÔºåÈÇ£‰πàÂÅáËÆæÁé∞Âú®ÈúÄË¶ÅËé∑ÂèñÂ§©ÂùõÁöÑ22ÁÇπÁöÑpm2.512345678‰∏ÄÁßçÊñπÂºèÊòØÁü•ÈÅìÁ¥¢Âºï:In [6]: df_20170101.loc[0][&apos;Â§©Âùõ&apos;]Out[6]: 357.0‰∏ÄÁßçÂàôÊòØËé∑Âèñ22ÁÇπÂπ∂‰∏îtype‰∏∫PM2.5ÁöÑÊó∂ÂÄôÁöÑÂ§©ÂùõIn [7]: df_20170101.loc[(df_20170101[&apos;hour&apos;]==22) &amp; (df_20170101[&apos;type&apos;]==&apos;PM2.5&apos;),&apos;Â§©Âùõ&apos;]Out[7]: 0 357Name: Â§©Âùõ, dtype: float64 ÈÇ£‰πàËøô‰∏™Êï∞ÊçÆ‰∏≠ÊúâÂæàÂ§öÁöÑNaNÂÄºÔºåÂÖ∂‰∏≠PM2.5_24hÁöÑÂÄºÂèëÁé∞ÈÉΩ‰∏∫NaNÔºåÂàôËøô‰∏™ÂÄºÂÖ∂ÂÆûÊòØÂèØ‰ª•Ë¢´ÂâîÈô§ÁöÑÔºåÈÇ£‰πàÂ∏∏Áî®ÁöÑÂÅöÊ≥ïÂ∞±ÊòØÔºö12345678910111213141516171819202122232425In [8]: df_20170101.loc[~df_20170101[&apos;dongfour&apos;].isnull()]Out[8]: date hour type dongfour Â§©Âùõ ÂÆòÂõ≠ ‰∏áÂØøË•øÂÆ´ Â••‰Ωì‰∏≠ÂøÉ ÂÜúÂ±ïÈ¶Ü ‰∏áÊü≥0 20170101 22 PM2.5 469 357 476 416 453 398 4682 20170101 22 PM10 594 449 548 474 467 469 5184 20170101 22 AQI 494 405 484 444 469 432 4795 20170101 23 PM2.5 470 351 500 403 417 392 4597 20170101 23 PM10 558 467 583 469 443 480 5299 20170101 23 AQI 480 401 500 435 445 428 473Ëá≥‰∫é‰∏∫‰ªÄ‰πàÈÄâÊã©dongfourÊòØÂõ†‰∏∫ÈÄâÊã©ÂÖ∂‰ªñÁöÑ‰πüÊòØ‰∏ÄÊ†∑ÁöÑÔºåÈÉΩÂèØ‰ª•Ôºå‰ΩÜÊòØÂ¶ÇÊûúÈúÄË¶ÅÂ∞ÜNaNÁöÑÂÄºÊõøÊç¢Êàê0ÁöÑËØùÂè™ÈúÄË¶ÅÊâßË°åIn [9]: df_20170101.fillna(0)Out[9]: date hour type dongfour Â§©Âùõ ÂÆòÂõ≠ ‰∏áÂØøË•øÂÆ´ Â••‰Ωì‰∏≠ÂøÉ ÂÜúÂ±ïÈ¶Ü ‰∏áÊü≥0 20170101 22 PM2.5 469 357 476 416 453 398 4681 20170101 22 PM2.5_24h 0 0 0 0 0 0 02 20170101 22 PM10 594 449 548 474 467 469 5183 20170101 22 PM10_24h 0 0 0 0 0 0 04 20170101 22 AQI 494 405 484 444 469 432 4795 20170101 23 PM2.5 470 351 500 403 417 392 4596 20170101 23 PM2.5_24h 0 0 0 0 0 0 07 20170101 23 PM10 558 467 583 469 443 480 5298 20170101 23 PM10_24h 0 0 0 0 0 0 09 20170101 23 AQI 480 401 500 435 445 428 473Â∞±‰ºöÂ∞ÜNaNÂÄºÂÖ®ÈÉ®ËΩ¨‰∏∫0 GroupÂÆû‰æãÔºöËã•Áé∞Âú®ÈúÄË¶ÅÁªüËÆ°dongfourÁöÑ22Âà∞23ÁÇπÁöÑPM2.5Âπ≥ÂùáÂÄºÔºåÈÇ£‰πàÈúÄË¶ÅÂØπtypeËøõË°ågroupby:123456789101112In [29]: df_20170101[&apos;dongfourmean&apos;]=df_20170101.groupby(&apos;type&apos;)[&apos;dongfour&apos;].apply(lambda x : pd.Series(np.mean(x),index=x.index))In [30]: df_20170101Out[30]: date hour type dongfour Â§©Âùõ ÂÆòÂõ≠ Â••‰Ωì‰∏≠ÂøÉ ÂÜúÂ±ïÈ¶Ü ‰∏áÊü≥ dongfourmean0 20170101 22 PM2.5 469 357 476 453 398 468 469.52 20170101 22 PM10 594 449 548 467 469 518 576.04 20170101 22 AQI 494 405 484 469 432 479 487.05 20170101 23 PM2.5 470 351 500 417 392 459 469.57 20170101 23 PM10 558 467 583 443 480 529 576.09 20170101 23 AQI 480 401 500 445 428 473 487.0Âõ†‰∏∫df_20170101[&apos;dongfourmean&apos;]ÊòØ‰∏Ä‰∏™SeriesÊâÄ‰ª•ËøîÂõûÁöÑÊó∂ÂÄô‰πüÊòØÈúÄË¶ÅSeries Ëã•Áé∞Âú®ÈúÄË¶ÅÊ±ÇÁöÑÊòØdongfourÂà∞‰∏áÊü≥ÁöÑ22ÁÇπÁöÑPM2.5Âπ≥ÂùáÂÄºÂàôÊòØÂèØ‰ª•ÂÖàÂØπdf_20170101ËøõË°å‰∏Ä‰∏™ËΩ¨ÁΩÆÊìç‰ΩúÔºö12345678910111213141516In [35]: df_TOut[35]: 0 2 4 5 7 9date 20170101 20170101 20170101 20170101 20170101 20170101hour 22 22 22 23 23 23type PM2.5 PM10 AQI PM2.5 PM10 AQIdongfour 469 594 494 470 558 480Â§©Âùõ 357 449 405 351 467 401ÂÆòÂõ≠ 476 548 484 500 583 500Â••‰Ωì‰∏≠ÂøÉ 453 467 469 417 443 445ÂÜúÂ±ïÈ¶Ü 398 469 432 392 480 428‰∏áÊü≥ 468 518 479 459 529 473dongfourmean 469.5 576 487 469.5 576 487In [38]: np.mean(df_T.ix[3:8][0])Out[38]: 430.60000000000002 Ê≥®ÊÑèÁªÜËäÇÔºöpandasËøõË°ågroup‰πãÂêéÊòØ‰∏çÂèØ‰ª•Âú®Áî®locËøõË°åÊìç‰ΩúÁöÑÔºåÂç≥Âú®pandasÈáåÈù¢GroupBy objectsËøõË°å‰∏Ä‰∫õÊìç‰ΩúÁöÑËØùÂèØ‰ª•ÈááÁî®applyÔºåËÄå‰∏çËÉΩ‰ΩøÁî®locËã•ÈùûË¶Å‰ΩøÁî®locÂàôÂú®‰ΩøÁî®groups‰πãÂêéËΩ¨ÂåñÊàê‰∏Ä‰∏™dataframe‰πãÂêéÂÜçËøõË°å‰∏Ä‰∫õdataframeÁöÑÊìç‰Ωú]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>pandas</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éÊµÅÂíåÂ§öÊÄÅÁöÑ‰∏Ä‰∫õËÆ∞ÂΩï]]></title>
    <url>%2F2017%2F11%2F10%2F%E5%85%B3%E4%BA%8E%E6%B5%81%E5%92%8C%E5%A4%9A%E6%80%81%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[ÊµÅÁöÑËØªÂèñÈóÆÈ¢òread()ÊñπÊ≥ïread()ÊñπÊ≥ïÁªèÂ∏∏Áî®‰∫éËØªÂèñ‰∏Ä‰∏™byteÊï∞ÁªÑÊàñËÄÖcharÊï∞ÁªÑÔºåÂÖ∂ÂÜÖÈÉ®ÁöÑÊñπÊ≥ïÂ¶Ç‰∏ãÔºö123public final int read(byte b[]) throws IOException &#123; return in.read(b, 0, b.length);&#125; È¶ñÂÖàÂú®ËØªÂèñÂ≠óËäÇÊµÅÁöÑÊó∂ÂÄôÊòØÊâÄÊúâÁöÑÂ≠óËäÇÊµÅÁöÑÈ°∂Á∫ßÁ±ªÁöÑÊòØInputStreamÊäΩË±°Á±ªÔºåËÄåÁªßÊâøËá™InputstreamÁöÑÁ±ªÈÉΩÊòØÂ∏¶ÊúâreadÊñπÊ≥ïÔºåÊØè‰∏Ä‰∏™Á±ªÂá†‰πé‰∏¢ÈáçÂÜô‰∫ÜËá™Â∑±ÁöÑreadÊñπÊ≥ïÔºåËÄåËøôÂ∞±ÊòØÂ§öÊÄÅÁöÑ‰∏ÄÁßç‰ΩìÁé∞„ÄÇ ÂÖ≥‰∫ésocket.getInputStream()ÊñπÊ≥ïËé∑ÂèñÁöÑInputStreamËøô‰∏™Ëé∑ÂèñÁöÑËæìÂÖ•ÊµÅÊòØSocketInputStream,Âú®Ëøô‰∏™Á±ªÈáåÈù¢Êúâ‰∏Ä‰∏™ÂèòÈáèÂ∞±ÊòØprivate boolean eof;Ëøô‰∏™ÂèòÈáèÂú®readÊñπÊ≥ï‰∏≠ÂèØ‰ª•Áî®‰∫éÂà§Êñ≠Êñá‰ª∂ÊòØÂê¶Â∑≤ÁªèÂà∞Â∞æ‰∫Ü123456789int read(byte b[], int off, int length, int timeout) throws IOException &#123; int n; // EOF already encountered if (eof) &#123; return -1; &#125; //ÁúÅÁï•ÂêéÈù¢ÊñπÊ≥ï &#125; Â§öÊÄÅÔºöÂÖ∂ÂÆûÂú®javaÁöÑÂ≠óËäÇÊµÅÂ§ÑÁêÜÁ±ª‰∏≠Â∞±ÂæàÂ•ΩÁöÑÂà©Áî®‰∫ÜÂ§öÊÄÅÔºå‰ª•ÂâçÂè™ÊòØ‰∫ÜËß£‰ΩÜÊòØÂÆûÈôÖ‰ΩøÁî®ÁöÑ‰∏çÂ§ö„ÄÇËÄå‰∏îÊúÄÈáçË¶ÅÁöÑÊòØÁà∂Á±ªÁöÑÈùôÊÄÅÂèòÈáèÂ≠êÁ±ªÊòØÂèØ‰ª•Áõ¥Êé•ÁªßÊâøËøáÊù•ÁöÑ]]></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éJavaÁöÑHashMap]]></title>
    <url>%2F2017%2F11%2F09%2F%E5%85%B3%E4%BA%8EJava%E7%9A%84HashMap%2F</url>
    <content type="text"><![CDATA[MapÊé•Âè£Ôºö Âú®mapÊé•Âè£‰∏≠ÁöÑÂ≠òÂú®‰∏Ä‰∏™‰∏ªÊé•Âè£Ôºöpublic interface Map Âíå‰∏Ä‰∏™ÂÜÖÈÉ®Êé•Âè£Ôºöinterface Entry ÂÖ∂‰∏≠MapÊé•Âè£‰∏ªË¶ÅÂäüËÉΩÊòØÊèê‰æõmapÁöÑ‰∏Ä‰∫õÂü∫Êú¨ÁöÑÊìç‰ΩúÔºå‰æãÂ¶Çput,inEmpty,getÁ≠âÔºåËÄåEntryÊé•Âè£Âàô‰∏ªË¶ÅÊòØË¥üË¥£ÈÅçÂéÜÊìç‰ΩúÊó∂ÁöÑ‰∏Ä‰∫õÊñπÊ≥ïÔºå‰æãÂ¶ÇgetKey(),getValue()ÔºåsetValueÁ≠â #HashMapÂÆûÁé∞Á±ªÔºö Âú®HaspMapËøô‰∏™Á±ªÈáåÈù¢ÂÖ∂ÂÆûÂåÖÂê´‰∫ÜÂæàÂ§öÁöÑÂÜÖÈÉ®Á±ªÔºöÂ¶Ç‰∏ãÂõæÔºö1234567891011121314NodeHashMapKeySetKeySpliteratorEntrySetValuesHashIteratorKeyIteratorValueIteratorEntryIteratorHashMapSpliteratorValueSpliteratorEntrySpliteratorTreeNode TreeNodeÁ±ªÔºö TreeNodeÁ±ªÊòØ‰∏Ä‰∏™Á∫¢ÈªëÊ†ëÔºöÈáåÈù¢ÂåÖÂê´ÁöÑÊòØ‰∏Ä‰∫õÁ∫¢ÈªëÊ†ëÁöÑÊìç‰ΩúÔºõEntrySetÁ±ªÔºö EntrySetÁ±ªÊòØÊèê‰æõ‰∏Ä‰∏™HashMapÁöÑÈÅçÂéÜÊñπÂºèÁöÑ‰∏Ä‰∏™Á±ªÔºåEntrySetÁ±ªÈáåÈù¢ÊúâiteratorÊñπÊ≥ïÔºåÂÖ∂‰ΩúÁî®Âú®‰∫émapÁöÑ‰∏ÄÁßçÈÅçÂéÜÊñπÂºèÔºö12345Iterator iterator =map.entrySet().iterator();while (iterator.hasNext())&#123; Map.Entry&lt;Object,Object&gt; map1 = (Map.Entry&lt;Object, Object&gt;) iterator.next(); System.out.println(map1.getKey());&#125; ËøôÈáåÊ∂âÂèäÁöÑÁü•ËØÜÊòØEntrySetÊòØÁªßÊâø‰∫ÜAbstractSetÈó¥Êé•ÂÆûÁé∞‰∫ÜSetÊé•Âè£ÔºåËÄåmap.entrySet()ÊñπÊ≥ïËøîÂõûÁöÑÊòØ‰∏Ä‰∏™Set&lt;Map.Entry&lt;K,V&gt;&gt;Ëøô‰∏™ÂÆû‰æã„ÄÇ ÂÖ∂‰ªñÁöÑÊöÇÊó∂Ëøò‰∏çÁü•ÈÅìÊúâ‰ªÄ‰πàÁî®ÂÖ≥‰∫éHashMapÁöÑÂÖ∂‰ªñÁªÜËäÇÊØè‰∏ÄÊâ©ÂÆπÈÉΩÊòØ2ÁöÑnÊ¨°ÊñπÔºöÈ¶ñÂÖà‰∏∫‰ªÄ‰πàÊØè‰∏ÄÊ¨°ÈÉΩÊòØ2ÁöÑnÊ¨°ÊñπËøôÊòØÁî±‰∫éhashÂáΩÊï∞ÂØºËá¥ÁöÑÔºåÂÅáËÆæ‰∏Ä‰∏™ÂÄºÊòØ1001ÔºåÈÇ£‰πàÂè¶‰∏Ä‰∏™ÂÄºÂèØ‰ª•ÊòØ1101,1011,1111ÔºåËøô‰∏âÁßçÊÉÖÂÜµÂÅö‰∏îËøêÁÆóÁöÑËØùÁªìÊûúÈÉΩÊòØ1001ÔºåÂèëÁîü‰∫Ü‰∏âÊ¨°Á¢∞ÊíûÔºåÈÇ£‰πàÂÅáËÆæÂõ∫ÂÆöÂÄºÊòØ2ÁöÑnÊ¨°ÊñπÁöÑËØùÔºåÂáè‰∏Ä‰πãÂêéÊòØ1111ÔºåÊäò‰∏â‰∏™Êï∞‰∏éÂÖ∂ÂÅö‰∏îËøêÁÆóÁöÑËØùÈÉΩ‰∏ç‰ºöÁõ∏ÂêåÔºåÊâÄ‰ª•‰ºöËæÉÂ∞èÁ¢∞ÊíûÊ¨°Êï∞„ÄÇ ÂÖÅËÆ∏null‰Ωú‰∏∫ÈîÆ/ÂÄºÈÇ£‰πàÁõ¥Êé•Áúã‰ª£Á†ÅÔºö123456789101112131415161718192021222324252627public V get(Object key) &#123; Node&lt;K,V&gt; e; return (e = getNode(hash(key), key)) == null ? null : e.value; &#125; static final int hash(Object key) &#123; int h; return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16); &#125; final Node&lt;K,V&gt; getNode(int hash, Object key) &#123; Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n; K k; if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp; (first = tab[(n - 1) &amp; hash]) != null) &#123; if (first.hash == hash &amp;&amp; // always check first node ((k = first.key) == key || (key != null &amp;&amp; key.equals(k)))) return first; if ((e = first.next) != null) &#123; if (first instanceof TreeNode) return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key); do &#123; if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) return e; &#125; while ((e = e.next) != null); &#125; &#125; return null; &#125; ÂæàÊòéÊòæÂΩìÊàë‰ª¨‰º†ÂÖ•ÁöÑÂèÇÊï∞ÊòØnullÂæóÊó∂ÂÄôhashÁöÑÂÄºÊòØ0ÁöÑÊó∂ÂÄôfirst = tab[(n - 1) &amp; hash]Ëøô‰∏™firstÊ∞∏ËøúÊòØtab[0];‰ΩÜÊòØÂèàÁî±‰∫étabÁöÑÈïøÂ∫¶ÊòØ2ÁöÑnÊ¨°Êñπ,ÊâÄ‰ª•tab[0]ËÇØÂÆöÊòØnullÔºåÊâÄ‰ª•ÂΩìÈîÆÊòØnullÁöÑÊó∂ÂÄôÂæóÂà∞ÁöÑ‰πüÊòØnull„ÄÇ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ÈõÜÂêà</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éArrayListÁöÑÊâÄËßÅÊâÄÊÉ≥]]></title>
    <url>%2F2017%2F11%2F07%2F%E5%85%B3%E4%BA%8EArrayLIst%E7%9A%84%E6%89%80%E8%A7%81%E6%89%80%E6%83%B3%2F</url>
    <content type="text"><![CDATA[ÂÖ≥‰∫éArrrayListÊâ©ÂÆπÔºö ‰ªäÂ§©Âú®Èù¢ËØïÁöÑÊó∂ÂÄôÈù¢ËØïÂÆòÊèêÂà∞ËøáArrayListÊâ©ÂÆπÊòØÂéüÊù•ÁöÑ1.5ÂÄçÂä†‰∏ÄÔºå‰ΩÜÊòØÊàëÁúãjdk1.8ÁöÑÊó∂ÂÄôÊòØÊòæÁ§∫‰∏∫1.5ÂÄç Êü•ÁúãÊ∫êÁ†ÅÔºö 123456789101112//Java1.8ÁöÑÊâ©ÂÆπÊñπÊ≥ïprivate void grow(int minCapacity) &#123; // overflow-conscious code int oldCapacity = elementData.length; int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1); if (newCapacity - minCapacity &lt; 0) newCapacity = minCapacity; if (newCapacity - MAX_ARRAY_SIZE &gt; 0) newCapacity = hugeCapacity(minCapacity); // minCapacity is usually close to size, so this is a win: elementData = Arrays.copyOf(elementData, newCapacity); &#125; ÈÇ£‰πàArrayList‰ºöÊòØÊâ©ÂÖÖ1.5ÂÄç‰πãÂêéÂä†‰∏ÄÂë¢Ôºü ‰∫éÊòØÁøªÁúã‰ª•ÂâçÁöÑjdkÊ∫êÁ†ÅÔºåÂèëÁé∞Âú®jdk1.6ÁöÑÊó∂ÂÄôÂÖ∂‰ª£Á†ÅÁ°ÆÂÆûÊòØ+1‰∫Ü 12345678910111213// java1.6ÁâàÊú¨ÁöÑÊâ©ÂÆπÊñπÊ≥ïpublic void ensureCapacity(int minCapacity) &#123; modCount++; int oldCapacity = elementData.length; if (minCapacity &gt; oldCapacity) &#123; Object oldData[] = elementData; int newCapacity = (oldCapacity * 3)/2 + 1; if (newCapacity &lt; minCapacity) newCapacity = minCapacity; // minCapacity is usually close to size, so this is a win: elementData = Arrays.copyOf(elementData, newCapacity); &#125; &#125; ÂÖ≥‰∫éÂÖ∂Êâ©ÂÆπÂÖ∑‰ΩìÂÅöÊ≥ïÔºöjdk1.8 ÂÖ∂Ê¨°ÂÜçjdk1.8‰∏≠ÁöÑArrayListÁöÑ‰∏Ä‰∫õÂàÜÊûêÔºö È¶ñÂÖàÈúÄË¶ÅÂêëList‰∏≠Ê∑ªÂä†ÂÖÉÁ¥†ÁöÑÊó∂ÂÄôÔºö Ë∞ÉÁî® boolean add(E e); Ëøô‰∏™ÊñπÊ≥ïÈ¶ñÂÖà‰ºöË∞ÉÁî® ensureCapacityInternal(int)ÊñπÊ≥ï 1234567private void ensureCapacityInternal(int minCapacity) &#123; if (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123; minCapacity = Math.max(DEFAULT_CAPACITY, minCapacity); &#125; ensureExplicitCapacity(minCapacity);&#125; ÂΩìÁ¨¨‰∏ÄÊ¨°Ë∞ÉÁî®ÁöÑÊó∂ÂÄôÂõ†‰∏∫Âú®ÊûÑÈÄ†ÊñπÊ≥ïÈáåÈù¢Â∑≤ÁªèÂ∞ÜËÆæÁΩÆ‰∏∫‚ÄôelementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA‚Äô ÊâÄ‰ª•Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî®ÁöÑÊó∂ÂÄôÊòØÁõ¥Êé•Êé•ÁùÄË∞ÉÁî®‚Äôprivate void ensureExplicitCapacity(int minCapacity)‚ÄôÊñπÊ≥ï„ÄÇ ‰ΩÜÊòØËøôÈáå‰ºöÂèëÁé∞‰∏Ä‰∏™ÈóÆÈ¢òÂ∞±ÊòØjdk1.8Âπ∂Êú™Êèê‰æõÂàùÂßãÁöÑÈªòËÆ§ÂÄºÔºå Âú®jdk1.6‰∏≠ArrayListÁöÑÊûÑÈÄ†ÊñπÊ≥ïÔºö 12345678910public ArrayList() &#123; this(10); &#125; public ArrayList(int initialCapacity) &#123; super(); if (initialCapacity &lt; 0) throw new IllegalArgumentException("Illegal Capacity: "+ initialCapacity); this.elementData = new Object[initialCapacity]; &#125; ‰ΩÜÊòØÂú®jdk1.8‰∏≠Âç¥Âπ∂Êú™ÊúâÈªòËÆ§ÁöÑÂàùÂßãÂÄºÔºö 123public ArrayList() &#123; this.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;&#125; ËÄåÊòØÊèê‰æõ‰∫Ü‰∏Ä‰∏™‰øÆÊîπÂÆπÈáèÁöÑÊñπÊ≥ïÔºö 123456789101112public void ensureCapacity(int minCapacity) &#123; int minExpand = (elementData != DEFAULTCAPACITY_EMPTY_ELEMENTDATA) // any size if not default element table ? 0 // larger than default for default empty table. It's already // supposed to be at default size. : DEFAULT_CAPACITY; if (minCapacity &gt; minExpand) &#123; ensureExplicitCapacity(minCapacity); &#125; &#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>javaÈõÜÂêà</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÆâË£ÖhexoÁöÑ‰∏Ä‰∫õÊ≥®ÊÑè‰∫ãÈ°π]]></title>
    <url>%2F2017%2F11%2F06%2F%E5%AE%89%E8%A3%85hexo%E7%9A%84%E4%B8%80%E4%BA%9B%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%2F</url>
    <content type="text"><![CDATA[ÂÆâË£ÖÊ≠•È™§Ôºö È¶ñÂÖàÂÆâË£Önpm ‚Äî ÁÑ∂ÂêéÂÆâË£Öhexo npm install hexo-cli -g ÂàùÂßãÂåñ‰∏Ä‰∏™hexoÈ°πÁõÆ hexo init blog Ê∑ªÂä†ÈÖçÁΩÆÊñá‰ª∂ pm install --save hexo-renderer-jade hexo-renderer-scss hexo-generator-feed hexo-generator-sitemap hexo-browsersync hexo-generator-archive ÂÆâË£Ö npm install Ê∑ªÂä†‰∏ªÈ¢òÊñá‰ª∂: Âú®github‰∏äÊâæÂá∫Ëá™Â∑±ÂñúÊ¨¢ÁöÑ‰∏Ä‰∏™‰∏ªÈ¢ò Áî®gitÂëΩ‰ª§clone‰∏ãÊù• Â∞ÜÊñá‰ª∂ÊîæÂà∞themesÊñá‰ª∂Â§πÔºåÁÑ∂Âêé‰øÆÊîπhexoÊñá‰ª∂ÁöÑ_config.yml Â∞ÜthemesÊñá‰ª∂Â§πÈáåÈù¢ÁöÑÈÇ£‰∏™‰∏ªÈ¢òÂêçÁß∞Ê∑ªÂä†Âà∞themeËøô‰∏™Ê†áÁ≠æ‰πãÂêé ÂèØ‰ª•Âú®themeÊñá‰ª∂Â§πÈáåÈù¢‰øÆÊîπ_config.ymlËøô‰∏™Êñá‰ª∂Êù•Ëé∑ÂæóÊÉ≥Ë¶ÅÁöÑÊïàÊûú]]></content>
      <categories>
        <category>hexoÁõ∏ÂÖ≥</category>
      </categories>
      <tags>
        <tag>‰∏™‰∫∫ËÆ∞ÂΩï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÊñáÁ´†È¢òÁõÆ]]></title>
    <url>%2F2017%2F11%2F05%2F%E6%B5%8B%E8%AF%95%E5%8D%9A%E5%AE%A2%2F</url>
    <content type="text"></content>
      <categories>
        <category>ÊµãËØï‰ΩøÁî®</category>
      </categories>
      <tags>
        <tag>Êó†ËÅäÊµãËØï</tag>
      </tags>
  </entry>
</search>
